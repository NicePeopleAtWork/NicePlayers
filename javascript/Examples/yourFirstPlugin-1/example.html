<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="content-type" content="text/html; charset=">
    <title>HTML5 Video</title>
    <!-- youboraJS -->
    <script src="http://smartplugin.youbora.com/5.0/js/libs/5.1/youboralib.js" youbora-debug="4"></script>
    <!-- Define custom plugin -->
    <script>
    $YB.plugins.Html5 = function(playerId, options) {
        // Name and version the plugin
        this.pluginName = 'html5';
        this.pluginVersion = '6.0.0-html5';

        // This method will start the library logic.
        this.init(playerId, options);

        // Register the listeners.
        this.registerListeners();
    };

    // Inherit from generic plugin
    $YB.plugins.Html5.prototype = new $YB.plugins.Generic;

    // Register listeners
    $YB.plugins.Html5.prototype.registerListeners = function() {
        var context = this;
        // Remember: 'this.player' is a reference to the player/video tag.
        this.player.addEventListener("play", function() {
            // Once the event is fired, we call hist event handler
            context.playHandler();
        });

        this.player.addEventListener("playing", function(e) {
            context.onPlaying();
        });

        this.player.addEventListener("pause", function(e) {
            context.onPause();
        });

        this.player.addEventListener("ended", function(e) {
            context.onEnded();
        });

        this.player.addEventListener("error", function(e) {
            context.onError(3001, "PLAY_FAILURE");
        });

        this.player.addEventListener("seeking", function(e) {
            context.onSeeking();
        });
    };
    </script>
</head>

<body>
    <video id="videoPlayer" controls height="315" width="560">
        <source src="http://media.w3.org/2010/05/sintel/trailer.mp4">
    </video>
    <!-- Instantiate the plugin -->
    <script>
    var plugin = new $YB.plugins.Html5('videoPlayer');
    </script>
</body>

</html>
