<!DOCTYPE html>
<html>
<head>
    <!--  Script for weinre. Put you own local IP if using it.-->
    <script src="http://192.168.2.48:8080/target/target-script-min.js"></script>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Nice264 Analytics Plugin for Philips InternetTV</title>
</head>
<body>
    <object id="videoPlayer" type="video/x-ms-wmv" width="640" height="480" data=""></object>
    <object id="drmplugin" type="application/drmagent"></object>
    <!-- Base script, device detection and script downloading and metadata-->
    <script type="text/javascript" src="http://192.168.2.48/1.1/js/libs/youbora-data.js"></script>
    <script type="text/javascript" src="http://192.168.2.48/1.1/sp/spyoubora.js"></script>


    <script type="text/javascript">
	try{

       	var systemcode = "demosite";
        var zonecode = "default";
        var origincode = "pdl";
        var resource = "/oceans-clip.mp4";
        var niceNVA = "3600";
        var niceNVB = "10";
		var secretWord = "hola";

		youboraData.setTransaction("transCodeLuis");
		youboraData.setAccountCode(systemcode);
	    youboraData.setUsername('luismi');
	    youboraData.setService('http://nqs.nice264.com');
	    youboraData.setLive(true);
	    youboraData.setJwplayerOverlayText("Text for overlay");
	    youboraData.setJwplayerOverlayEnabled(true);
	    youboraData.setJwplayerOverlayTime(3000);
	    youboraData.setJwplayerOverlayDuration(8000);

		youboraData.setZoneCode("default");
		youboraData.setBalanceEnabled(true);
        youboraData.setBalanceOriginCode(origincode);
        youboraData.setBalanceNVA(niceNVA);
        youboraData.setBalanceNVB(niceNVB);
        youboraData.setBalanceType("balance");
        youboraData.setBalanceService("http://smartswitch.youbora.com");
		youboraData.setSecretWord(secretWord);

		var extraParams = {
		    	param1: 	"param1",
		    	param2: 	"param2",
		    	param3: 	"param3",
		    	param4: 	"param4",
		    	param5: 	"param5",
		    	param6: 	"param6",
		    	param7: 	"param7",
		    	param8: 	"param8",
		    	param9: 	"param9",
		    	param10: 	"param10",
		    	param11: 	"param11",
		    	param12: 	"param12",
		    	param13: 	"param13",
		    };

		youboraData.setExtraParams(extraParams);

	    youboraData.setProperties({
	            filename: "File Name",
	            content_id: "Content Id",
	            content_metadata: {
	                title: "Title",
	                genre: "Genre",
	                language: "Language",
	                year: "Year",
	                cast: "Cast",
	                director: "Director",
	                owner: "Owner",
	                duration: "Duration",
	                parental: "Parental",
	                price: "Price",
	                rating: "Rating",
	                audioType: "Audio type",
	                audioChannels: "Audio channels"
	            },
	            transaction_type: "Transaction Types",
	            quality: "Quality",
	            content_type: "Content Type",
	            device: {
	                manufacturer: "Manufacturer",
	                type: "Type",
	                year: "Year",
	                firmware: "Firmware"
	            }
	        });

	 	youboraData.setConcurrencyProperties({
		      enabled: true,
		      concurrencyService: "http://pc.youbora.com/cping/",
		      concurrencyCode: "testHTML",
		      concurrencyMaxCount: 0,
		      concurrencyRedirectUrl: "http://www.google.es",
		      concurrencyIpMode: false
		  });

		  youboraData.setResumeProperties({
		      resumeEnabled:   true,
		      resumeService:   "http://pc.youbora.com/resume/",
		      playTimeService: "http://pc.youbora.com/playTime/",
		      resumeCallback:  function(secs) { console.log("Insert your callback here");}
		  });


		// NO DRM
		//videoPlayer.type = "video/x-ms-wmv";
		videoPlayer.type = "video/mp4";
		//videoPlayer.data = "http://nws.nice264.com/vod/demosite/SS_16_9_404p_1100_MP30/fc642fcbbf910bb50ffb.mp4";
		videoPlayer.data = "http://mirrorblender.top-ix.org/movies/sintel-1024-surround.mp4"

		// Windows Media DRM
		// videoPlayer.type = "application/oipfContentAccess";
		// videoPlayer.data = "http://nws.nice264.com/DRM/wmdrmCadUrl?requestExpireTime=1371994935&userId=12345678&userKey=000102030405060708090a0b0c0d0e0f&media=b34b4b01c569a87be483&format=cfcd208495d565ef66e7dff9f9HD3000WVC1wmdrm10&periodOfTime=86400&token=01bd01c5b9b7ae7cdbb575ae2e8047b0&requestValidSeconds=12000000";

		/*videoPlayer.onPlayStateChange = checkPlayState;
		function checkPlayState()
		{
		    // console.log("checkPlayState() > " + videoPlayer.playState);
		}*/

		document.onkeydown = keyHandler;
		function keyHandler(e)
		{
		    switch (e.keyCode)
		    {
		        case VK_PLAY:
		            videoPlayer.play(1);
		            break;
		        case VK_STOP:
		            videoPlayer.stop();
		            break;
		        case VK_PAUSE:
		            videoPlayer.play(0);
		            break;
		        case VK_FAST_FWD:
		            videoPlayer.seek(videoPlayer.playPosition + 30000);
		            break;
		        case VK_REWIND:
		            videoPlayer.seek(videoPlayer.playPosition - 30000);
		            break;
		        case VK_BLUE:
		            videoPlayer.setFullScreen(1);
		            break;
		        case VK_YELLOW:
		            videoPlayer.setFullScreen(0);
		            break;
		    }
		};
        try{
            console.log(spYoubora);
        }catch(err){
            console.log(err);
        }


	}catch(err){
		console.log(err);
	}
    </script>


</body>
</html>

