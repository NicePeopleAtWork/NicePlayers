
// lib\layout\version.js
enyo&&enyo.version&&(enyo.version.layout="2.3.0-pre.11-dev");

// lib\layout\contextual\source\ContextualLayout.js
enyo.kind({name:"enyo.ContextualLayout",kind:"Layout",adjustPosition:function(){if(this.container.showing&&this.container.hasNode()){this.resetPositioning();var t=this.getViewWidth(),i=this.getViewHeight(),o=this.container.vertFlushMargin,e=i-this.container.vertFlushMargin,s=this.container.horizFlushMargin,n=t-this.container.horizFlushMargin;if(o>this.offset.top+this.offset.height||this.offset.top>e){if(this.applyVerticalFlushPositioning(s,n))return;if(this.applyHorizontalFlushPositioning(s,n))return;if(this.applyVerticalPositioning())return}else if((s>this.offset.left+this.offset.width||this.offset.left>n)&&this.applyHorizontalPositioning())return;var h=this.getBoundingRect(this.container.node);if(h.width>this.container.widePopup){if(this.applyVerticalPositioning())return}else if(h.height>this.container.longPopup&&this.applyHorizontalPositioning())return;if(this.applyVerticalPositioning())return;if(this.applyHorizontalPositioning())return}},initVerticalPositioning:function(){this.resetPositioning(),this.container.addClass("vertical");var t=this.getBoundingRect(this.container.node),i=this.getViewHeight();return this.container.floating?i/2>this.offset.top?(this.applyPosition({top:this.offset.top+this.offset.height,bottom:"auto"}),this.container.addClass("below")):(this.applyPosition({top:this.offset.top-t.height,bottom:"auto"}),this.container.addClass("above")):t.top+t.height>i&&i-t.bottom<t.top-t.height?this.container.addClass("above"):this.container.addClass("below"),t=this.getBoundingRect(this.container.node),t.top+t.height>i||0>t.top?!1:!0},applyVerticalPositioning:function(){if(!this.initVerticalPositioning())return!1;var t=this.getBoundingRect(this.container.node),i=this.getViewWidth();if(this.container.floating){var o=this.offset.left+this.offset.width/2-t.width/2;o+t.width>i?(this.applyPosition({left:this.offset.left+this.offset.width-t.width}),this.container.addClass("left")):0>o?(this.applyPosition({left:this.offset.left}),this.container.addClass("right")):this.applyPosition({left:o})}else{var e=this.offset.left+this.offset.width/2-t.left-t.width/2;t.right+e>i?(this.applyPosition({left:this.offset.left+this.offset.width-t.right}),this.container.addRemoveClass("left",!0)):0>t.left+e?this.container.addRemoveClass("right",!0):this.applyPosition({left:e})}return!0},applyVerticalFlushPositioning:function(t,i){if(!this.initVerticalPositioning())return!1;var o=this.getBoundingRect(this.container.node),e=this.getViewWidth();return t>this.offset.left+this.offset.width/2?(this.offset.left+this.offset.width/2<this.container.horizBuffer?this.applyPosition({left:this.container.horizBuffer+(this.container.floating?0:-o.left)}):this.applyPosition({left:this.offset.width/2+(this.container.floating?this.offset.left:0)}),this.container.addClass("right"),this.container.addClass("corner"),!0):this.offset.left+this.offset.width/2>i?(this.offset.left+this.offset.width/2>e-this.container.horizBuffer?this.applyPosition({left:e-this.container.horizBuffer-o.right}):this.applyPosition({left:this.offset.left+this.offset.width/2-o.right}),this.container.addClass("left"),this.container.addClass("corner"),!0):!1},initHorizontalPositioning:function(){this.resetPositioning();var t=this.getBoundingRect(this.container.node),i=this.getViewWidth();return this.container.floating?i/2>this.offset.left+this.offset.width?(this.applyPosition({left:this.offset.left+this.offset.width}),this.container.addRemoveClass("left",!0)):(this.applyPosition({left:this.offset.left-t.width}),this.container.addRemoveClass("right",!0)):this.offset.left-t.width>0?(this.applyPosition({left:this.offset.left-t.left-t.width}),this.container.addRemoveClass("right",!0)):(this.applyPosition({left:this.offset.width}),this.container.addRemoveClass("left",!0)),this.container.addRemoveClass("horizontal",!0),t=this.getBoundingRect(this.container.node),0>t.left||t.left+t.width>i?!1:!0},applyHorizontalPositioning:function(){if(!this.initHorizontalPositioning())return!1;var t=this.getBoundingRect(this.container.node),i=this.getViewHeight(),o=this.offset.top+this.offset.height/2;return this.container.floating?o>=i/2-.05*i&&i/2+.05*i>=o?this.applyPosition({top:this.offset.top+this.offset.height/2-t.height/2,bottom:"auto"}):i/2>this.offset.top+this.offset.height?(this.applyPosition({top:this.offset.top-this.offset.height,bottom:"auto"}),this.container.addRemoveClass("high",!0)):(this.applyPosition({top:this.offset.top-t.height+2*this.offset.height,bottom:"auto"}),this.container.addRemoveClass("low",!0)):o>=i/2-.05*i&&i/2+.05*i>=o?this.applyPosition({top:(this.offset.height-t.height)/2}):i/2>this.offset.top+this.offset.height?(this.applyPosition({top:-this.offset.height}),this.container.addRemoveClass("high",!0)):(this.applyPosition({top:t.top-t.height-this.offset.top+this.offset.height}),this.container.addRemoveClass("low",!0)),!0},applyHorizontalFlushPositioning:function(t,i){if(!this.initHorizontalPositioning())return!1;var o=this.getBoundingRect(this.container.node),e=this.getViewHeight();return this.container.floating?e/2>this.offset.top?(this.applyPosition({top:this.offset.top+this.offset.height/2}),this.container.addRemoveClass("high",!0)):(this.applyPosition({top:this.offset.top+this.offset.height/2-o.height}),this.container.addRemoveClass("low",!0)):o.top+o.height>e&&e-o.bottom<o.top-o.height?(this.applyPosition({top:o.top-o.height-this.offset.top-this.offset.height/2}),this.container.addRemoveClass("low",!0)):(this.applyPosition({top:this.offset.height/2}),this.container.addRemoveClass("high",!0)),t>this.offset.left+this.offset.width?(this.container.addClass("left"),this.container.addClass("corner"),!0):this.offset.left>i?(this.container.addClass("right"),this.container.addClass("corner"),!0):!1},getBoundingRect:function(t){var i=t.getBoundingClientRect();return i.width&&i.height?i:{left:i.left,right:i.right,top:i.top,bottom:i.bottom,width:i.right-i.left,height:i.bottom-i.top}},getViewHeight:function(){return void 0===window.innerHeight?document.documentElement.clientHeight:window.innerHeight},getViewWidth:function(){return void 0===window.innerWidth?document.documentElement.clientWidth:window.innerWidth},applyPosition:function(t){var i="";for(var o in t)i+=o+":"+t[o]+(isNaN(t[o])?"; ":"px; ");this.container.addStyles(i)},resetPositioning:function(){this.container.removeClass("right"),this.container.removeClass("left"),this.container.removeClass("high"),this.container.removeClass("low"),this.container.removeClass("corner"),this.container.removeClass("below"),this.container.removeClass("above"),this.container.removeClass("vertical"),this.container.removeClass("horizontal"),this.applyPosition({left:"auto"}),this.applyPosition({top:"auto"})},reflow:function(){this.offset=this.container.activatorOffset,this.adjustPosition()}});

// lib\layout\fittable\source\FittableLayout.js
enyo.kind({name:"enyo.FittableLayout",kind:"Layout",calcFitIndex:function(){var t,i,o=this.container.children;for(i=0;o.length>i;i++)if(t=o[i],t.fit&&t.showing)return i},getFitControl:function(){var t=this.container.children,i=t[this.fitIndex];return i&&i.fit&&i.showing||(this.fitIndex=this.calcFitIndex(),i=t[this.fitIndex]),i},shouldReverse:function(){return this.container.rtl&&"h"===this.orient},getFirstChild:function(){var t=this.getShowingChildren();return this.shouldReverse()?t[t.length-1]:t[0]},getLastChild:function(){var t=this.getShowingChildren();return this.shouldReverse()?t[0]:t[t.length-1]},getShowingChildren:function(){for(var t=[],i=0,o=this.container.children,e=o.length;e>i;i++)o[i].showing&&t.push(o[i]);return t},_reflow:function(t,i,o,e){this.container.addRemoveClass("enyo-stretch",!this.container.noStretch);var s,n,h,a,r,f=this.getFitControl(),l=this.container.hasNode(),d=0,g=0,c=0;if(f&&l){if(s=enyo.dom.calcPaddingExtents(l),n=f.getBounds(),d=l[i]-(s[o]+s[e]),this.shouldReverse()){a=this.getFirstChild(),c=d-(n[o]+n[t]);var p=enyo.dom.getComputedBoxValue(a.hasNode(),"margin",o)||0;if(a==f)g=p;else{var u=a.getBounds(),y=u[o];g=n[o]+p-y}}else{h=this.getLastChild(),g=n[o]-(s[o]||0);var w=enyo.dom.getComputedBoxValue(h.hasNode(),"margin",e)||0;if(h==f)c=w;else{var v=h.getBounds(),C=n[o]+n[t],P=v[o]+v[t]+w;c=P-C}}r=d-(g+c),f.applyStyle(t,r+"px")}},reflow:function(){"h"==this.orient?this._reflow("width","clientWidth","left","right"):this._reflow("height","clientHeight","top","bottom")}}),enyo.kind({name:"enyo.FittableColumnsLayout",kind:"FittableLayout",orient:"h",layoutClass:"enyo-fittable-columns-layout"}),enyo.kind({name:"enyo.FittableRowsLayout",kind:"FittableLayout",layoutClass:"enyo-fittable-rows-layout",orient:"v"});

// lib\layout\fittable\source\FittableRows.js
enyo.kind({name:"enyo.FittableRows",layoutKind:"FittableRowsLayout",noStretch:!1});

// lib\layout\fittable\source\FittableColumns.js
enyo.kind({name:"enyo.FittableColumns",layoutKind:"FittableColumnsLayout",noStretch:!1});

// lib\layout\fittable\source\FittableHeaderLayout.js
enyo.kind({name:"enyo.FittableHeaderLayout",kind:"FittableColumnsLayout",applyFitSize:enyo.inherit(function(t){return function(i,e,o,n){var s=o-n,h=this.getFitControl();0>s?(h.applyStyle("padding-left",Math.abs(s)+"px"),h.applyStyle("padding-right",null)):s>0?(h.applyStyle("padding-left",null),h.applyStyle("padding-right",Math.abs(s)+"px")):(h.applyStyle("padding-left",null),h.applyStyle("padding-right",null)),t.apply(this,arguments)}})});

// lib\layout\list\source\FlyweightRepeater.js
enyo.kind({name:"enyo.FlyweightRepeater",published:{count:0,noSelect:!1,multiSelect:!1,toggleSelected:!1,clientClasses:"",clientStyle:"",rowOffset:0,orient:"v"},events:{onSetupItem:"",onRenderRow:""},bottomUp:!1,components:[{kind:"Selection",onSelect:"selectDeselect",onDeselect:"selectDeselect"},{name:"client"}],create:enyo.inherit(function(t){return function(){t.apply(this,arguments),this.noSelectChanged(),this.multiSelectChanged(),this.clientClassesChanged(),this.clientStyleChanged()}}),noSelectChanged:function(){this.noSelect&&this.$.selection.clear()},multiSelectChanged:function(){this.$.selection.setMulti(this.multiSelect)},clientClassesChanged:function(){this.$.client.setClasses(this.clientClasses)},clientStyleChanged:function(){this.$.client.setStyle(this.clientStyle)},setupItem:function(t){this.doSetupItem({index:t,selected:this.isSelected(t)})},generateChildHtml:enyo.inherit(function(t){return function(){var i="";this.index=null;for(var e=0,o=0;this.count>e;e++)o=this.rowOffset+(this.bottomUp?this.count-e-1:e),this.setupItem(o),this.$.client.setAttribute("data-enyo-index",o),"h"==this.orient&&this.$.client.setStyle("display:inline-block;"),i+=t.apply(this,arguments),this.$.client.teardownRender();return i}}),previewDomEvent:function(t){var i=this.index=this.rowForEvent(t);t.rowIndex=t.index=i,t.flyweight=this},decorateEvent:enyo.inherit(function(t){return function(i,e){var o=e&&null!=e.index?e.index:this.index;e&&null!=o&&(e.index=o,e.flyweight=this),t.apply(this,arguments)}}),tap:function(t,i){this.noSelect||-1===i.index||(this.toggleSelected?this.$.selection.toggle(i.index):this.$.selection.select(i.index))},selectDeselect:function(t,i){this.renderRow(i.key)},getSelection:function(){return this.$.selection},isSelected:function(t){return this.getSelection().isSelected(t)},renderRow:function(t){if(!(this.rowOffset>t||t>=this.count+this.rowOffset)){this.setupItem(t);var i=this.fetchRowNode(t);i&&(enyo.dom.setInnerHtml(i,this.$.client.generateChildHtml()),this.$.client.teardownChildren(),this.doRenderRow({rowIndex:t}))}},fetchRowNode:function(t){return this.hasNode()?this.node.querySelector('[data-enyo-index="'+t+'"]'):void 0},rowForEvent:function(t){if(!this.hasNode())return-1;for(var i=t.target;i&&i!==this.node;){var e=i.getAttribute&&i.getAttribute("data-enyo-index");if(null!==e)return Number(e);i=i.parentNode}return-1},prepareRow:function(t){if(!(this.rowOffset>t||t>=this.count+this.rowOffset)){this.setupItem(t);var i=this.fetchRowNode(t);enyo.FlyweightRepeater.claimNode(this.$.client,i)}},lockRow:function(){this.$.client.teardownChildren()},performOnRow:function(t,i,e){this.rowOffset>t||t>=this.count+this.rowOffset||i&&(this.prepareRow(t),enyo.call(e||null,i),this.lockRow())},statics:{claimNode:function(t,i){var e;i&&(e=i.id!==t.id?i.querySelector("#"+t.id):i),t.generated=Boolean(e||!t.tag),t.node=e,t.node&&t.rendered();for(var o,n=0,s=t.children;o=s[n];n++)this.claimNode(o,i)}}});

// lib\layout\list\source\List.js
enyo.kind({name:"enyo.List",kind:"Scroller",classes:"enyo-list",published:{count:0,rowsPerPage:50,orient:"v",bottomUp:!1,noSelect:!1,multiSelect:!1,toggleSelected:!1,fixedSize:!1,reorderable:!1,centerReorderContainer:!0,reorderComponents:[],pinnedReorderComponents:[],swipeableComponents:[],enableSwipe:!1,persistSwipeableItem:!1},events:{onSetupItem:"",onSetupReorderComponents:"",onSetupPinnedReorderComponents:"",onReorder:"",onSetupSwipeItem:"",onSwipeDrag:"",onSwipe:"",onSwipeComplete:""},handlers:{onAnimateFinish:"animateFinish",onRenderRow:"rowRendered",ondragstart:"dragstart",ondrag:"drag",ondragfinish:"dragfinish",onup:"up",onholdpulse:"holdpulse",onflick:"flick"},rowSize:0,listTools:[{name:"port",classes:"enyo-list-port enyo-border-box",components:[{name:"generator",kind:"FlyweightRepeater",canGenerate:!1,components:[{tag:null,name:"client"}]},{name:"holdingarea",allowHtml:!0,classes:"enyo-list-holdingarea"},{name:"page0",allowHtml:!0,classes:"enyo-list-page"},{name:"page1",allowHtml:!0,classes:"enyo-list-page"},{name:"placeholder",classes:"enyo-list-placeholder"},{name:"swipeableComponents",style:"position:absolute; display:block; top:-1000px; left:0;"}]}],reorderHoldTimeMS:600,draggingRowIndex:-1,initHoldCounter:3,holdCounter:3,holding:!1,draggingRowNode:null,placeholderRowIndex:-1,dragToScrollThreshold:.1,prevScrollTop:0,autoScrollTimeoutMS:20,autoScrollTimeout:null,autoscrollPageY:0,pinnedReorderMode:!1,initialPinPosition:-1,itemMoved:!1,currentPageNumber:-1,completeReorderTimeout:null,swipeIndex:null,swipeDirection:null,persistentItemVisible:!1,persistentItemOrigin:null,swipeComplete:!1,completeSwipeTimeout:null,completeSwipeDelayMS:500,normalSwipeSpeedMS:200,fastSwipeSpeedMS:100,percentageDraggedThreshold:.2,importProps:enyo.inherit(function(t){return function(e){e&&e.reorderable&&(this.touch=!0),t.apply(this,arguments)}}),create:enyo.inherit(function(t){return function(){this.pageSizes=[],this.orientV="v"==this.orient,this.vertical=this.orientV?"default":"hidden",t.apply(this,arguments),this.rtl&&!this.orientV&&this.setBottomUp(!this.bottomUp),this.$.generator.orient=this.orient,this.getStrategy().translateOptimized=!0,this.pageBound=this.orientV?"top":"left",this.$.port.addRemoveClass("horizontal",!this.orientV),this.$.port.addRemoveClass("vertical",this.orientV),this.$.page0.addRemoveClass("vertical",this.orientV),this.$.page1.addRemoveClass("vertical",this.orientV),this.bottomUpChanged(),this.noSelectChanged(),this.multiSelectChanged(),this.toggleSelectedChanged(),this.$.generator.setRowOffset(0),this.$.generator.setCount(this.count)}}),initComponents:enyo.inherit(function(t){return function(){this.createReorderTools(),t.apply(this,arguments),this.createSwipeableComponents()}}),createReorderTools:function(){this.createComponent({name:"reorderContainer",classes:"enyo-list-reorder-container",ondown:"sendToStrategy",ondrag:"sendToStrategy",ondragstart:"sendToStrategy",ondragfinish:"sendToStrategy",onflick:"sendToStrategy"})},createStrategy:enyo.inherit(function(t){return function(){this.controlParentName="strategy",t.apply(this,arguments),this.createChrome(this.listTools),this.controlParentName="client",this.discoverControlParent()}}),createSwipeableComponents:function(){for(var t=0;this.swipeableComponents.length>t;t++)this.$.swipeableComponents.createComponent(this.swipeableComponents[t],{owner:this.owner})},rendered:enyo.inherit(function(t){return function(){t.apply(this,arguments),this.$.generator.node=this.$.port.hasNode(),this.$.generator.generated=!0,this.reset()}}),resizeHandler:enyo.inherit(function(t){return function(){t.apply(this,arguments),this.refresh()}}),bottomUpChanged:function(){this.$.generator.bottomUp=this.bottomUp,this.$.page0.applyStyle(this.pageBound,null),this.$.page1.applyStyle(this.pageBound,null),this.pageBound=this.orientV?this.bottomUp?"bottom":"top":this.bottomUp?"right":"left",!this.orientV&&this.bottomUp&&(this.$.page0.applyStyle("left","auto"),this.$.page1.applyStyle("left","auto")),this.hasNode()&&this.reset()},noSelectChanged:function(){this.$.generator.setNoSelect(this.noSelect)},multiSelectChanged:function(){this.$.generator.setMultiSelect(this.multiSelect)},toggleSelectedChanged:function(){this.$.generator.setToggleSelected(this.toggleSelected)},countChanged:function(){this.hasNode()&&this.updateMetrics()},sendToStrategy:function(t,e){this.$.strategy.dispatchEvent("on"+e.type,e,t)},updateMetrics:function(){this.defaultPageSize=this.rowsPerPage*(this.rowSize||100),this.pageCount=Math.ceil(this.count/this.rowsPerPage),this.portSize=0;for(var t=0;this.pageCount>t;t++)this.portSize+=this.getPageSize(t);this.adjustPortSize()},holdpulse:function(t,e){return this.getReorderable()&&!this.isReordering()?e.holdTime>=this.reorderHoldTimeMS&&this.shouldStartReordering(t,e)?(this.startReordering(e),!1):void 0:void 0},dragstart:function(t,e){return this.isReordering()?!0:this.isSwipeable()?this.swipeDragStart(t,e):void 0},drag:function(t,e){return this.shouldDoReorderDrag(e)?(e.preventDefault(),this.reorderDrag(e),!0):this.isSwipeable()?(e.preventDefault(),this.swipeDrag(t,e),!0):void 0},dragfinish:function(t,e){this.isReordering()?this.finishReordering(t,e):this.isSwipeable()&&this.swipeDragFinish(t,e)},up:function(t,e){this.isReordering()&&this.finishReordering(t,e)},generatePage:function(t,e){this.page=t;var i=this.rowsPerPage*this.page;this.$.generator.setRowOffset(i);var o=Math.min(this.count-i,this.rowsPerPage);this.$.generator.setCount(o);var n=this.$.generator.generateChildHtml();e.setContent(n),this.getReorderable()&&this.draggingRowIndex>-1&&this.hideReorderingRow();var s=e.getBounds(),r=this.orientV?s.height:s.width;if(!this.rowSize&&r>0&&(this.rowSize=Math.floor(r/o),this.updateMetrics()),!this.fixedSize){var h=this.getPageSize(t);h!=r&&r>0&&(this.pageSizes[t]=r,this.portSize+=r-h)}},pageForRow:function(t){return Math.floor(t/this.rowsPerPage)},preserveDraggingRowNode:function(t){this.draggingRowNode&&this.pageForRow(this.draggingRowIndex)===t&&(this.$.holdingarea.hasNode().appendChild(this.draggingRowNode),this.draggingRowNode=null,this.removedInitialPage=!0)},update:function(t){var e=!1,i=this.positionToPageInfo(t),o=i.pos+this.scrollerSize/2,n=Math.floor(o/Math.max(i.size,this.scrollerSize)+.5)+i.no,s=0===n%2?n:n-1;this.p0!=s&&this.isPageInRange(s)&&(this.preserveDraggingRowNode(this.p0),this.generatePage(s,this.$.page0),this.positionPage(s,this.$.page0),this.p0=s,e=!0,this.p0RowBounds=this.getPageRowSizes(this.$.page0)),s=0===n%2?Math.max(1,n-1):n,this.p1!=s&&this.isPageInRange(s)&&(this.preserveDraggingRowNode(this.p1),this.generatePage(s,this.$.page1),this.positionPage(s,this.$.page1),this.p1=s,e=!0,this.p1RowBounds=this.getPageRowSizes(this.$.page1)),e&&(this.$.generator.setRowOffset(0),this.$.generator.setCount(this.count),this.fixedSize||(this.adjustBottomPage(),this.adjustPortSize()))},getPageRowSizes:function(t){for(var e,i,o={},n=t.hasNode().querySelectorAll("div[data-enyo-index]"),s=0;n.length>s;s++)e=n[s].getAttribute("data-enyo-index"),null!==e&&(i=enyo.dom.getBounds(n[s]),o[parseInt(e,10)]={height:i.height,width:i.width});return o},updateRowBounds:function(t){this.p0RowBounds[t]?this.updateRowBoundsAtIndex(t,this.p0RowBounds,this.$.page0):this.p1RowBounds[t]&&this.updateRowBoundsAtIndex(t,this.p1RowBounds,this.$.page1)},updateRowBoundsAtIndex:function(t,e,i){var o=i.hasNode().querySelector('div[data-enyo-index="'+t+'"]'),n=enyo.dom.getBounds(o);e[t].height=n.height,e[t].width=n.width},updateForPosition:function(t){this.update(this.calcPos(t))},calcPos:function(t){return this.bottomUp?this.portSize-this.scrollerSize-t:t},adjustBottomPage:function(){var t=this.p0>=this.p1?this.$.page0:this.$.page1;this.positionPage(t.pageNo,t)},adjustPortSize:function(){this.scrollerSize=this.orientV?this.getBounds().height:this.getBounds().width;var t=Math.max(this.scrollerSize,this.portSize);this.$.port.applyStyle(this.orientV?"height":"width",t+"px"),this.orientV||this.$.port.applyStyle("height",this.getBounds().height+"px")},positionPage:function(t,e){e.pageNo=t;var i=this.pageToPosition(t);e.applyStyle(this.pageBound,i+"px")},pageToPosition:function(t){for(var e=0,i=t;i>0;)i--,e+=this.getPageSize(i);return e},positionToPageInfo:function(t){for(var e=-1,i=this.calcPos(t),o=this.defaultPageSize;i>=0;)e++,o=this.getPageSize(e),i-=o;return e=Math.max(e,0),{no:e,size:o,pos:i+o,startRow:e*this.rowsPerPage,endRow:Math.min((e+1)*this.rowsPerPage-1,this.count-1)}},isPageInRange:function(t){return t==Math.max(0,Math.min(this.pageCount-1,t))},getPageSize:function(t){var e=this.pageSizes[t];if(!e){var i=this.rowsPerPage*t,o=Math.min(this.count-i,this.rowsPerPage);e=this.defaultPageSize*(o/this.rowsPerPage)}return Math.max(1,e)},invalidatePages:function(){this.p0=this.p1=null,this.p0RowBounds={},this.p1RowBounds={},this.$.page0.setContent(""),this.$.page1.setContent("")},invalidateMetrics:function(){this.pageSizes=[],this.rowSize=0,this.updateMetrics()},scroll:enyo.inherit(function(t){return function(e,i){var o=t.apply(this,arguments),n=this.orientV?this.getScrollTop():this.getScrollLeft();return this.lastPos===n?o:(this.lastPos=n,this.update(n),this.pinnedReorderMode&&this.reorderScroll(e,i),o)}}),setScrollTop:enyo.inherit(function(t){return function(e){this.update(e),t.apply(this,arguments),this.twiddle()}}),getScrollPosition:function(){return this.calcPos(this[this.orientV?"getScrollTop":"getScrollLeft"]())},setScrollPosition:function(t){this[this.orientV?"setScrollTop":"setScrollLeft"](this.calcPos(t))},scrollToBottom:enyo.inherit(function(t){return function(){this.update(this.getScrollBounds().maxTop),t.apply(this,arguments)}}),scrollToRow:function(t){var e=this.pageForRow(t),i=this.pageToPosition(e);if(this.updateForPosition(i),i=this.pageToPosition(e),this.setScrollPosition(i),e==this.p0||e==this.p1){var o=this.$.generator.fetchRowNode(t);if(o){var n=this.orientV?o.offsetTop:o.offsetLeft;this.bottomUp&&(n=this.getPageSize(e)-(this.orientV?o.offsetHeight:o.offsetWidth)-n);var s=this.getScrollPosition()+n;this.setScrollPosition(s)}}},scrollToStart:function(){this[this.bottomUp?this.orientV?"scrollToBottom":"scrollToRight":"scrollToTop"]()},scrollToEnd:function(){this[this.bottomUp?this.orientV?"scrollToTop":"scrollToLeft":this.orientV?"scrollToBottom":"scrollToRight"]()},refresh:function(){this.invalidatePages(),this.update(this[this.orientV?"getScrollTop":"getScrollLeft"]()),this.stabilize(),4===enyo.platform.android&&this.twiddle()},reset:function(){this.getSelection().clear(),this.invalidateMetrics(),this.invalidatePages(),this.stabilize(),this.scrollToStart()},getSelection:function(){return this.$.generator.getSelection()},select:function(t,e){return this.getSelection().select(t,e)},deselect:function(t){return this.getSelection().deselect(t)},isSelected:function(t){return this.$.generator.isSelected(t)},renderRow:function(t){this.$.generator.renderRow(t)},rowRendered:function(t,e){this.updateRowBounds(e.rowIndex)},prepareRow:function(t){this.$.generator.prepareRow(t)},lockRow:function(){this.$.generator.lockRow()},performOnRow:function(t,e,i){this.$.generator.performOnRow(t,e,i)},animateFinish:function(){return this.twiddle(),!0},twiddle:function(){var t=this.getStrategy();enyo.call(t,"twiddle")},pageForPageNumber:function(t,e){return 0===t%2?e&&t!==this.p0?null:this.$.page0:e&&t!==this.p1?null:this.$.page1},shouldStartReordering:function(t,e){return!this.getReorderable()||null==e.rowIndex||0>e.rowIndex||this.pinnedReorderMode||t!==this.$.strategy||null==e.index||0>e.index?!1:!0},startReordering:function(t){this.$.strategy.listReordering=!0,this.buildReorderContainer(),this.doSetupReorderComponents(t),this.styleReorderContainer(t),this.draggingRowIndex=this.placeholderRowIndex=t.rowIndex,this.draggingRowNode=t.target,this.removedInitialPage=!1,this.itemMoved=!1,this.initialPageNumber=this.currentPageNumber=this.pageForRow(t.rowIndex),this.prevScrollTop=this.getScrollTop(),this.replaceNodeWithPlaceholder(t.rowIndex)},buildReorderContainer:function(){this.$.reorderContainer.destroyClientControls();for(var t=0;this.reorderComponents.length>t;t++)this.$.reorderContainer.createComponent(this.reorderComponents[t],{owner:this.owner});this.$.reorderContainer.render()},styleReorderContainer:function(t){this.setItemPosition(this.$.reorderContainer,t.rowIndex),this.setItemBounds(this.$.reorderContainer,t.rowIndex),this.$.reorderContainer.setShowing(!0),this.centerReorderContainer&&this.centerReorderContainerOnPointer(t)},appendNodeToReorderContainer:function(t){this.$.reorderContainer.createComponent({allowHtml:!0,content:t.innerHTML}).render()},centerReorderContainerOnPointer:function(t){var e=enyo.dom.calcNodePosition(this.hasNode()),i=t.pageX-e.left-parseInt(this.$.reorderContainer.domStyles.width,10)/2,o=t.pageY-e.top+this.getScrollTop()-parseInt(this.$.reorderContainer.domStyles.height,10)/2;"ScrollStrategy"!=this.getStrategyKind()&&(i-=this.getScrollLeft(),o-=this.getScrollTop()),this.positionReorderContainer(i,o)},positionReorderContainer:function(t,e){this.$.reorderContainer.addClass("enyo-animatedTopAndLeft"),this.$.reorderContainer.addStyles("left:"+t+"px;top:"+e+"px;"),this.setPositionReorderContainerTimeout()},setPositionReorderContainerTimeout:function(){this.clearPositionReorderContainerTimeout(),this.positionReorderContainerTimeout=setTimeout(this.bindSafely(function(){this.$.reorderContainer.removeClass("enyo-animatedTopAndLeft"),this.clearPositionReorderContainerTimeout()}),100)},clearPositionReorderContainerTimeout:function(){this.positionReorderContainerTimeout&&(clearTimeout(this.positionReorderContainerTimeout),this.positionReorderContainerTimeout=null)},shouldDoReorderDrag:function(){return!this.getReorderable()||0>this.draggingRowIndex||this.pinnedReorderMode?!1:!0},reorderDrag:function(t){this.positionReorderNode(t),this.checkForAutoScroll(t),this.updatePlaceholderPosition(t.pageY)},updatePlaceholderPosition:function(t){var e=this.getRowIndexFromCoordinate(t);-1!==e&&(e>=this.placeholderRowIndex?this.movePlaceholderToIndex(Math.min(this.count,e+1)):this.movePlaceholderToIndex(e))},positionReorderNode:function(t){var e=this.$.reorderContainer.getBounds(),i=e.left+t.ddx,o=e.top+t.ddy;o="ScrollStrategy"==this.getStrategyKind()?o+(this.getScrollTop()-this.prevScrollTop):o,this.$.reorderContainer.addStyles("top: "+o+"px ; left: "+i+"px"),this.prevScrollTop=this.getScrollTop()},checkForAutoScroll:function(t){var e,i=enyo.dom.calcNodePosition(this.hasNode()),o=this.getBounds();this.autoscrollPageY=t.pageY,t.pageY-i.top<o.height*this.dragToScrollThreshold?(e=100*(1-(t.pageY-i.top)/(o.height*this.dragToScrollThreshold)),this.scrollDistance=-1*e):t.pageY-i.top>o.height*(1-this.dragToScrollThreshold)?(e=100*((t.pageY-i.top-o.height*(1-this.dragToScrollThreshold))/(o.height-o.height*(1-this.dragToScrollThreshold))),this.scrollDistance=1*e):this.scrollDistance=0,0===this.scrollDistance?this.stopAutoScrolling():this.autoScrollTimeout||this.startAutoScrolling()},stopAutoScrolling:function(){this.autoScrollTimeout&&(clearTimeout(this.autoScrollTimeout),this.autoScrollTimeout=null)},startAutoScrolling:function(){this.autoScrollTimeout=setInterval(this.bindSafely(this.autoScroll),this.autoScrollTimeoutMS)},autoScroll:function(){0===this.scrollDistance?this.stopAutoScrolling():this.autoScrollTimeout||this.startAutoScrolling(),this.setScrollPosition(this.getScrollPosition()+this.scrollDistance),this.positionReorderNode({ddx:0,ddy:0}),this.updatePlaceholderPosition(this.autoscrollPageY)},movePlaceholderToIndex:function(t){var e,i;if(!(0>t)){t>=this.count?(e=null,i=this.pageForPageNumber(this.pageForRow(this.count-1)).hasNode()):(e=this.$.generator.fetchRowNode(t),i=e.parentNode);var o=this.pageForRow(t);o>=this.pageCount&&(o=this.currentPageNumber),i.insertBefore(this.placeholderNode,e),this.currentPageNumber!==o&&(this.updatePageSize(this.currentPageNumber),this.updatePageSize(o),this.updatePagePositions(o)),this.placeholderRowIndex=t,this.currentPageNumber=o,this.itemMoved=!0}},finishReordering:function(t,e){return!this.isReordering()||this.pinnedReorderMode||this.completeReorderTimeout?void 0:(this.stopAutoScrolling(),this.$.strategy.listReordering=!1,this.moveReorderedContainerToDroppedPosition(e),this.completeReorderTimeout=setTimeout(this.bindSafely(this.completeFinishReordering,e),100),e.preventDefault(),!0)},moveReorderedContainerToDroppedPosition:function(){var t=this.getRelativeOffset(this.placeholderNode,this.hasNode()),e="ScrollStrategy"==this.getStrategyKind()?t.top:t.top-this.getScrollTop(),i=t.left-this.getScrollLeft();this.positionReorderContainer(i,e)},completeFinishReordering:function(t){return this.completeReorderTimeout=null,this.placeholderRowIndex>this.draggingRowIndex&&(this.placeholderRowIndex=Math.max(0,this.placeholderRowIndex-1)),this.draggingRowIndex!=this.placeholderRowIndex||!this.pinnedReorderComponents.length||this.pinnedReorderMode||this.itemMoved?(this.removeDraggingRowNode(),this.removePlaceholderNode(),this.emptyAndHideReorderContainer(),this.pinnedReorderMode=!1,this.reorderRows(t),this.draggingRowIndex=this.placeholderRowIndex=-1,this.refresh(),void 0):(this.beginPinnedReorder(t),void 0)},beginPinnedReorder:function(t){this.buildPinnedReorderContainer(),this.doSetupPinnedReorderComponents(enyo.mixin(t,{index:this.draggingRowIndex})),this.pinnedReorderMode=!0,this.initialPinPosition=t.pageY},emptyAndHideReorderContainer:function(){this.$.reorderContainer.destroyComponents(),this.$.reorderContainer.setShowing(!1)},buildPinnedReorderContainer:function(){this.$.reorderContainer.destroyClientControls();for(var t=0;this.pinnedReorderComponents.length>t;t++)this.$.reorderContainer.createComponent(this.pinnedReorderComponents[t],{owner:this.owner});this.$.reorderContainer.render()},reorderRows:function(t){this.doReorder(this.makeReorderEvent(t)),this.positionReorderedNode(),this.updateListIndices()},makeReorderEvent:function(t){return t.reorderFrom=this.draggingRowIndex,t.reorderTo=this.placeholderRowIndex,t},positionReorderedNode:function(){if(!this.removedInitialPage){var t=this.$.generator.fetchRowNode(this.placeholderRowIndex);if(t&&(t.parentNode.insertBefore(this.hiddenNode,t),this.showNode(this.hiddenNode)),this.hiddenNode=null,this.currentPageNumber!=this.initialPageNumber){var e,i,o=this.pageForPageNumber(this.currentPageNumber),n=this.pageForPageNumber(this.currentPageNumber+1);this.initialPageNumber<this.currentPageNumber?(e=o.hasNode().firstChild,n.hasNode().appendChild(e)):(e=o.hasNode().lastChild,i=n.hasNode().firstChild,n.hasNode().insertBefore(e,i)),this.correctPageSizes(),this.updatePagePositions(this.initialPageNumber)}}},updateListIndices:function(){if(this.shouldDoRefresh())return this.refresh(),this.correctPageSizes(),void 0;var t,e,i,o,n=Math.min(this.draggingRowIndex,this.placeholderRowIndex),s=Math.max(this.draggingRowIndex,this.placeholderRowIndex),r=this.draggingRowIndex-this.placeholderRowIndex>0?1:-1;if(1===r){for(t=this.$.generator.fetchRowNode(this.draggingRowIndex),t&&t.setAttribute("data-enyo-index","reordered"),e=s-1,i=s;e>=n;e--)t=this.$.generator.fetchRowNode(e),t&&(o=parseInt(t.getAttribute("data-enyo-index"),10),i=o+1,t.setAttribute("data-enyo-index",i));t=this.hasNode().querySelector('[data-enyo-index="reordered"]'),t.setAttribute("data-enyo-index",this.placeholderRowIndex)}else for(t=this.$.generator.fetchRowNode(this.draggingRowIndex),t&&t.setAttribute("data-enyo-index",this.placeholderRowIndex),e=n+1,i=n;s>=e;e++)t=this.$.generator.fetchRowNode(e),t&&(o=parseInt(t.getAttribute("data-enyo-index"),10),i=o-1,t.setAttribute("data-enyo-index",i))},shouldDoRefresh:function(){return Math.abs(this.initialPageNumber-this.currentPageNumber)>1},getNodeStyle:function(t){var e=this.$.generator.fetchRowNode(t);if(e){var i=this.getRelativeOffset(e,this.hasNode()),o=enyo.dom.getBounds(e);return{h:o.height,w:o.width,left:i.left,top:i.top}}},getRelativeOffset:function(t,e){var i={top:0,left:0};if(t!==e&&t.parentNode)do i.top+=t.offsetTop||0,i.left+=t.offsetLeft||0,t=t.offsetParent;while(t&&t!==e);return i},replaceNodeWithPlaceholder:function(t){var e=this.$.generator.fetchRowNode(t);if(!e)return enyo.log("No node - "+t),void 0;this.placeholderNode=this.createPlaceholderNode(e),this.hiddenNode=this.hideNode(e);var i=this.pageForPageNumber(this.currentPageNumber);i.hasNode().insertBefore(this.placeholderNode,this.hiddenNode)},createPlaceholderNode:function(t){var e=this.$.placeholder.hasNode().cloneNode(!0),i=enyo.dom.getBounds(t);return e.style.height=i.height+"px",e.style.width=i.width+"px",e},removePlaceholderNode:function(){this.removeNode(this.placeholderNode),this.placeholderNode=null},removeDraggingRowNode:function(){this.draggingRowNode=null;var t=this.$.holdingarea.hasNode();t.innerHTML=""},removeNode:function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},updatePageSize:function(t){if(!(0>t)){var e=this.pageForPageNumber(t,!0);if(e){var i=this.pageSizes[t],o=Math.max(1,e.getBounds().height);this.pageSizes[t]=o,this.portSize+=o-i}}},updatePagePositions:function(t){this.positionPage(this.currentPageNumber,this.pageForPageNumber(this.currentPageNumber)),this.positionPage(t,this.pageForPageNumber(t))},correctPageSizes:function(){var t=this.initialPageNumber%2;this.updatePageSize(this.currentPageNumber,this.$["page"+this.currentPage]),t!=this.currentPageNumber&&this.updatePageSize(this.initialPageNumber,this.$["page"+t])},hideNode:function(t){return t.style.display="none",t},showNode:function(t){return t.style.display="block",t},dropPinnedRow:function(t){this.moveReorderedContainerToDroppedPosition(t),this.completeReorderTimeout=setTimeout(this.bindSafely(this.completeFinishReordering,t),100)},cancelPinnedMode:function(t){this.placeholderRowIndex=this.draggingRowIndex,this.dropPinnedRow(t)},getRowIndexFromCoordinate:function(t){var e=this.getScrollTop()+t-enyo.dom.calcNodePosition(this.hasNode()).top;if(0>e)return-1;var i=this.positionToPageInfo(e),o=i.no==this.p0?this.p0RowBounds:this.p1RowBounds;if(!o)return this.count;for(var n=i.pos,s=this.placeholderNode?enyo.dom.getBounds(this.placeholderNode).height:0,r=0,h=i.startRow;i.endRow>=h;++h){if(h===this.placeholderRowIndex&&(r+=s,r>=n))return-1;if(h!==this.draggingRowIndex&&(r+=o[h].height,r>=n))return h}return h},getIndexPosition:function(t){return enyo.dom.calcNodePosition(this.$.generator.fetchRowNode(t))},setItemPosition:function(t,e){var i=this.getNodeStyle(e),o="ScrollStrategy"==this.getStrategyKind()?i.top:i.top-this.getScrollTop(),n="top:"+o+"px; left:"+i.left+"px;";t.addStyles(n)},setItemBounds:function(t,e){var i=this.getNodeStyle(e),o="width:"+i.w+"px; height:"+i.h+"px;";t.addStyles(o)},reorderScroll:function(){"ScrollStrategy"==this.getStrategyKind()&&this.$.reorderContainer.addStyles("top:"+(this.initialPinPosition+this.getScrollTop()-this.rowSize)+"px;"),this.updatePlaceholderPosition(this.initialPinPosition)},hideReorderingRow:function(){var t=this.hasNode().querySelector('[data-enyo-index="'+this.draggingRowIndex+'"]');t&&(this.hiddenNode=this.hideNode(t))},isReordering:function(){return this.draggingRowIndex>-1},isSwiping:function(){return null!=this.swipeIndex&&!this.swipeComplete&&null!=this.swipeDirection},swipeDragStart:function(t,e){return null==e.index||e.vertical?!0:(this.completeSwipeTimeout&&this.completeSwipe(e),this.swipeComplete=!1,this.swipeIndex!=e.index&&(this.clearSwipeables(),this.swipeIndex=e.index),this.swipeDirection=e.xDirection,this.persistentItemVisible||this.startSwipe(e),this.draggedXDistance=0,this.draggedYDistance=0,!0)},swipeDrag:function(t,e){return this.persistentItemVisible?(this.dragPersistentItem(e),this.preventDragPropagation):this.isSwiping()?(this.dragSwipeableComponents(this.calcNewDragPosition(e.ddx)),this.draggedXDistance=e.dx,this.draggedYDistance=e.dy,!0):!1},swipeDragFinish:function(t,e){if(this.persistentItemVisible)this.dragFinishPersistentItem(e);else{if(!this.isSwiping())return!1;var i=this.calcPercentageDragged(this.draggedXDistance);i>this.percentageDraggedThreshold&&e.xDirection===this.swipeDirection?this.swipe(this.fastSwipeSpeedMS):this.backOutSwipe(e)}return this.preventDragPropagation},isSwipeable:function(){return this.enableSwipe&&0!==this.$.swipeableComponents.controls.length&&!this.isReordering()&&!this.pinnedReorderMode},positionSwipeableContainer:function(t,e){var i=this.$.generator.fetchRowNode(t);if(i){var o=this.getRelativeOffset(i,this.hasNode()),n=enyo.dom.getBounds(i),s=1==e?-1*n.width:n.width;this.$.swipeableComponents.addStyles("top: "+o.top+"px; left: "+s+"px; height: "+n.height+"px; width: "+n.width+"px;")}},calcNewDragPosition:function(t){var e=this.$.swipeableComponents.getBounds(),i=e.left,o=this.$.swipeableComponents.getBounds(),n=1==this.swipeDirection?0:-1*o.width,s=1==this.swipeDirection?i+t>n?n:i+t:n>i+t?n:i+t;return s},dragSwipeableComponents:function(t){this.$.swipeableComponents.applyStyle("left",t+"px")},startSwipe:function(t){t.index=this.swipeIndex,this.positionSwipeableContainer(this.swipeIndex,t.xDirection),this.$.swipeableComponents.setShowing(!0),this.setPersistentItemOrigin(t.xDirection),this.doSetupSwipeItem(t)},dragPersistentItem:function(t){var e=0,i="right"==this.persistentItemOrigin?Math.max(e,e+t.dx):Math.min(e,e+t.dx);this.$.swipeableComponents.applyStyle("left",i+"px")},dragFinishPersistentItem:function(t){var e=this.calcPercentageDragged(t.dx)>.2,i=t.dx>0?"right":0>t.dx?"left":null;this.persistentItemOrigin==i?e?this.slideAwayItem():this.bounceItem(t):this.bounceItem(t)},setPersistentItemOrigin:function(t){this.persistentItemOrigin=1==t?"left":"right"},calcPercentageDragged:function(t){return Math.abs(t/this.$.swipeableComponents.getBounds().width)},swipe:function(t){this.swipeComplete=!0,this.animateSwipe(0,t)},backOutSwipe:function(){var t=this.$.swipeableComponents.getBounds(),e=1==this.swipeDirection?-1*t.width:t.width;this.animateSwipe(e,this.fastSwipeSpeedMS),this.swipeDirection=null},bounceItem:function(){var t=this.$.swipeableComponents.getBounds();t.left!=t.width&&this.animateSwipe(0,this.normalSwipeSpeedMS)},slideAwayItem:function(){var t=this.$.swipeableComponents,e=t.getBounds().width,i="left"==this.persistentItemOrigin?-1*e:e;this.animateSwipe(i,this.normalSwipeSpeedMS),this.persistentItemVisible=!1,this.setPersistSwipeableItem(!1)},clearSwipeables:function(){this.$.swipeableComponents.setShowing(!1),this.persistentItemVisible=!1,this.setPersistSwipeableItem(!1)},completeSwipe:function(){this.completeSwipeTimeout&&(clearTimeout(this.completeSwipeTimeout),this.completeSwipeTimeout=null),this.getPersistSwipeableItem()?this.persistentItemVisible=!0:(this.$.swipeableComponents.setShowing(!1),this.swipeComplete&&this.doSwipeComplete({index:this.swipeIndex,xDirection:this.swipeDirection})),this.swipeIndex=null,this.swipeDirection=null},animateSwipe:function(t,e){var i=enyo.now(),o=this.$.swipeableComponents,n=parseInt(o.domStyles.left,10),s=t-n;this.stopAnimateSwipe();var r=this.bindSafely(function(){var t=enyo.now()-i,h=t/e,a=n+s*Math.min(h,1);o.applyStyle("left",a+"px"),this.job=enyo.requestAnimationFrame(r),t/e>=1&&(this.stopAnimateSwipe(),this.completeSwipeTimeout=setTimeout(this.bindSafely(function(){this.completeSwipe()}),this.completeSwipeDelayMS))});this.job=enyo.requestAnimationFrame(r)},stopAnimateSwipe:function(){this.job&&(this.job=enyo.cancelRequestAnimationFrame(this.job))}});

// lib\layout\list\source\PulldownList.js
enyo.kind({name:"enyo.PulldownList",kind:"List",touch:!0,pully:null,pulldownTools:[{name:"pulldown",classes:"enyo-list-pulldown",components:[{name:"puller",kind:"Puller"}]}],events:{onPullStart:"",onPullCancel:"",onPull:"",onPullRelease:"",onPullComplete:""},handlers:{onScrollStart:"scrollStartHandler",onScrollStop:"scrollStopHandler",ondragfinish:"dragfinish"},pullingMessage:"Pull down to refresh...",pulledMessage:"Release to refresh...",loadingMessage:"Loading...",pullingIconClass:"enyo-puller-arrow enyo-puller-arrow-down",pulledIconClass:"enyo-puller-arrow enyo-puller-arrow-up",loadingIconClass:"",create:enyo.inherit(function(t){return function(){var e={kind:"Puller",showing:!1,text:this.loadingMessage,iconClass:this.loadingIconClass,onCreate:"setPully"};this.listTools.splice(0,0,e),t.apply(this,arguments),this.setPulling()}}),initComponents:enyo.inherit(function(t){return function(){this.createChrome(this.pulldownTools),this.accel=enyo.dom.canAccelerate(),this.translation=this.accel?"translate3d":"translate",this.strategyKind=this.resetStrategyKind(),t.apply(this,arguments)}}),resetStrategyKind:function(){return enyo.platform.android>=3?"TranslateScrollStrategy":"TouchScrollStrategy"},setPully:function(t,e){this.pully=e.originator},scrollStartHandler:function(){this.firedPullStart=!1,this.firedPull=!1,this.firedPullCancel=!1},scroll:enyo.inherit(function(t){return function(){var e=t.apply(this,arguments);this.completingPull&&this.pully.setShowing(!1);var i=this.getStrategy().$.scrollMath||this.getStrategy(),o=-1*this.getScrollTop();return i.isInOverScroll()&&o>0&&(enyo.dom.transformValue(this.$.pulldown,this.translation,"0,"+o+"px"+(this.accel?",0":"")),this.firedPullStart||(this.firedPullStart=!0,this.pullStart(),this.pullHeight=this.$.pulldown.getBounds().height),o>this.pullHeight&&!this.firedPull&&(this.firedPull=!0,this.firedPullCancel=!1,this.pull()),this.firedPull&&!this.firedPullCancel&&this.pullHeight>o&&(this.firedPullCancel=!0,this.firedPull=!1,this.pullCancel())),e}}),scrollStopHandler:function(){this.completingPull&&(this.completingPull=!1,this.doPullComplete())},dragfinish:function(){if(this.firedPull){var t=this.getStrategy().$.scrollMath||this.getStrategy();t.setScrollY(-1*this.getScrollTop()-this.pullHeight),this.pullRelease()}},completePull:function(){this.completingPull=!0;var t=this.getStrategy().$.scrollMath||this.getStrategy();t.setScrollY(this.pullHeight),t.start()},pullStart:function(){this.setPulling(),this.pully.setShowing(!1),this.$.puller.setShowing(!0),this.doPullStart()},pull:function(){this.setPulled(),this.doPull()},pullCancel:function(){this.setPulling(),this.doPullCancel()},pullRelease:function(){this.$.puller.setShowing(!1),this.pully.setShowing(!0),this.doPullRelease()},setPulling:function(){this.$.puller.setText(this.pullingMessage),this.$.puller.setIconClass(this.pullingIconClass)},setPulled:function(){this.$.puller.setText(this.pulledMessage),this.$.puller.setIconClass(this.pulledIconClass)}}),enyo.kind({name:"enyo.Puller",classes:"enyo-puller",published:{text:"",iconClass:""},events:{onCreate:""},components:[{name:"icon"},{name:"text",tag:"span",classes:"enyo-puller-text"}],create:enyo.inherit(function(t){return function(){t.apply(this,arguments),this.doCreate(),this.textChanged(),this.iconClassChanged()}}),textChanged:function(){this.$.text.setContent(this.text)},iconClassChanged:function(){this.$.icon.setClasses(this.iconClass)}});

// lib\layout\list\source\AroundList.js
enyo.kind({name:"enyo.AroundList",kind:"enyo.List",listTools:[{name:"port",classes:"enyo-list-port enyo-border-box",components:[{name:"aboveClient"},{name:"generator",kind:"FlyweightRepeater",canGenerate:!1,components:[{tag:null,name:"client"}]},{name:"holdingarea",allowHtml:!0,classes:"enyo-list-holdingarea"},{name:"page0",allowHtml:!0,classes:"enyo-list-page"},{name:"page1",allowHtml:!0,classes:"enyo-list-page"},{name:"belowClient"},{name:"placeholder"},{name:"swipeableComponents",style:"position:absolute; display:block; top:-1000px; left:0px;"}]}],aboveComponents:null,initComponents:enyo.inherit(function(t){return function(){t.apply(this,arguments),this.aboveComponents&&this.$.aboveClient.createComponents(this.aboveComponents,{owner:this.owner}),this.belowComponents&&this.$.belowClient.createComponents(this.belowComponents,{owner:this.owner})}}),updateMetrics:function(){this.defaultPageSize=this.rowsPerPage*(this.rowSize||100),this.pageCount=Math.ceil(this.count/this.rowsPerPage),this.aboveHeight=this.$.aboveClient.getBounds().height,this.belowHeight=this.$.belowClient.getBounds().height,this.portSize=this.aboveHeight+this.belowHeight;for(var t=0;this.pageCount>t;t++)this.portSize+=this.getPageSize(t);this.adjustPortSize()},positionPage:function(t,e){e.pageNo=t;var i=this.pageToPosition(t),o=this.bottomUp?this.belowHeight:this.aboveHeight;i+=o,e.applyStyle(this.pageBound,i+"px")},scrollToContentStart:function(){var t=this.bottomUp?this.belowHeight:this.aboveHeight;this.setScrollPosition(t)}});

// lib\layout\list\source\GridFlyweightRepeater.js
enyo.kind({name:"enyo.GridFlyWeightRepeater",kind:"enyo.FlyweightRepeater",events:{onSizeupItem:""},itemsPerRow:0,_itemsFromPreviousPage:0,generateChildHtml:function(){return this.itemFluidWidth||this.itemFixedSize?this._generateChildHtmlEqualSizedItems():this._generateChildHtmlVariableSizedItems()},_generateChildHtmlEqualSizedItems:function(){var t=this.owner.hasNode().clientWidth,e=this.$.client,i="",o=0,n=this.itemWidth,s=this.itemHeight;if(this.itemFluidWidth){o=100/this.itemsPerRow;var r=0;this.itemSpacing>=0&&(r=(this.itemsPerRow+1)*this.itemSpacing,o=100/this.itemsPerRow-100*r/(this.itemsPerRow*t)),n=o/100*t,s=n*(this.itemHeight/this.itemWidth)}for(var h=this.rowOffset;this.rowOffset+this.count>h;h++)e.setAttribute("data-enyo-index",h),this.doSetupItem({index:h,selected:this.isSelected(h)}),this.itemFluidWidth?e.addStyles("width:"+o+"%;height:"+s+"px;"):e.addStyles("width:"+this.itemWidth+"px;height:"+this.itemHeight+"px;"),this.itemSpacing>=0&&(e.addStyles("margin-top:"+this.itemSpacing+"px; margin-left:"+this.itemSpacing+"px;"),h%this.itemsPerRow==this.itemsPerRow-1?e.addStyles("margin-right:"+this.itemSpacing+"px;"):e.addStyles("margin-right: 0px;"),h>=this.count-this.itemsPerRow&&e.addStyles("margin-bottom:"+this.itemSpacing+"px;")),i+=e.generateHtml(),e.teardownRender();return i},_generateChildHtmlVariableSizedItems:function(){this.index=null;var t,e,i=null,o=this.$.client,n=this.owner.hasNode().clientWidth,s=0,r=0,h=0,a=0,l=0,d=0,g=0,p=0,c=0,u=this.itemMinWidth/this.itemMinHeight,f=[{index:0,items:[]}],m=this.owner.$._dummy_.hasNode();0===this.owner.page&&(this._itemsFromPreviousPage=0);var w=this.count+this._itemsFromPreviousPage;for(t=0,e=t+this.rowOffset-this._itemsFromPreviousPage;w>t;t++,e++){p=0,c=0,this.doSizeupItem({index:e,selected:this.isSelected(e)}),p=this.itemWidth,c=this.itemHeight,(!p||0>=p)&&(this.doSetupItem({index:e,selected:this.isSelected(e)}),m.innerHTML=o.generateChildHtml(),p=m.clientWidth,c=m.clientHeight),(!p||0>=p)&&(p=this.itemMinWidth,c=this.itemMinHeight),(!c||0>=c)&&(c=this.itemMinHeight),u=p/c,s=Math.min(p,n),this.itemMinWidth&&this.itemMinWidth>0&&(s=Math.max(p,this.itemMinWidth));var S=t==w-1;if(h=s/u,r+=s,a+=h,i={index:e,pageIndex:t,width:s,height:h},f[g].items.push(i),this.normalizeRows&&(l=r/f[g].items.length,d=a/f[g].items.length,r>=n||S)){f[g].avgHeight=d,f[g].index=g;var y=f[g].items.length,P=(n-r)/y;if(this._itemsFromPreviousPage=0,S&&P+l>1.5*l){this._itemsFromPreviousPage=y,f[g]={avgHeight:0,index:g,items:[]};break}this._normalizeRow(f[g]),S||(g++,f[g]={avgHeight:0,index:0,items:[]}),r=a=d=l=s=h=p=c=0}}m.innerHTML="";var R,C="",v="";for(t=0;f.length>t;t++)if(R=f[t],R.items&&0!==R.items.length)for(var b=0;R.items.length>b;b++)i=R.items[b],this.doSetupItem({index:i.index,selected:this.isSelected(i.index)}),o.setAttribute("data-enyo-index",i.index),o.addStyles("width:"+i.width+"px;height:"+i.height+"px;"),this.itemSpacing>=0&&o.addStyles("margin-top:"+this.itemSpacing+"px;margin-left:"+this.itemSpacing+"px;"),v=o.generateHtml(),o.teardownRender(),C+=v;return C},_normalizeRow:function(t){if(this.normalizeRows&&t.items&&0!==t.items.length){var e,i,o=this.owner.hasNode().clientWidth,n=0,s=0,r="",h=0,a=0,l=0,d=0;for(i=0;t.items.length>i;i++)e=t.items[i],h=e.width,a=e.height,s=Math.floor(t.avgHeight/a*h),r+=" "+s,e.width=s,e.height=t.avgHeight,n+=s,this.itemSpacing>=0&&(n+=this.itemSpacing,i==t.items.length-1&&(n+=this.itemSpacing));for(d=o-n,l=o/(o-d),n=0,s=0,r="",i=0;t.items.length>i;i++){e=t.items[i],h=e.width,a=e.height,s=Math.floor(h*l),r+=" "+s;var g=Math.floor(a*l);e.width=s,e.height=g,n+=s,this.itemSpacing>=0&&(n+=this.itemSpacing,i==t.items.length-1&&(n+=this.itemSpacing))}d=o-n,e=t.items[t.items.length-1],h=e.width,a=e.height,e.width=h+d,e.height=a}}});

// lib\layout\list\source\GridList.js
enyo.kind({name:"enyo.GridList",kind:"enyo.List",classes:"enyo-gridlist",published:{itemFluidWidth:!1,itemFixedSize:!1,itemMinWidth:160,itemMinHeight:160,itemWidth:160,itemHeight:160,itemSpacing:0,normalizeRows:!1},horizontal:"hidden",events:{onSizeupItem:""},show:function(t){this._calculateItemsPerRow(),this.setCount(t),this.reset()},create:enyo.inherit(function(t){return function(){this._setComponents(),t.apply(this,arguments),this.itemFluidWidthChanged(),this.itemFixedSizeChanged(),this.itemMinWidthChanged(),this.itemMinHeightChanged(),this.itemWidthChanged(),this.itemHeightChanged(),this.itemSpacingChanged(),this.normalizeRowsChanged(),this.$.generator.setClientClasses("enyo-gridlist-row")}}),itemFluidWidthChanged:function(){this.$.generator.itemFluidWidth=this.itemFluidWidth,this.setNormalizeRows(!this.itemFluidWidth&&!this.itemFixedSize)},itemFixedSizeChanged:function(){this.$.generator.itemFixedSize=this.itemFixedSize,this.setNormalizeRows(!this.itemFluidWidth&&!this.itemFixedSize)},itemWidthChanged:function(){this.$.generator.itemWidth=this.itemWidth},itemHeightChanged:function(){this.$.generator.itemHeight=this.itemHeight},itemMinWidthChanged:function(){var t=this.hasNode();t&&(this.itemMinWidth||(this.itemMinWidth=160),this.itemMinWidth=Math.min(this.itemMinWidth,t.clientWidth)),this.$.generator.itemMinWidth=this.itemMinWidth},itemMinHeightChanged:function(){var t=this.hasNode();t&&(this.itemMinHeight||(this.itemMinHeight=160),this.itemMinHeight=Math.min(this.itemMinHeight,t.clientHeight)),this.$.generator.itemMinHeight=this.itemMinHeight},itemSpacingChanged:function(){0>this.itemSpacing&&(this.itemSpacing=0),this.itemSpacing=this.itemSpacing,this.$.generator.itemSpacing=this.itemSpacing},normalizeRowsChanged:function(){this.$.generator.normalizeRows=this.normalizeRows},bottomUpChanged:function(){this.bottomUp=!1,this.pageBound="top"},reflow:enyo.inherit(function(t){return function(){this._calculateItemsPerRow(),t.apply(this,arguments)}}),_calculateItemsPerRow:function(){var t=this.hasNode();if(t){this.itemsPerRow=Math.floor((t.clientWidth-this.itemSpacing)/(this.itemMinWidth+this.itemSpacing));var e=Math.round((t.clientHeight-this.itemSpacing)/(this.itemMinHeight+this.itemSpacing));if(this.itemFixedSize||this.itemFluidWidth){var i=Math.floor((t.clientWidth-this.itemSpacing)/(this.itemWidth+this.itemSpacing)),o=Math.floor(i),n=Math.ceil(i),s=t.clientWidth-this.itemSpacing-n*(this.itemWidth+this.itemSpacing);this.itemsPerRow=s>0?n:o,e=Math.round((t.clientHeight-this.itemSpacing)/(this.itemHeight+this.itemSpacing))}this.itemsPerRow=Math.max(1,this.itemsPerRow),this.rowsPerPage=3*this.itemsPerRow*e,this.$.generator.itemsPerRow=this.itemsPerRow}},_setComponents:function(){this.listTools=enyo.clone(this.listTools),this.listTools[0]=enyo.clone(this.listTools[0]),this.listTools[0].components=enyo.clone(this.listTools[0].components);var t=this.listTools[0].components;this.createComponent(new enyo.Component({name:"_dummy_",allowHtml:!0,classes:"enyo-gridlist-dummy",showing:!1},{owner:this}));for(var e=0;t.length>e;e++)if("generator"==t[e].name)return t[e]=enyo.clone(t[e]),t[e].kind="enyo.GridFlyWeightRepeater",void 0}});

// lib\layout\list\source\GridListImageItem.js
enyo.kind({name:"enyo.GridListImageItem",classes:"enyo-gridlist-imageitem",components:[{name:"image",kind:"enyo.Image"},{name:"caption",classes:"caption"},{name:"subCaption",classes:"sub-caption"}],published:{source:"",caption:"",subCaption:"",selected:!1},bindings:[{from:".source",to:".$.image.src"},{from:".caption",to:".$.caption.content"},{from:".caption",to:".$.caption.showing",kind:"enyo.EmptyBinding"},{from:".subCaption",to:".$.subCaption.content"},{from:".subCaption",to:".$.subCaption.showing",kind:"enyo.EmptyBinding"}],create:enyo.inherit(function(t){return function(){t.apply(this,arguments),this.selectedChanged()}}),selectedChanged:function(){this.addRemoveClass("selected",this.selected)},disabledChanged:function(){this.addRemoveClass("disabled",this.disabled)}});

// lib\layout\slideable\source\Slideable.js
enyo.kind({name:"enyo.Slideable",kind:"Control",published:{axis:"h",value:0,unit:"px",min:0,max:0,accelerated:"auto",overMoving:!0,draggable:!0},events:{onAnimateFinish:"",onChange:""},preventDragPropagation:!1,tools:[{kind:"Animator",onStep:"animatorStep",onEnd:"animatorComplete"}],handlers:{ondragstart:"dragstart",ondrag:"drag",ondragfinish:"dragfinish"},kDragScalar:1,dragEventProp:"dx",unitModifier:!1,canTransform:!1,create:enyo.inherit(function(t){return function(){t.apply(this,arguments),this.acceleratedChanged(),this.transformChanged(),this.axisChanged(),this.valueChanged(),this.addClass("enyo-slideable")}}),initComponents:enyo.inherit(function(t){return function(){this.createComponents(this.tools),t.apply(this,arguments)}}),rendered:enyo.inherit(function(t){return function(){t.apply(this,arguments),this.canModifyUnit(),this.updateDragScalar()}}),resizeHandler:enyo.inherit(function(t){return function(){t.apply(this,arguments),this.updateDragScalar()}}),canModifyUnit:function(){if(!this.canTransform){var t=this.getInitialStyleValue(this.hasNode(),this.boundary);t.match(/px/i)&&"%"===this.unit&&(this.unitModifier=this.getBounds()[this.dimension])}},getInitialStyleValue:function(t,e){var i=enyo.dom.getComputedStyle(t);return i?i.getPropertyValue(e):t&&t.currentStyle?t.currentStyle[e]:"0"},updateBounds:function(t,e){var i={};i[this.boundary]=t,this.setBounds(i,this.unit),this.setInlineStyles(t,e)},updateDragScalar:function(){if("%"==this.unit){var t=this.getBounds()[this.dimension];this.kDragScalar=t?100/t:1,this.canTransform||this.updateBounds(this.value,100)}},transformChanged:function(){this.canTransform=enyo.dom.canTransform()},acceleratedChanged:function(){(!enyo.platform.android||2>=enyo.platform.android)&&enyo.dom.accelerate(this,this.accelerated)},axisChanged:function(){var t="h"==this.axis;this.dragMoveProp=t?"dx":"dy",this.shouldDragProp=t?"horizontal":"vertical",this.transform=t?"translateX":"translateY",this.dimension=t?"width":"height",this.boundary=t?"left":"top"},setInlineStyles:function(t,e){var i={};this.unitModifier?(i[this.boundary]=this.percentToPixels(t,this.unitModifier),i[this.dimension]=this.unitModifier,this.setBounds(i)):(e?i[this.dimension]=e:i[this.boundary]=t,this.setBounds(i,this.unit))},valueChanged:function(t){var e=this.value;this.isOob(e)&&!this.isAnimating()&&(this.value=this.overMoving?this.dampValue(e):this.clampValue(e)),enyo.platform.android>2&&(this.value?(0===t||void 0===t)&&enyo.dom.accelerate(this,this.accelerated):enyo.dom.accelerate(this,!1)),this.canTransform?enyo.dom.transformValue(this,this.transform,this.value+this.unit):this.setInlineStyles(this.value,!1),this.doChange()},getAnimator:function(){return this.$.animator},isAtMin:function(){return this.value<=this.calcMin()},isAtMax:function(){return this.value>=this.calcMax()},calcMin:function(){return this.min},calcMax:function(){return this.max},clampValue:function(t){var e=this.calcMin(),i=this.calcMax();return Math.max(e,Math.min(t,i))},dampValue:function(t){return this.dampBound(this.dampBound(t,this.min,1),this.max,-1)},dampBound:function(t,e,i){var o=t;return e*i>o*i&&(o=e+(o-e)/4),o},percentToPixels:function(t,e){return Math.floor(e/100*t)},pixelsToPercent:function(t){var e=this.unitModifier?this.getBounds()[this.dimension]:this.container.getBounds()[this.dimension];return 100*(t/e)},shouldDrag:function(t){return this.draggable&&t[this.shouldDragProp]},isOob:function(t){return t>this.calcMax()||this.calcMin()>t},dragstart:function(t,e){return this.shouldDrag(e)?(e.preventDefault(),this.$.animator.stop(),e.dragInfo={},this.dragging=!0,this.drag0=this.value,this.dragd0=0,this.preventDragPropagation):void 0},drag:function(t,e){if(this.dragging){e.preventDefault();var i=this.canTransform?e[this.dragMoveProp]*this.kDragScalar:this.pixelsToPercent(e[this.dragMoveProp]),o=this.drag0+i,n=i-this.dragd0;return this.dragd0=i,n&&(e.dragInfo.minimizing=0>n),this.setValue(o),this.preventDragPropagation}},dragfinish:function(t,e){return this.dragging?(this.dragging=!1,this.completeDrag(e),e.preventTap(),this.preventDragPropagation):void 0},completeDrag:function(t){this.value!==this.calcMax()&&this.value!=this.calcMin()&&this.animateToMinMax(t.dragInfo.minimizing)},isAnimating:function(){return this.$.animator.isAnimating()},play:function(t,e){this.$.animator.play({startValue:t,endValue:e,node:this.hasNode()})},animateTo:function(t){this.play(this.value,t)},animateToMin:function(){this.animateTo(this.calcMin())},animateToMax:function(){this.animateTo(this.calcMax())},animateToMinMax:function(t){t?this.animateToMin():this.animateToMax()},animatorStep:function(t){return this.setValue(t.value),!0},animatorComplete:function(t){return this.doAnimateFinish(t),!0},toggleMinMax:function(){this.animateToMinMax(!this.isAtMin())}});

// lib\layout\panels\source\arrangers\Arranger.js
enyo.kind({name:"enyo.Arranger",kind:"Layout",layoutClass:"enyo-arranger",accelerated:"auto",dragProp:"ddx",dragDirectionProp:"xDirection",canDragProp:"horizontal",incrementalPoints:!1,destroy:enyo.inherit(function(t){return function(){for(var e,i=this.container.getPanels(),n=0;e=i[n];n++)e._arranger=null;t.apply(this,arguments)}}),arrange:function(){},size:function(){},start:function(){var t=this.container.fromIndex,e=this.container.toIndex,i=this.container.transitionPoints=[t];if(this.incrementalPoints)for(var n=Math.abs(e-t)-2,o=t;n>=0;)o+=t>e?-1:1,i.push(o),n--;i.push(this.container.toIndex)},finish:function(){},calcArrangementDifference:function(){},canDragEvent:function(t){return t[this.canDragProp]},calcDragDirection:function(t){return t[this.dragDirectionProp]},calcDrag:function(t){return t[this.dragProp]},drag:function(t,e,i,n,o){var s=this.measureArrangementDelta(-t,e,i,n,o);return s},measureArrangementDelta:function(t,e,i,n,o){var s=this.calcArrangementDifference(e,i,n,o),r=s?t/Math.abs(s):0;return r*=this.container.fromIndex>this.container.toIndex?-1:1},_arrange:function(t){this.containerBounds||this.reflow();var e=this.getOrderedControls(t);this.arrange(e,t)},arrangeControl:function(t,e){t._arranger=enyo.mixin(t._arranger||{},e)},flow:function(){this.c$=[].concat(this.container.getPanels()),this.controlsIndex=0;for(var t,e=0,i=this.container.getPanels();t=i[e];e++)if(enyo.dom.accelerate(t,!t.preventAccelerate&&this.accelerated),enyo.platform.safari)for(var n,o=t.children,s=0;n=o[s];s++)enyo.dom.accelerate(n,this.accelerated)},reflow:function(){var t=this.container.hasNode();this.containerBounds=t?{width:t.clientWidth,height:t.clientHeight}:{},this.size()},flowArrangement:function(){var t=this.container.arrangement;if(t)for(var e,i=0,n=this.container.getPanels();e=n[i];i++)this.flowControl(e,t[i])},flowControl:function(t,e){enyo.Arranger.positionControl(t,e);var i=e.opacity;null!=i&&enyo.Arranger.opacifyControl(t,i)},getOrderedControls:function(t){for(var e=Math.floor(t),i=e-this.controlsIndex,n=i>0,o=this.c$||[],s=0;Math.abs(i)>s;s++)n?o.push(o.shift()):o.unshift(o.pop());return this.controlsIndex=e,o},statics:{positionControl:function(t,e,i){var n=i||"px";if(!this.updating)if(!enyo.dom.canTransform()||t.preventTransform||enyo.platform.android||10===enyo.platform.ie)enyo.dom.canTransform()&&t.preventTransform&&enyo.dom.transform(t,{translateX:null,translateY:null}),t.setBounds(e,i);else{var o=e.left,s=e.top;o=enyo.isString(o)?o:o&&o+n,s=enyo.isString(s)?s:s&&s+n,enyo.dom.transform(t,{translateX:o||null,translateY:s||null})}},opacifyControl:function(t,e){var i=e;i=i>.99?1:.01>i?0:i,9>enyo.platform.ie?t.applyStyle("filter","progid:DXImageTransform.Microsoft.Alpha(Opacity="+100*i+")"):t.applyStyle("opacity",i)}}});

// lib\layout\panels\source\arrangers\CardArranger.js
enyo.kind({name:"enyo.CardArranger",kind:"Arranger",layoutClass:"enyo-arranger enyo-arranger-fit",calcArrangementDifference:function(){return this.containerBounds.width},arrange:function(t){for(var e,i,n=0;e=t[n];n++)i=0===n?1:0,this.arrangeControl(e,{opacity:i})},start:enyo.inherit(function(t){return function(){t.apply(this,arguments);for(var e,i=this.container.getPanels(),n=0;e=i[n];n++){var o=e.showing;e.setShowing(n==this.container.fromIndex||n==this.container.toIndex),e.showing&&!o&&e.resized()}}}),finish:enyo.inherit(function(t){return function(){t.apply(this,arguments);for(var e,i=this.container.getPanels(),n=0;e=i[n];n++)e.setShowing(n==this.container.toIndex)}}),destroy:enyo.inherit(function(t){return function(){for(var e,i=this.container.getPanels(),n=0;e=i[n];n++)enyo.Arranger.opacifyControl(e,1),e.showing||e.setShowing(!0);t.apply(this,arguments)}})});

// lib\layout\panels\source\arrangers\CardSlideInArranger.js
enyo.kind({name:"enyo.CardSlideInArranger",kind:"CardArranger",start:function(){for(var t,e=this.container.getPanels(),i=0;t=e[i];i++){var n=t.showing;t.setShowing(i==this.container.fromIndex||i==this.container.toIndex),t.showing&&!n&&t.resized()}var o=this.container.fromIndex;i=this.container.toIndex,this.container.transitionPoints=[i+"."+o+".s",i+"."+o+".f"]},finish:enyo.inherit(function(t){return function(){t.apply(this,arguments);for(var e,i=this.container.getPanels(),n=0;e=i[n];n++)e.setShowing(n==this.container.toIndex)}}),arrange:function(t,e){for(var i,n,o=e.split("."),s=o[0],r=o[1],a="s"==o[2],h=this.containerBounds.width,l=0,d=this.container.getPanels();i=d[l];l++)n=h,r==l&&(n=a?0:-h),s==l&&(n=a?h:0),r==l&&r==s&&(n=0),this.arrangeControl(i,{left:n})},destroy:enyo.inherit(function(t){return function(){for(var e,i=this.container.getPanels(),n=0;e=i[n];n++)enyo.Arranger.positionControl(e,{left:null});t.apply(this,arguments)}})});

// lib\layout\panels\source\arrangers\CarouselArranger.js
enyo.kind({name:"enyo.CarouselArranger",kind:"Arranger",size:function(){var t,e,i,n,o,s=this.container.getPanels(),r=this.containerPadding=this.container.hasNode()?enyo.dom.calcPaddingExtents(this.container.node):{},a=this.containerBounds;a.height-=r.top+r.bottom,a.width-=r.left+r.right;var h;for(t=0,i=0;o=s[t];t++)n=enyo.dom.calcMarginExtents(o.hasNode()),o.width=o.getBounds().width,o.marginWidth=n.right+n.left,i+=(o.fit?0:o.width)+o.marginWidth,o.fit&&(h=o);if(h){var l=a.width-i;h.width=l>=0?l:h.width}for(t=0,e=r.left;o=s[t];t++)o.setBounds({top:r.top,bottom:r.bottom,width:o.fit?o.width:null})},arrange:function(t,e){this.container.wrap?this.arrangeWrap(t,e):this.arrangeNoWrap(t,e)},arrangeNoWrap:function(t,e){var i,n,o,s,r=this.container.getPanels(),a=this.container.clamp(e),h=this.containerBounds.width;for(i=a,o=0;(s=r[i])&&(o+=s.width+s.marginWidth,!(o>h));i++);var l=h-o,d=0;if(l>0)for(i=a-1,n=0;s=r[i];i--)if(n+=s.width+s.marginWidth,0>=l-n){d=l-n,a=i;break}var c,g;for(i=0,g=this.containerPadding.left+d;s=r[i];i++)c=s.width+s.marginWidth,a>i?this.arrangeControl(s,{left:-c}):(this.arrangeControl(s,{left:Math.floor(g)}),g+=c)},arrangeWrap:function(t){for(var e,i=0,n=this.containerPadding.left;e=t[i];i++)this.arrangeControl(e,{left:n}),n+=e.width+e.marginWidth},calcArrangementDifference:function(t,e,i,n){var o=Math.abs(t%this.c$.length);return e[o].left-n[o].left},destroy:enyo.inherit(function(t){return function(){for(var e,i=this.container.getPanels(),n=0;e=i[n];n++)enyo.Arranger.positionControl(e,{left:null,top:null}),e.applyStyle("top",null),e.applyStyle("bottom",null),e.applyStyle("left",null),e.applyStyle("width",null);t.apply(this,arguments)}})});

// lib\layout\panels\source\arrangers\CollapsingArranger.js
enyo.kind({name:"enyo.CollapsingArranger",kind:"CarouselArranger",peekWidth:0,size:enyo.inherit(function(t){return function(){this.clearLastSize(),t.apply(this,arguments)}}),clearLastSize:function(){for(var t,e=0,i=this.container.getPanels();t=i[e];e++)t._fit&&e!=i.length-1&&(t.applyStyle("width",null),t._fit=null)},constructor:enyo.inherit(function(t){return function(){t.apply(this,arguments),this.peekWidth=null!=this.container.peekWidth?this.container.peekWidth:this.peekWidth}}),arrange:function(t,e){for(var i,n=this.container.getPanels(),o=0,s=this.containerPadding.left,r=0;i=n[o];o++)i.getShowing()?(this.arrangeControl(i,{left:s+r*this.peekWidth}),o>=e&&(s+=i.width+i.marginWidth-this.peekWidth),r++):(this.arrangeControl(i,{left:s}),o>=e&&(s+=i.width+i.marginWidth)),o==n.length-1&&0>e&&this.arrangeControl(i,{left:s-e})},calcArrangementDifference:function(t,e,i,n){var o=this.container.getPanels().length-1;return Math.abs(n[o].left-e[o].left)},flowControl:enyo.inherit(function(t){return function(e,i){if(t.apply(this,arguments),this.container.realtimeFit){var n=this.container.getPanels(),o=n.length-1,s=n[o];e==s&&this.fitControl(e,i.left)}}}),finish:enyo.inherit(function(t){return function(){if(t.apply(this,arguments),!this.container.realtimeFit&&this.containerBounds){var e=this.container.getPanels(),i=this.container.arrangement,n=e.length-1,o=e[n];this.fitControl(o,i[n].left)}}}),fitControl:function(t,e){t._fit=!0,t.applyStyle("width",this.containerBounds.width-e+"px"),t.resized()}});

// lib\layout\panels\source\arrangers\DockRightArranger.js
enyo.kind({name:"enyo.DockRightArranger",kind:"Arranger",basePanel:!1,overlap:0,layoutWidth:0,constructor:enyo.inherit(function(t){return function(){t.apply(this,arguments),this.overlap=null!=this.container.overlap?this.container.overlap:this.overlap,this.layoutWidth=null!=this.container.layoutWidth?this.container.layoutWidth:this.layoutWidth}}),size:function(){var t,e,i,n=this.container.getPanels(),o=this.containerPadding=this.container.hasNode()?enyo.dom.calcPaddingExtents(this.container.node):{},s=this.containerBounds;s.width-=o.left+o.right;var r,a=s.width,h=n.length;for(this.container.transitionPositions={},t=0;i=n[t];t++)i.width=0===t&&this.container.basePanel?a:i.getBounds().width;for(t=0;i=n[t];t++){0===t&&this.container.basePanel&&i.setBounds({width:a}),i.setBounds({top:o.top,bottom:o.bottom});for(var l=0;i=n[l];l++){var d;if(0===t&&this.container.basePanel)d=0;else if(t>l)d=a;else{if(t!==l)break;r=a>this.layoutWidth?this.overlap:0,d=a-n[t].width+r}this.container.transitionPositions[t+"."+l]=d}if(h>l)for(var c=!1,g=t+1;h>g;g++){if(r=0,c)r=0;else if(n[t].width+n[g].width-this.overlap>a)r=0,c=!0;else{for(r=n[t].width-this.overlap,e=t;g>e;e++){var u=r+n[e+1].width-this.overlap;if(!(a>u)){r=a;break}r=u}r=a-r}this.container.transitionPositions[t+"."+g]=r}}},arrange:function(t,e){var i,n,o=this.container.getPanels(),s=this.container.clamp(e);for(i=0;n=o[i];i++){var r=this.container.transitionPositions[i+"."+s];this.arrangeControl(n,{left:r})}},calcArrangementDifference:function(t,e,i){var n=this.container.getPanels(),o=i>t?n[i].width:n[t].width;return o},destroy:enyo.inherit(function(t){return function(){for(var e,i=this.container.getPanels(),n=0;e=i[n];n++)enyo.Arranger.positionControl(e,{left:null,top:null}),e.applyStyle("top",null),e.applyStyle("bottom",null),e.applyStyle("left",null),e.applyStyle("width",null);t.apply(this,arguments)}})});

// lib\layout\panels\source\arrangers\OtherArrangers.js
enyo.kind({name:"enyo.LeftRightArranger",kind:"Arranger",margin:40,axisSize:"width",offAxisSize:"height",axisPosition:"left",constructor:enyo.inherit(function(t){return function(){t.apply(this,arguments),this.margin=null!=this.container.margin?this.container.margin:this.margin}}),size:function(){for(var t,e,i=this.container.getPanels(),n=this.containerBounds[this.axisSize],o=n-this.margin-this.margin,s=0;e=i[s];s++)t={},t[this.axisSize]=o,t[this.offAxisSize]="100%",e.setBounds(t)},start:enyo.inherit(function(t){return function(){t.apply(this,arguments);for(var e,i=this.container.fromIndex,n=this.container.toIndex,o=this.getOrderedControls(n),s=Math.floor(o.length/2),r=0;e=o[r];r++)i>n?r==o.length-s?e.applyStyle("z-index",0):e.applyStyle("z-index",1):r==o.length-1-s?e.applyStyle("z-index",0):e.applyStyle("z-index",1)}}),arrange:function(t,e){var i,n,o;if(1==this.container.getPanels().length)return o={},o[this.axisPosition]=this.margin,this.arrangeControl(this.container.getPanels()[0],o),void 0;var s=Math.floor(this.container.getPanels().length/2),r=this.getOrderedControls(Math.floor(e)-s),a=this.containerBounds[this.axisSize]-this.margin-this.margin,h=this.margin-a*s;for(i=0;n=r[i];i++)o={},o[this.axisPosition]=h,this.arrangeControl(n,o),h+=a},calcArrangementDifference:function(t,e,i,n){if(1==this.container.getPanels().length)return 0;var o=Math.abs(t%this.c$.length);return e[o][this.axisPosition]-n[o][this.axisPosition]},destroy:enyo.inherit(function(t){return function(){for(var e,i=this.container.getPanels(),n=0;e=i[n];n++)enyo.Arranger.positionControl(e,{left:null,top:null}),enyo.Arranger.opacifyControl(e,1),e.applyStyle("left",null),e.applyStyle("top",null),e.applyStyle("height",null),e.applyStyle("width",null);t.apply(this,arguments)}})}),enyo.kind({name:"enyo.TopBottomArranger",kind:"LeftRightArranger",dragProp:"ddy",dragDirectionProp:"yDirection",canDragProp:"vertical",axisSize:"height",offAxisSize:"width",axisPosition:"top"}),enyo.kind({name:"enyo.SpiralArranger",kind:"Arranger",incrementalPoints:!0,inc:20,size:function(){for(var t,e=this.container.getPanels(),i=this.containerBounds,n=this.controlWidth=i.width/3,o=this.controlHeight=i.height/3,s=0;t=e[s];s++)t.setBounds({width:n,height:o})},arrange:function(t){for(var e,i=this.inc,n=0,o=t.length;e=t[n];n++){var s=Math.cos(2*(n/o)*Math.PI)*n*i+this.controlWidth,r=Math.sin(2*(n/o)*Math.PI)*n*i+this.controlHeight;this.arrangeControl(e,{left:s,top:r})}},start:enyo.inherit(function(t){return function(){t.apply(this,arguments);for(var e,i=this.getOrderedControls(this.container.toIndex),n=0;e=i[n];n++)e.applyStyle("z-index",i.length-n)}}),calcArrangementDifference:function(){return this.controlWidth},destroy:enyo.inherit(function(t){return function(){for(var e,i=this.container.getPanels(),n=0;e=i[n];n++)e.applyStyle("z-index",null),enyo.Arranger.positionControl(e,{left:null,top:null}),e.applyStyle("left",null),e.applyStyle("top",null),e.applyStyle("height",null),e.applyStyle("width",null);t.apply(this,arguments)}})}),enyo.kind({name:"enyo.GridArranger",kind:"Arranger",incrementalPoints:!0,colWidth:100,colHeight:100,size:function(){for(var t,e=this.container.getPanels(),i=this.colWidth,n=this.colHeight,o=0;t=e[o];o++)t.setBounds({width:i,height:n})},arrange:function(t){for(var e,i=this.colWidth,n=this.colHeight,o=Math.max(1,Math.floor(this.containerBounds.width/i)),s=0,r=0;t.length>r;s++)for(var a=0;o>a&&(e=t[r]);a++,r++)this.arrangeControl(e,{left:i*a,top:n*s})},flowControl:enyo.inherit(function(t){return function(e,i){t.apply(this,arguments),enyo.Arranger.opacifyControl(e,0!==i.top%this.colHeight?.25:1)}}),calcArrangementDifference:function(){return this.colWidth},destroy:enyo.inherit(function(t){return function(){for(var e,i=this.container.getPanels(),n=0;e=i[n];n++)enyo.Arranger.positionControl(e,{left:null,top:null}),e.applyStyle("left",null),e.applyStyle("top",null),e.applyStyle("height",null),e.applyStyle("width",null);t.apply(this,arguments)}})});

// lib\layout\panels\source\Panels.js
enyo.kind({name:"enyo.Panels",classes:"enyo-panels",published:{index:0,draggable:!0,animate:!0,wrap:!1,arrangerKind:"CardArranger",narrowFit:!0},events:{onTransitionStart:"",onTransitionFinish:""},handlers:{ondragstart:"dragstart",ondrag:"drag",ondragfinish:"dragfinish",onscroll:"domScroll",onDisableTranslation:"disableTranslation"},tools:[{kind:"Animator",onStep:"step",onEnd:"completed"}],fraction:0,create:enyo.inherit(function(t){return function(){this.transitionPoints=[],t.apply(this,arguments),this.arrangerKindChanged(),this.narrowFitChanged(),this.indexChanged()}}),rendered:enyo.inherit(function(t){return function(){t.apply(this,arguments),enyo.makeBubble(this,"scroll")}}),domScroll:function(){this.hasNode()&&this.node.scrollLeft>0&&(this.node.scrollLeft=0)},initComponents:enyo.inherit(function(t){return function(){this.createChrome(this.tools),t.apply(this,arguments)}}),arrangerKindChanged:function(){this.setLayoutKind(this.arrangerKind)},narrowFitChanged:function(){this.addRemoveClass("enyo-panels-fit-narrow",this.narrowFit)},destroy:enyo.inherit(function(t){return function(){this.destroying=!0,t.apply(this,arguments)}}),removeControl:enyo.inherit(function(t){return function(e){if(this.destroying)return t.apply(this,arguments);var i=-1,n=enyo.indexOf(e,this.controls);n===this.index&&(i=Math.max(n-1,0)),t.apply(this,arguments),-1!==i&&this.controls.length>0&&(this.setIndex(i),this.flow(),this.reflow())}}),isPanel:function(){return!0},flow:enyo.inherit(function(t){return function(){this.arrangements=[],t.apply(this,arguments)}}),reflow:enyo.inherit(function(t){return function(){this.arrangements=[],t.apply(this,arguments),this.refresh()}}),disableTranslation:function(){this.generated&&this.layout.flowArrangement()},adjustComponentProps:enyo.inherit(function(t){return function(e){e.isChrome||(e.handlers={onDisableTranslation:"disableTranslation"},e.disableTranslation=function(){this.preventTransform=!0}),t.apply(this,arguments)}}),getPanels:function(){var t=this.controlParent||this;return t.children},getActive:function(){var t=this.getPanels(),e=this.index%t.length;return 0>e&&(e+=t.length),t[e]},getAnimator:function(){return this.$.animator},setIndex:function(t){var e=this.get("index");this.index=this.clamp(t),this.notifyObservers("index",e,t)},setIndexDirect:function(t){this.setIndex(t),this.completed()},selectPanelByName:function(t){if(t)for(var e=0,i=this.getPanels(),n=i.length;n>e;++e)if(t===i[e].name)return this.setIndex(e),e},previous:function(){var t=this.index-1;this.wrap&&0>t&&(t=this.getPanels().length-1),this.setIndex(t)},next:function(){var t=this.index+1;this.wrap&&t>=this.getPanels().length&&(t=0),this.setIndex(t)},clamp:function(t){var e=this.getPanels().length-1;return this.wrap?t:Math.max(0,Math.min(t,e))},indexChanged:function(t){this.lastIndex=t,!this.dragging&&this.$.animator&&(this.$.animator.isAnimating()&&(this.finishTransitionInfo&&(this.finishTransitionInfo.animating=!0),this.completed()),this.$.animator.stop(),this.hasNode()&&(this.animate?(this.startTransition(!0),this.$.animator.play({startValue:this.fraction})):this.refresh()))},step:function(t){return this.fraction=t.value,this.stepTransition(),!0},completed:function(){return this.$.animator.isAnimating()&&this.$.animator.stop(),this.fraction=1,this.stepTransition(),this.finishTransition(!0),!0},dragstart:function(t,e){return this.draggable&&this.layout&&this.layout.canDragEvent(e)?(e.preventDefault(),this.dragstartTransition(e),this.dragging=!0,this.$.animator.stop(),!0):void 0},drag:function(t,e){this.dragging&&(e.preventDefault(),this.dragTransition(e))},dragfinish:function(t,e){this.dragging&&(this.dragging=!1,e.preventTap(),this.dragfinishTransition(e))},dragstartTransition:function(t){if(this.$.animator.isAnimating())this.verifyDragTransition(t);else{var e=this.fromIndex=this.index;this.toIndex=e-(this.layout?this.layout.calcDragDirection(t):0)}this.fromIndex=this.clamp(this.fromIndex),this.toIndex=this.clamp(this.toIndex),this.fireTransitionStart(),this.layout&&this.layout.start()},dragTransition:function(t){var e=this.layout?this.layout.calcDrag(t):0,i=this.transitionPoints,n=i[0],o=i[i.length-1],s=this.fetchArrangement(n),r=this.fetchArrangement(o),a=this.layout?this.layout.drag(e,n,s,o,r):0,h=e&&!a;this.fraction+=a;var l=this.fraction;(l>1||0>l||h)&&((l>0||h)&&this.dragfinishTransition(t),this.dragstartTransition(t),this.fraction=0),this.stepTransition()},dragfinishTransition:function(t){this.verifyDragTransition(t),this.setIndex(this.toIndex),this.dragging&&this.fireTransitionFinish()},verifyDragTransition:function(t){var e=this.layout?this.layout.calcDragDirection(t):0,i=Math.min(this.fromIndex,this.toIndex),n=Math.max(this.fromIndex,this.toIndex);if(e>0){var o=i;i=n,n=o}i!=this.fromIndex&&(this.fraction=1-this.fraction),this.fromIndex=i,this.toIndex=n},refresh:function(){this.$.animator&&this.$.animator.isAnimating()&&this.$.animator.stop(),this.startTransition(!1),this.fraction=1,this.stepTransition(),this.finishTransition(!1)},startTransition:function(t){this.fromIndex=null!=this.fromIndex?this.fromIndex:this.lastIndex||0,this.toIndex=null!=this.toIndex?this.toIndex:this.index,this.layout&&this.layout.start(),t&&this.fireTransitionStart()},finishTransition:function(t){this.layout&&this.layout.finish(),this.transitionPoints=[],this.fraction=0,this.fromIndex=this.toIndex=null,t&&this.fireTransitionFinish()},fireTransitionStart:function(){var t=this.startTransitionInfo;!this.hasNode()||t&&t.fromIndex==this.fromIndex&&t.toIndex==this.toIndex||(this.startTransitionInfo={fromIndex:this.fromIndex,toIndex:this.toIndex},this.doTransitionStart(enyo.clone(this.startTransitionInfo)))},fireTransitionFinish:function(){var t=this.finishTransitionInfo;!this.hasNode()||t&&t.fromIndex==this.lastIndex&&t.toIndex==this.index||(this.finishTransitionInfo=t&&t.animating?{fromIndex:t.toIndex,toIndex:this.lastIndex}:{fromIndex:this.lastIndex,toIndex:this.index},this.doTransitionFinish(enyo.clone(this.finishTransitionInfo)))},stepTransition:function(){if(this.hasNode()){var t=this.transitionPoints,e=(this.fraction||0)*(t.length-1),i=Math.floor(e);e-=i;var n=t[i],o=t[i+1],s=this.fetchArrangement(n),r=this.fetchArrangement(o);this.arrangement=s&&r?enyo.Panels.lerp(s,r,e):s||r,this.arrangement&&this.layout&&this.layout.flowArrangement()}},fetchArrangement:function(t){return null!=t&&!this.arrangements[t]&&this.layout&&(this.layout._arrange(t),this.arrangements[t]=this.readArrangement(this.getPanels())),this.arrangements[t]},readArrangement:function(t){for(var e,i=[],n=0,o=t;e=o[n];n++)i.push(enyo.clone(e._arranger));return i},statics:{isScreenNarrow:function(){return 800>=enyo.dom.getWindowWidth()},lerp:function(t,e,i){for(var n,o=[],s=0,r=enyo.keys(t);n=r[s];s++)o.push(this.lerpObject(t[n],e[n],i));return o},lerpObject:function(t,e,i){var n,o,s=enyo.clone(t);if(e)for(var r in t)n=t[r],o=e[r],n!=o&&(s[r]=n-(n-o)*i);return s}}});

// lib\layout\tree\source\Node.js
enyo.kind({name:"enyo.Node",published:{expandable:!1,expanded:!1,icon:"",onlyIconExpands:!1,selected:!1},style:"padding: 0 0 0 16px;",content:"Node",defaultKind:"Node",classes:"enyo-node",components:[{name:"icon",kind:"Image",showing:!1},{kind:"Control",name:"caption",Xtag:"span",style:"display: inline-block; padding: 4px;",allowHtml:!0},{kind:"Control",name:"extra",tag:"span",allowHtml:!0}],childClient:[{kind:"Control",name:"box",classes:"enyo-node-box",Xstyle:"border: 1px solid orange;",components:[{kind:"Control",name:"client",classes:"enyo-node-client",Xstyle:"border: 1px solid lightblue;"}]}],handlers:{ondblclick:"dblclick"},events:{onNodeTap:"nodeTap",onNodeDblClick:"nodeDblClick",onExpand:"nodeExpand",onDestroyed:"nodeDestroyed"},create:enyo.inherit(function(t){return function(){t.apply(this,arguments),this.selectedChanged(),this.iconChanged()}}),destroy:enyo.inherit(function(t){return function(){this.doDestroyed(),t.apply(this,arguments)}}),initComponents:enyo.inherit(function(t){return function(){this.expandable&&(this.kindComponents=this.kindComponents.concat(this.childClient)),t.apply(this,arguments)}}),contentChanged:function(){this.$.caption.setContent(this.content)},iconChanged:function(){this.$.icon.setSrc(this.icon),this.$.icon.setShowing(Boolean(this.icon))},selectedChanged:function(){this.addRemoveClass("enyo-selected",this.selected)},rendered:enyo.inherit(function(t){return function(){t.apply(this,arguments),this.expandable&&!this.expanded&&this.quickCollapse()}}),addNodes:function(t){this.destroyClientControls();for(var e,i=0;e=t[i];i++)this.createComponent(e);this.$.client.render()},addTextNodes:function(t){this.destroyClientControls();for(var e,i=0;e=t[i];i++)this.createComponent({content:e});this.$.client.render()},tap:function(t,e){return this.onlyIconExpands?e.target==this.$.icon.hasNode()?this.toggleExpanded():this.doNodeTap():(this.toggleExpanded(),this.doNodeTap()),!0},dblclick:function(){return this.doNodeDblClick(),!0},toggleExpanded:function(){this.setExpanded(!this.expanded)},quickCollapse:function(){this.removeClass("enyo-animate"),this.$.box.applyStyle("height","0");var t=this.$.client.getBounds().height;this.$.client.setBounds({top:-t})},_expand:function(){this.addClass("enyo-animate");var t=this.$.client.getBounds().height;this.$.box.setBounds({height:t}),this.$.client.setBounds({top:0}),setTimeout(this.bindSafely(function(){this.expanded&&(this.removeClass("enyo-animate"),this.$.box.applyStyle("height","auto"))}),225)},_collapse:function(){this.removeClass("enyo-animate");var t=this.$.client.getBounds().height;this.$.box.setBounds({height:t}),setTimeout(this.bindSafely(function(){this.addClass("enyo-animate"),this.$.box.applyStyle("height","0"),this.$.client.setBounds({top:-t})}),25)},expandedChanged:function(){if(this.expandable){var t={expanded:this.expanded};this.doExpand(t),t.wait||this.effectExpanded()}else this.expanded=!1},effectExpanded:function(){this.$.client&&(this.expanded?this._expand():this._collapse())}});

// lib\layout\imageview\source\PanZoomView.js
enyo.kind({name:"enyo.PanZoomView",kind:enyo.Scroller,touchOverscroll:!1,thumb:!1,animate:!0,verticalDragPropagation:!0,horizontalDragPropagation:!0,published:{scale:"auto",disableZoom:!1},events:{onZoom:""},touch:!0,preventDragPropagation:!1,handlers:{ondragstart:"dragPropagation",onSetDimensions:"setDimensions"},components:[{name:"animator",kind:"Animator",onStep:"zoomAnimationStep",onEnd:"zoomAnimationEnd"},{name:"viewport",style:"overflow:hidden;min-height:100%;min-width:100%;",classes:"enyo-fit",ongesturechange:"gestureTransform",ongestureend:"saveState",ontap:"singleTap",ondblclick:"doubleClick",onmousewheel:"mousewheel",components:[{name:"content"}]}],create:enyo.inherit(function(t){return function(){this.scaleKeyword=this.scale;var e=this.components;this.components=[],t.apply(this,arguments),this.$.content.applyStyle("width",this.contentWidth+"px"),this.$.content.applyStyle("height",this.contentHeight+"px"),this.unscaledComponents&&this.createComponents(this.unscaledComponents),this.controlParentName="content",this.discoverControlParent(),this.createComponents(e),this.canTransform=enyo.dom.canTransform(),this.canTransform||this.$.content.applyStyle("position","relative"),this.canAccelerate=enyo.dom.canAccelerate(),this.getStrategy().setDragDuringGesture(!1)}}),rendered:enyo.inherit(function(t){return function(){t.apply(this,arguments),this.getOriginalScale()}}),dragPropagation:function(t,e){var i=this.getStrategy().getScrollBounds(),n=0===i.top&&e.dy>0||i.top>=i.maxTop-2&&0>e.dy,o=0===i.left&&e.dx>0||i.left>=i.maxLeft-2&&0>e.dx;return!(n&&this.verticalDragPropagation||o&&this.horizontalDragPropagation)},mousewheel:function(t,e){e.pageX|=e.clientX+e.target.scrollLeft,e.pageY|=e.clientY+e.target.scrollTop;var i=(this.maxScale-this.minScale)/10,n=this.scale;return e.wheelDelta>0||0>e.detail?this.scale=this.limitScale(this.scale+i):(0>e.wheelDelta||e.detail>0)&&(this.scale=this.limitScale(this.scale-i)),this.eventPt=this.calcEventLocation(e),this.transform(this.scale),n!=this.scale&&this.doZoom({scale:this.scale}),this.ratioX=this.ratioY=null,e.preventDefault(),!0},resizeHandler:enyo.inherit(function(t){return function(){t.apply(this,arguments),this.scaleChanged()}}),setDimensions:function(t,e){return this.$.content.applyStyle("width",e.width+"px"),this.$.content.applyStyle("height",e.height+"px"),this.originalWidth=e.width,this.originalHeight=e.height,this.scale=this.scaleKeyword,this.scaleChanged(),!0},getOriginalScale:function(){this.$.content.hasNode()&&(this.originalWidth=this.$.content.node.clientWidth,this.originalHeight=this.$.content.node.clientHeight,this.scale=this.scaleKeyword,this.scaleChanged())},scaleChanged:function(){var t=this.hasNode();if(t){this.containerWidth=t.clientWidth,this.containerHeight=t.clientHeight;var e=this.containerWidth/this.originalWidth,i=this.containerHeight/this.originalHeight;this.minScale=Math.min(e,i),this.maxScale=1>3*this.minScale?1:3*this.minScale,"auto"==this.scale?this.scale=this.minScale:"width"==this.scale?this.scale=e:"height"==this.scale?this.scale=i:"fit"==this.scale?(this.fitAlignment="center",this.scale=Math.max(e,i)):(this.maxScale=Math.max(this.maxScale,this.scale),this.scale=this.limitScale(this.scale))}this.eventPt=this.calcEventLocation(),this.transform(this.scale),this.getStrategy().$.scrollMath&&this.getStrategy().$.scrollMath.start(),this.align()},align:function(){if(this.fitAlignment&&"center"===this.fitAlignment){var t=this.getScrollBounds();this.setScrollLeft(t.maxLeft/2),this.setScrollTop(t.maxTop/2)}},gestureTransform:function(t,e){this.eventPt=this.calcEventLocation(e),this.transform(this.limitScale(this.scale*e.scale))},calcEventLocation:function(t){var e={x:0,y:0};if(t&&this.hasNode()){var i=this.node.getBoundingClientRect();e.x=Math.round(t.pageX-i.left-this.bounds.x),e.x=Math.max(0,Math.min(this.bounds.width,e.x)),e.y=Math.round(t.pageY-i.top-this.bounds.y),e.y=Math.max(0,Math.min(this.bounds.height,e.y))}return e},transform:function(t){this.tapped=!1;var e=this.bounds||this.innerBounds(t);this.bounds=this.innerBounds(t),this.scale>this.minScale?this.$.viewport.applyStyle("cursor","move"):this.$.viewport.applyStyle("cursor",null),this.$.viewport.setBounds({width:this.bounds.width+"px",height:this.bounds.height+"px"}),this.ratioX=this.ratioX||(this.eventPt.x+this.getScrollLeft())/e.width,this.ratioY=this.ratioY||(this.eventPt.y+this.getScrollTop())/e.height;var i,n;if(this.$.animator.ratioLock?(i=this.$.animator.ratioLock.x*this.bounds.width-this.containerWidth/2,n=this.$.animator.ratioLock.y*this.bounds.height-this.containerHeight/2):(i=this.ratioX*this.bounds.width-this.eventPt.x,n=this.ratioY*this.bounds.height-this.eventPt.y),i=Math.max(0,Math.min(this.bounds.width-this.containerWidth,i)),n=Math.max(0,Math.min(this.bounds.height-this.containerHeight,n)),this.canTransform){var o={scale:t};o=this.canAccelerate?enyo.mixin({translate3d:Math.round(this.bounds.left)+"px, "+Math.round(this.bounds.top)+"px, 0px"},o):enyo.mixin({translate:this.bounds.left+"px, "+this.bounds.top+"px"},o),enyo.dom.transform(this.$.content,o)}else if(enyo.platform.ie){var s='"progid:DXImageTransform.Microsoft.Matrix(M11='+t+", M12=0, M21=0, M22="+t+", SizingMethod='auto expand')\"";this.$.content.applyStyle("-ms-filter",s),this.$.content.setBounds({width:this.bounds.width*t+"px",height:this.bounds.height*t+"px",left:this.bounds.left+"px",top:this.bounds.top+"px"}),this.$.content.applyStyle("width",t*this.bounds.width),this.$.content.applyStyle("height",t*this.bounds.height)}this.setScrollLeft(i),this.setScrollTop(n),this.positionClientControls(t)},limitScale:function(t){return this.disableZoom?t=this.scale:t>this.maxScale?t=this.maxScale:this.minScale>t&&(t=this.minScale),t},innerBounds:function(t){var e=this.originalWidth*t,i=this.originalHeight*t,n={x:0,y:0,transX:0,transY:0};return this.containerWidth>e&&(n.x+=(this.containerWidth-e)/2),this.containerHeight>i&&(n.y+=(this.containerHeight-i)/2),this.canTransform&&(n.transX-=(this.originalWidth-e)/2,n.transY-=(this.originalHeight-i)/2),{left:n.x+n.transX,top:n.y+n.transY,width:e,height:i,x:n.x,y:n.y}},saveState:function(t,e){var i=this.scale;this.scale*=e.scale,this.scale=this.limitScale(this.scale),i!=this.scale&&this.doZoom({scale:this.scale}),this.ratioX=this.ratioY=null},doubleClick:function(t,e){8==enyo.platform.ie&&(this.tapped=!0,e.pageX=e.clientX+e.target.scrollLeft,e.pageY=e.clientY+e.target.scrollTop,this.singleTap(t,e),e.preventDefault())},singleTap:function(t,e){setTimeout(this.bindSafely(function(){this.tapped=!1}),300),this.tapped?(this.tapped=!1,this.smartZoom(t,e)):this.tapped=!0},smartZoom:function(t,e){var i=this.hasNode(),n=this.$.content.hasNode();if(i&&n&&this.hasNode()&&!this.disableZoom){var o=this.scale;if(this.scale=this.scale!=this.minScale?this.minScale:this.maxScale,this.eventPt=this.calcEventLocation(e),this.animate){var s={x:(this.eventPt.x+this.getScrollLeft())/this.bounds.width,y:(this.eventPt.y+this.getScrollTop())/this.bounds.height};this.$.animator.play({duration:350,ratioLock:s,baseScale:o,deltaScale:this.scale-o})}else this.transform(this.scale),this.doZoom({scale:this.scale})}},zoomAnimationStep:function(){var t=this.$.animator.baseScale+this.$.animator.deltaScale*this.$.animator.value;return this.transform(t),!0},zoomAnimationEnd:function(){return this.stabilize(),this.doZoom({scale:this.scale}),this.$.animator.ratioLock=void 0,!0},positionClientControls:function(t){this.waterfallDown("onPositionPin",{scale:t,bounds:this.bounds})}});

// lib\layout\imageview\source\ImageViewPin.js
enyo.kind({name:"enyo.ImageViewPin",kind:"enyo.Control",published:{highlightAnchorPoint:!1,anchor:{top:0,left:0},position:{top:0,left:0}},style:"position:absolute;z-index:1000;width:0px;height:0px;",handlers:{onPositionPin:"reAnchor"},create:enyo.inherit(function(t){return function(){t.apply(this,arguments),this.styleClientControls(),this.positionClientControls(),this.highlightAnchorPointChanged(),this.anchorChanged()}}),styleClientControls:function(){for(var t=this.getClientControls(),e=0;t.length>e;e++)t[e].applyStyle("position","absolute")},positionClientControls:function(){for(var t=this.getClientControls(),e=0;t.length>e;e++)for(var i in this.position)t[e].applyStyle(i,this.position[i]+"px")},highlightAnchorPointChanged:function(){this.addRemoveClass("pinDebug",this.highlightAnchorPoint)},anchorChanged:function(){var t=null,e=null;for(e in this.anchor)t=(""+this.anchor[e]).match(/^(\d+(?:\.\d+)?)(.*)$/),t&&(this.anchor[e+"Coords"]={value:t[1],units:t[2]||"px"})},reAnchor:function(t,e){var i=e.scale,n=e.bounds,o=this.anchor.right?"px"==this.anchor.rightCoords.units?n.width+n.x-this.anchor.rightCoords.value*i:n.width*(100-this.anchor.rightCoords.value)/100+n.x:"px"==this.anchor.leftCoords.units?this.anchor.leftCoords.value*i+n.x:n.width*this.anchor.leftCoords.value/100+n.x,s=this.anchor.bottom?"px"==this.anchor.bottomCoords.units?n.height+n.y-this.anchor.bottomCoords.value*i:n.height*(100-this.anchor.bottomCoords.value)/100+n.y:"px"==this.anchor.topCoords.units?this.anchor.topCoords.value*i+n.y:n.height*this.anchor.topCoords.value/100+n.y;this.applyStyle("left",o+"px"),this.applyStyle("top",s+"px")}});

// lib\layout\imageview\source\ImageView.js
enyo.kind({name:"enyo.ImageView",kind:"enyo.PanZoomView",subKindComponents:[{kind:"Image",ondown:"down",style:"vertical-align: text-top;"}],create:enyo.inherit(function(t){return function(){this.unscaledComponents=this.components,this.components=[],this.kindComponents[1].components[0].components=this.subKindComponents,t.apply(this,arguments),this.$.content.applyStyle("display","inline-block"),this.bufferImage=new Image,this.bufferImage.onload=enyo.bind(this,"imageLoaded"),this.bufferImage.onerror=enyo.bind(this,"imageError"),this.srcChanged(),this.getStrategy().$.scrollMath&&this.getStrategy().$.scrollMath.start()}}),destroy:enyo.inherit(function(t){return function(){this.bufferImage&&(this.bufferImage.onerror=void 0,this.bufferImage.onerror=void 0,delete this.bufferImage),t.apply(this,arguments)}}),down:function(t,e){e.preventDefault()},srcChanged:function(){this.src&&this.src.length>0&&this.bufferImage&&this.src!=this.bufferImage.src&&(this.bufferImage.src=this.src)},imageLoaded:function(){this.scale=this.scaleKeyword,this.originalWidth=this.contentWidth=this.bufferImage.width,this.originalHeight=this.contentHeight=this.bufferImage.height,this.scaleChanged(),this.$.image.setSrc(this.bufferImage.src),enyo.dom.transformValue(this.getStrategy().$.client,"translate3d","0px, 0px, 0"),this.positionClientControls(this.scale),this.align()},imageError:function(t){enyo.error("Error loading image: "+this.src),this.bubble("onerror",t)}});

// lib\layout\imageview\source\ImageCarousel.js
enyo.kind({name:"enyo.ImageCarousel",kind:enyo.Panels,arrangerKind:"enyo.CarouselArranger",defaultScale:"auto",disableZoom:!1,lowMemory:!1,published:{images:[]},handlers:{onTransitionStart:"transitionStart",onTransitionFinish:"transitionFinish"},create:enyo.inherit(function(t){return function(){t.apply(this,arguments),this.imageCount=this.images.length,this.images.length>0&&(this.initContainers(),this.loadNearby())}}),initContainers:function(){for(var t=0;this.images.length>t;t++)this.$["container"+t]||(this.createComponent({name:"container"+t,style:"height:100%; width:100%;"}),this.$["container"+t].render());for(t=this.images.length;this.imageCount>t;t++)this.$["image"+t]&&this.$["image"+t].destroy(),this.$["container"+t].destroy();this.imageCount=this.images.length},loadNearby:function(){var t=this.getBufferRange();for(var e in t)this.loadImageView(t[e])},getBufferRange:function(){var t=[];if(this.layout.containerBounds){var e,i,n,o,s=1,r=this.layout.containerBounds;for(i=this.index-1,n=0,o=r.width*s;i>=0&&o>=n;)e=this.$["container"+i],n+=e.width+e.marginWidth,t.unshift(i),i--;for(i=this.index,n=0,o=r.width*(s+1);this.images.length>i&&o>=n;)e=this.$["container"+i],n+=e.width+e.marginWidth,t.push(i),i++}return t},reflow:enyo.inherit(function(t){return function(){t.apply(this,arguments),this.loadNearby()}}),loadImageView:function(t){return this.wrap&&(t=(t%this.images.length+this.images.length)%this.images.length),t>=0&&this.images.length-1>=t&&(this.$["image"+t]?this.$["image"+t].src!=this.images[t]&&(this.$["image"+t].setSrc(this.images[t]),this.$["image"+t].setScale(this.defaultScale),this.$["image"+t].setDisableZoom(this.disableZoom)):(this.$["container"+t].createComponent({name:"image"+t,kind:"ImageView",scale:this.defaultScale,disableZoom:this.disableZoom,src:this.images[t],verticalDragPropagation:!1,style:"height:100%; width:100%;"},{owner:this}),this.$["image"+t].render())),this.$["image"+t]},setImages:function(t){this.set("images",t)},imagesChanged:function(){this.initContainers(),this.loadNearby()},indexChanged:enyo.inherit(function(t){return function(){this.loadNearby(),this.lowMemory&&this.cleanupMemory(),t.apply(this,arguments)}}),transitionStart:function(t,e){return e.fromIndex==e.toIndex?!0:void 0},transitionFinish:function(){this.loadNearby(),this.lowMemory&&this.cleanupMemory()},getActiveImage:function(){return this.getImageByIndex(this.index)},getImageByIndex:function(t){return this.$["image"+t]||this.loadImageView(t)},cleanupMemory:function(){for(var t=this.getBufferRange(),e=0;this.images.length>e;e++)-1===enyo.indexOf(e,t)&&this.$["image"+e]&&this.$["image"+e].destroy()}});

// lib\extra\analyzer2\runtime-machine.js
void 0===window.analyzer&&(window.analyzer={}),analyzer.runtimeMachine={_head:function(t,e,i){this._inflight=!0;var n=document.createElement(t);for(var o in e)n.setAttribute(o,e[o]);return i&&(n.innerText=i),this._headElt||(this._headElt=document.getElementsByTagName("head")[0]),this._headElt.appendChild(n),n},sheet:function(t){this._head("link",{type:"text/css",media:"screen",rel:"stylesheet",href:t})},inject:function(t){this._head("script",{type:"text/javascript"},t)},_scripts:[],script:function(t){this._inflight?this._scripts.push(t):this._script(t)},_require:function(){},_script:function(t){this._inflight=!0;var e=this._head("script",{type:"text/javascript",src:t}),i=this;enyo.platform.ie&&8>=enyo.platform.ie?e.onreadystatechange=function(){("complete"===e.readyState||"loaded"===e.readyState)&&(e.onreadystatechange="",i._loaded(t))}:(e.onload=function(){i._loaded(t)},e.onerror=function(){i._error(t)})},_continue:function(){this._inflight=!1;var t=this._scripts.pop();t&&this._script(t)},_loaded:function(){this._continue()},_error:function(t){enyo.Signals.send("onAnalyserError",{msg:"Failed to load "+t}),this._continue()}};

// lib\extra\analyzer2\AnalyzerDebug.js
enyo.kind({name:"analyzer.AnalyzerDebug",kind:null,debug:!1,_level:0,methodName:function(t){var e=this.getStackInfo(3+(t||0));return e=e.replace(/ .http:.*$/g,""),e=e.replace(/^.*.enyo.kind/g,this.kindName),e+="                                                                    ",e.substr(0,30)},getCurrentStackInfo:function(t){return" current: "+this.getStackInfo(3+(t||0))},getPreviousStackInfo:function(t){return" previous: "+this.getStackInfo(4+(t||0))},getStackInfo:function(t){try{throw Error()}catch(e){var i=e.stack;if(i){var n=i.split("\n");return n[t]}return"(stack trace not available)"}},showLevel:function(){return"#####################################".substr(0,this._level)+" "},incremLevel:function(){return this._level++,this.showLevel()+" --> "},decremLevel:function(){var t=this.showLevel()+" <-- ";return this._level--,t},showIterator:function(t){return t?"["+t.ID+"/"+t.i+"] ":""},logMethodEntry:function(t,e){e=e||"",enyo.log(this.methodName(1)+this.incremLevel()+this.showIterator(t)+e+this.getPreviousStackInfo(1))},logMethodExit:function(t,e){e=e||"",enyo.log(this.methodName(1)+this.decremLevel()+this.showIterator(t)+e+this.getCurrentStackInfo(1))},logProcessing:function(t,e){enyo.log(this.methodName(1)+this.showLevel()+this.showIterator(t)+"PROCESSING kind: "+e.kind+" >>"+e.token+"<< line: "+e.line+this.getCurrentStackInfo(1))},logIterMsg:function(t,e){enyo.log(this.methodName(1)+this.showLevel()+this.showIterator(t)+e+this.getPreviousStackInfo(1))},logMsg:function(t){enyo.log(this.methodName(1)+this.showLevel()+t+this.getPreviousStackInfo(1))},statics:{_debugEnabled:!1}});

// lib\extra\analyzer2\Walker.js
enyo.kind({name:"analyzer.Walker",kind:enyo.Component,published:{verbose:!1},events:{onProgress:"",onFinish:""},walk:function(t,e){this.verbose&&this.log("inPath: "+t+" resolver: ",e),this.loader=new enyo.loaderFactory(analyzer.runtimeMachine,e),this.loader.loadScript=function(){},this.loader.loadSheet=function(){},this.loader.verbose=this.verbose,this.loader.report=this.bindSafely("walkReport"),this.loader.finish=this.bindSafely("walkFinish"),enyo.loader=this.loader;var i;return e?(i=e.rewrite(t),this.verbose&&i!==t&&this.log("inPathResolver: "+t+" ==> "+i)):(i=enyo.path.rewrite(t),this.verbose&&i!==t&&this.log("enyo.path: "+t+" ==> "+i)),enyo.asyncMethod(this.loader,"load",i),this.async=new enyo.Async,this.async},walkReport:function(t,e){this.doProgress({action:t,name:e})},walkFinish:function(){this.modules=this.loader.modules,this.designs=this.loader.designs,this.async.respond({modules:this.modules,designs:this.designs}),this.doFinish({modules:this.modules,designs:this.designs})}});

// lib\extra\analyzer2\Reader.js
enyo.kind({name:"analyzer.Reader",kind:enyo.Async,go:function(t){return this.modules=t.modules,this.designs=t.designs,this.files=t.modules.concat(t.designs),enyo.asyncMethod(this,"nextFile"),this},nextFile:function(){var t=this.files.shift();t?this.loadFile(t):this.filesFinished()},loadFile:function(t){enyo.xhr.request({url:t.path,callback:this.bindSafely("fileLoaded",t)})},fileLoaded:function(t,e,i){i.status>=200&&300>i.status?this.addFile(t,e):this.fail("Analyser cannot read "+t.path+": "+i.status+" "+i.statusText),this.nextFile()},addFile:function(t,e){e&&e.length&&(t.code=e)},filesFinished:function(){this.respond({modules:this.modules,designs:this.designs})}});

// lib\extra\analyzer2\Iterator.js
enyo.kind({name:"analyzer.Iterator",kind:null,i:-1,nodes:null,constructor:function(t){this.ID=analyzer.Iterator._objectCount++,this.stream=t},statics:{_objectCount:0},next:function(){return this.i++,this._read()},prev:function(){return this.i--,this._read()},_read:function(){return this.past=this.stream[this.i-1],this.value=this.stream[this.i],this.future=this.stream[this.i+1],this.value}});

// lib\extra\analyzer2\Lexer.js
enyo.kind({name:"analyzer.AbstractLexer",kind:null,constructor:function(t){return t?(this.start(t),this.finish(),this.r):void 0},p0:0,p:0,start:function(t){this.s=t,this.l=this.s.length,this.r=[],this.d="",this.p0=0,this.p=0,this.n=0,this.analyze()},search:function(t){var e=t.global?t:RegExp(t.source,"g");return e.lastIndex=this.p,this.m=e.exec(this.s),this.p=this.m?this.m.index:-1,e.lastIndex!=this.p0&&(this.d=this.s.charAt(this.p))},lookahead:function(t){return this.s.charAt(this.p+t)},getToken:function(){return this.s.slice(this.p0,this.p)},tokenize:function(t){this.p+=t||0},pushToken:function(t,e,i){this.tokenize(e);var n=this.getToken();if(!n&&!i)return{};var o=(n.match(/\n/g)||[]).length,s={kind:t,token:n,start:this.p0,end:this.p,line:this.n,height:o};return this.r.push(s),this.n+=o,this.p0=this.p,s},tossToken:function(t){this.tokenize(t),this.p0=this.p},finish:function(){this.pushToken("gah")}}),enyo.kind({name:"analyzer.Lexer",kind:analyzer.AbstractLexer,symbols:"(){}[];,:<>+-=*/&",operators:["++","--","+=","-=","==","!=","<=",">=","===","&&","||",'"',"'"],keywords:["function","new","return","if","else","while","do","break","continue","switch","case","var"],constructor:function(){return this.buildPattern(),this.inherited(arguments)},buildPattern:function(){for(var t,e='"(?:\\\\"|[^"])*?"',i="'(?:\\\\'|[^'])*?'",n=e+"|"+i,o="\\b(?:"+this.keywords.join("|")+")\\b",s="[\\"+this.symbols.split("").join("\\")+"]",r=[],a=0;t=this.operators[a];a++)r.push("\\"+t.split("").join("\\"));r=r.join("|"),s=r+"|"+s;var h=['\\\\"|\\\\/',n,o,"\\/\\/","\\/\\*",s,"\\s"];this.matchers=["doSymbol","doString","doKeyword","doLineComment","doCComment","doSymbol","doWhitespace"],this.pattern="("+h.join(")|(")+")"},analyze:function(){for(var t=RegExp(this.pattern,"gi");this.search(t);)this.pushToken("identifier"),this.process(this.matchers),this.pushToken("identifier")},process:function(t){for(var e,i=0;e=t[i];i++)if(this.m[i+1]&&this[e])return this[e].apply(this),void 0;this.doSymbol()},doWhitespace:function(){this.tokenize(1),this.search(/\S/g),this.pushToken("ws"),this.r.pop()},doEscape:function(){this.tokenize(2)},doLiteral:function(){this.tossToken(1);for(var t=this.d,e=RegExp("\\"+t+"|\\\\","g");this.search(e);)switch(this.d){case"\\":this.doEscape();break;default:return this.pushToken("literal",0,!0).delimiter=t,this.tossToken(1),void 0}},doSymbol:function(){this.pushToken(";"==this.d||","==this.d?"terminal":"symbol",this.m[0].length)},doKeyword:function(){this.pushToken("keyword",this.m[0].length)},doLineComment:function(){this.tokenize(2),this.search(/[\r\n]/g)&&this.tokenize(0),this.pushToken("comment")},doCComment:function(){this.tokenize(2),this.search(/\*\//),this.tokenize(2),this.pushToken("comment")},doString:function(){this.pushToken("string",this.m[0].length)}});

// lib\extra\analyzer2\Parser.js
enyo.kind({name:"analyzer.Parser",kind:"analyzer.AnalyzerDebug",constructor:function(t){return this.debug=analyzer.AnalyzerDebug._debugEnabled,this.parse(t)},parse:function(t){for(var e=[],i=new analyzer.Iterator(t);i.next();)"ws"!==i.value.kind&&e.push(i.value);return i=new analyzer.Iterator(e),this.walk(i)},combine:function(t){for(var e,i="",n=0;e=t[n];n++)i+=e.token;return i},walk:function(t,e){this.debug&&this.logMethodEntry(t,"inState "+e+" >>"+JSON.stringify(t.value)+"<<");var i,n=[];try{for(;t.next();)if(i=t.value,this.debug&&this.logProcessing(t,i),"ws"!=i.kind){if("comment"==i.kind)i.kind="comment";else if("array"==e){if("terminal"==i.kind)continue;t.prev();var o=t.value;if(i={kind:"element",token:"expr",children:this.walk(t,"expression")},t.value&&"]"==t.value.token||t.value&&t.value===o)return i.children.length&&n.push(i),this.debug&&this.logMethodExit(t),n}else if("["==i.token)i.kind="array",i.children=this.walk(t,i.kind),t.value?i.end=t.value.end:this.debug&&this.logIterMsg(t,"No end token for array?");else{if("expression"==e&&"]"==i.token)return this.debug&&this.logMethodExit(t),n;if("var"==i.token)i.kind="var",i.children=this.walk(t,"expression");else{if("terminal"==i.kind&&("expression"==e||"var"==e))return this.debug&&this.logMethodExit(t),n;if("terminal"==i.kind)continue;if("{"==i.token){if(i.kind="block",this.debug&&this.logIterMsg(t,"PROCESS BLOCK - START"),i.children=this.walk(t,i.kind),this.debug&&this.logIterMsg(t,"PROCESS BLOCK - END"),t.value?i.end=t.value.end:this.debug&&this.logIterMsg(t,"No end token for block?"),i.commaTerminated=this.isCommaTerminated(t),"expression"==e||"function"==e)return n.push(i),this.debug&&this.logMethodExit(t),n}else{if("expression"==e&&("}"==i.token||")"==i.token))return t.prev(),this.debug&&this.logMethodExit(t),n;if("block"==e&&"}"==i.token)return this.debug&&this.logMethodExit(t),n;if("="==i.token||":"==i.token&&"expression"!=e){var s=n.pop();"identifier"==s.kind?(s.op=i.token,s.kind="assignment",s.children=this.walk(t,"expression"),t.value&&"terminal"==t.value.kind&&(s.commaTerminated=","===t.value.token,t.prev()),i=s):n.push(s)}else if("("==i.token)i.kind="association",i.children=this.walk(t,i.kind);else{if("association"==e&&")"==i.token)return this.debug&&this.logMethodExit(t),n;if("function"==i.token){if(i.kind="function",this.debug&&this.logIterMsg(t,"PROCESS FUNCTION - START"),i.children=this.walk(t,i.kind),this.debug&&this.logIterMsg(t,"PROCESS FUNCTION - END"),t.value&&"symbol"===t.value.kind&&"}"===t.value.token||this.debug&&this.logIterMsg(t,"No end token for function?"),"expression"!==e&&i.children&&i.children.length&&"identifier"==i.children[0].kind){this.debug&&this.logIterMsg(t,"C-Style function"),i.name=i.children[0].token,i.children.shift();var r={kind:"assignment",token:i.name,children:[i]};i=r}if("expression"==e||"function"==e)return i.commaTerminated=this.isCommaTerminated(t),n.push(i),this.debug&&this.logMethodExit(t),n}}}}}this.debug&&this.logIterMsg(t,"PUSH NODE"),n.push(i)}}catch(a){window.console.error(a)}return this.debug&&this.logMethodExit(t),n},isCommaTerminated:function(t){var e=!1,i=t.next();return i&&(e="terminal"===i.kind&&","===i.token),t.prev(),e}});

// lib\extra\analyzer2\Documentor.js
enyo.kind({name:"analyzer.Documentor",kind:"analyzer.AnalyzerDebug",group:"public",constructor:function(t){return this.comment=[],this.debug=analyzer.AnalyzerDebug._debugEnabled,this.parse(t)},parse:function(t){var e=new analyzer.Iterator(t);return this.walk(e)},walk:function(t,e){var i,n,o=[];for(this.debug&&this.logMethodEntry(t,"inState "+e+" >>"+JSON.stringify(t.value)+"<<");t.next();){if(i=t.value,this.debug&&this.logProcessing(t,i),"comment"==i.kind)this.cook_comment(i.token);else if("enyo.kind"==i.token&&"association"==t.future.kind)n=this.cook_kind(t);else if("enyo.singleton"==i.token&&"association"==t.future.kind)n=this.cook_singleton(t);else if("assignment"==i.kind)n=this.cook_assignment(t);else if("association"==i.kind){var s,r,a;(i.children&&1==i.children.length&&"function"==i.children[0].kind||2==i.children.length&&"function"==i.children[0].kind&&"association"==i.children[1].kind)&&(s=i.children[0],s.children&&2==s.children.length&&(r=s.children[1],a=this.walk(new analyzer.Iterator(r.children)),o=o.concat(a)),1==i.children.length&&t.next())}n&&(o.push(n),n=null)}return this.debug&&this.logMethodExit(t),o},cook_kind:function(t){this.debug&&this.logMethodEntry(t,">>"+JSON.stringify(t.value)+"<<");var e=function(t,e){var i,n=analyzer.Documentor.indexByName(t,e);return n>=0&&(i=t[n],t.splice(i,1)),i&&i.value&&i.value.length&&i.value[0].token},i=this.make("kind",t.value);t.next();var n=t.value.children;return n&&n[0]&&"block"==n[0].kind&&(i.properties=this.cook_block(n[0].children),i.name=analyzer.Documentor.stripQuotes(e(i.properties,"name")||""),i.superkind=analyzer.Documentor.stripQuotes(e(i.properties,"kind")||"enyo.Control"),"null"==i.superkind&&(i.superkind=null),i.block={start:n[0].start,end:n[0].end}),this.debug&&this.logMethodExit(t),i},cook_singleton:function(t){var e=this.cook_kind(t);return e.type="singleton",e},cook_block:function(t){this.debug&&this.logMethodEntry();for(var e,i=[],n=0;e=t[n];n++)if(this.debug&&this.logProcessing(null,e),"comment"==e.kind)this.cook_comment(e.token);else if("assignment"==e.kind){var o=this.make("property",e);e.children&&(o.value=[this.walkValue(new analyzer.Iterator(e.children))],void 0===e.commaTerminated?(o.commaTerminated=e.children[0].commaTerminated||!1,void 0===e.children[0].commaTerminated&&this.debug&&this.logMsg("NO COMMA TERMINATED INFO")):o.commaTerminated=e.commaTerminated),i.push(o)}return this.debug&&this.logMethodExit(),i},walkValue:function(t,e){for(this.debug&&this.logMethodEntry(t,"inState: "+e+" >>"+JSON.stringify(t.value)+"<<");t.next();){var i,n=t.value;if(this.debug&&this.logProcessing(t,n),"comment"!=n.kind){if("block"==n.kind)return i=this.make("block",n),i.properties=this.cook_block(n.children),this.debug&&this.logMethodExit(t,"inState: "+e+" >>"+JSON.stringify(t.value)+"<<"),i;if("array"==n.kind)return i=this.cook_array(t),this.debug&&this.logMethodExit(t),i;if("function"==n.kind)return i=this.cook_function(t),this.debug&&this.logMethodExit(t,"inState: "+e+" >>"+JSON.stringify(t.value)+"<<"),i;i=this.make("expression",n);for(var o=n.token;t.next();)o+=t.value.token;return i.token=o,this.debug&&this.logMethodExit(t),i}this.cook_comment(n.token)}this.debug&&this.logMethodExit(t)},cook_function:function(t){this.debug&&this.logMethodEntry(t,">>"+JSON.stringify(t.value)+"<<");var e=t.value,i=this.make("expression",e);return i.commaTerminated=e.commaTerminated,i.arguments=enyo.map(e.children[0].children,function(t){return t.token}),this.debug&&this.logMethodExit(t),i},cook_array:function(t){this.debug&&this.logMethodEntry(t,">>"+JSON.stringify(t.value)+"<<");var e=t.value,i=this.make("array",e),n=e.children;if(n){for(var o,s,r=[],a=0;o=n[a];a++)o.children&&(s=this.walkValue(new analyzer.Iterator(o.children)),s&&r.push(s));i.properties=r}return this.debug&&this.logMethodExit(t),i},cook_assignment:function(t){this.debug&&this.logMethodEntry(t,">>"+JSON.stringify(t.value)+"<<");var e=t.value,i=this.make("global",e);return e.children&&(e.children[0]&&"function"==e.children[0].token&&(i.type="function"),i.value=[this.walkValue(new analyzer.Iterator(e.children))]),this.debug&&this.logMethodExit(),i},make:function(t,e){return{line:e.line,start:e.start,end:e.end,height:e.height,token:e.token,name:e.token,type:t,group:this.group,comment:this.consumeComment()}},commentRx:/\/\*\*([\s\S]*)\*\/|\/\/\*(.*)/m,cook_comment:function(t){this.debug&&this.logMethodEntry();var e=t.match(this.commentRx);if(e){e=e[1]?e[1]:e[2];var i=this.extractPragmas(e);this.honorPragmas(i)}this.debug&&this.logMethodExit()},extractPragmas:function(t){var e=/^[*\s]*@\s*(\S*)\s*/g,i=[],n=t;return n.length&&(n=t.replace(e,function(t,e){return i.push(e),""}),n.length&&this.comment.push(n)),i},honorPragmas:function(t){for(var e,i={"protected":1,"public":1},n=0;e=t[n];n++)i[e]&&(this.group=e)},consumeComment:function(){var t=this.comment.join(" ");this.comment=[];var e=analyzer.Documentor.removeIndent(t);return e},statics:{indexByProperty:function(t,e,i){for(var n,o=0;n=t[o];o++)if(n[e]==i)return o;return-1},findByProperty:function(t,e,i){return t[this.indexByProperty(t,e,i)]},indexByName:function(t,e){return this.indexByProperty(t,"name",e)},findByName:function(t,e){return t[this.indexByName(t,e)]},stripQuotes:function(t){var e=t.charAt(0),i='"'==e||"'"==e?1:0,n=t.charAt(t.length-1),o='"'==n||"'"==n?-1:0;return i||o?t.slice(i,o):t},removeIndent:function(t){var e,i,n=0,o=t.split(/\r?\n/);for(e=0;null!=(i=o[e]);e++)if(i.length>0){n=i.search(/\S/),0>n&&(n=i.length);break}if(n)for(e=0;null!=(i=o[e]);e++)o[e]=i.slice(n);return o.join("\n")}}});

// lib\extra\analyzer2\Indexer.js
enyo.kind({name:"analyzer.Indexer",kind:null,group:"public",constructor:function(){this.objects=[],this.design={}},debug:!1,findByName:function(t){return analyzer.Documentor.findByProperty(this.objects,"name",t)},findByTopic:function(t){return analyzer.Documentor.findByProperty(this.objects,"topic",t)},search:function(t,e,i){var n=enyo.filter(this.objects,t,i);return enyo.map(n,e,i)},normalizePath:function(t){var e=t.split("/"),i=[];return enyo.forEach(e,function(t){"."==t||(".."==t?i.pop():i.push(t))},this),i.join("/")},addModules:function(t){enyo.forEach(t,this.addModule,this),this.objects.sort(analyzer.Indexer.nameCompare)},addModule:function(t){this.debug&&enyo.log("analyzer.Indexer.addModule(): + "+t.path),t.path=this.normalizePath(t.path),this.indexModule(t),this.mergeModule(t)},mergeModule:function(t){this.objects.push(t),this.objects=this.objects.concat(t.objects),enyo.forEach(t.objects,this.mergeProperties,this)},mergeProperties:function(t){t.properties?this.objects=this.objects.concat(t.properties):t.value&&t.value[0]&&t.value[0].properties&&(this.objects=this.objects.concat(t.value[0].properties))},indexModule:function(t){t.type="module",t.module=t,t.name=t.path?t.path.replace("lib/",""):t.label+"/"+t.rawPath,t.objects=new analyzer.Documentor(new analyzer.Parser(new analyzer.Lexer(t.code))),this.indexObjects(t)},removeModule:function(t){this.removeModuleByPath(t.path)},removeModuleByPath:function(t){t=this.normalizePath(t);for(var e=this.objects.length;e--;)this.objects[e].module.path==t&&this.objects.splice(e,1)},reIndexModule:function(t){this.removeModule(t),this.addModule(t)},indexObjects:function(t){enyo.forEach(t.objects,function(e){e.module=t,this.indexObject(e)},this)},indexObject:function(t){switch(t.type){case"kind":this.indexKind(t)}this.indexProperties(t)},indexProperties:function(t){var e=t.properties||t.value&&t.value[0]&&t.value[0].properties;enyo.forEach(e,function(e){e.object=t,e.topic=e.object.name?e.object.name+"::"+e.name:e.name,e.module=t.module},this)},indexKind:function(t){this.listComponents(t),this.indexInheritance(t)},indexInheritance:function(t){t.superkinds=this.listSuperkinds(t),t.allProperties=this.listInheritedProperties(t)},listSuperkinds:function(t){for(var e,i=[];t&&t.superkind;)e=t.superkind,t=this.findByName(e),t||(t=this.findByName("enyo."+e),t&&(e="enyo."+e)),i.push(e);return i},listInheritedProperties:function(t){for(var e,i=[],n={},o=t.superkinds.length-1;e=t.superkinds[o];o--){var s=this.findByName(e);s&&this.mergeInheritedProperties(s.properties,n,i)}return this.mergeInheritedProperties(t.properties,n,i),i.sort(analyzer.Indexer.nameCompare),i},mergeInheritedProperties:function(t,e,i){if(t)for(var n,o=0;n=t[o];o++){var s=e.hasOwnProperty(n.name)&&e[n.name];s?(n.overrides=s,i[enyo.indexOf(s,i)]=n):i.push(n),e[n.name]=n}},listComponents:function(t){t.components=this._listComponents(t,[],{});var e=analyzer.Documentor.findByName(t.properties,"components");e&&e.value&&(t.componentsBlockStart=e.value[0].start,t.componentsBlockEnd=e.value[0].end)},_listComponents:function(t,e,i){var n=analyzer.Documentor.findByName(t.properties,"components");if(n&&n.value&&n.value.length)for(var o,s=n.value[0].properties,r=0;o=s[r];r++){if("block"!==o.type){var a="Error in kind "+t.name+": Expected an object in component list not "+o.type+" "+o.token;throw enyo.log(a),Error(a)}var h=analyzer.Documentor.findByName(o.properties,"name");h&&(h=analyzer.Documentor.stripQuotes(h.value[0].token||""));var l=analyzer.Documentor.findByName(o.properties,"kind");if(l=analyzer.Documentor.stripQuotes(l&&l.value[0].token||"Control"),!h){var d=l.split(".").pop();h=enyo.uncap(d),i[h]?h+=++i[h]:i[h]=1}o.kind=l,o.name=h,e.push(o),this._listComponents(o,e,i)}return e},addDesigns:function(t){enyo.forEach(t,this.addDesign,this)},addDesign:function(t){t.path=this.normalizePath(t.path);try{var e=enyo.json.parse(t.code),i=enyo.keys(e);enyo.forEach(i,function(i){if(e[i]){var n=e[i],o=this.design[i]||[];enyo.forEach(n,function(e){e.design=t},this),this.design[i]=o.concat(n)}},this)}catch(n){enyo.warn("Error parsing designer meta-data ("+t.path+"): "+n)}},removeDesign:function(t){try{var e=enyo.keys(this.design);enyo.forEach(e,function(e){this.removeDesignByPath(t.path,e)},this)}catch(i){enyo.warn("Error removing designer ("+t+"): "+i)}},removeDesignByPath:function(t,e){t=this.normalizePath(t);for(var i=this.design[e].length;i--;){var n=this.design[e][i];n.design.path==t&&this.design[e].splice(i,1)}},reIndexDesign:function(t){this.removeDesign(t),this.addDesign(t)},statics:{nameCompare:function(t,e){var i=t.name.toLowerCase(),n=e.name.toLowerCase();return n>i?-1:i>n?1:0}}});

// lib\extra\analyzer2\Analyzer.js
enyo.kind({name:"analyzer.Analyzer",kind:"Component",debug:!1,events:{onIndexReady:"",onError:""},create:function(){this.index=new analyzer.Indexer,this.inherited(arguments)},analyze:function(t,e){this.walk(t,e)},walk:function(t,e){var i,n=[],o=[],s=function(r,a){if(a){this.debug&&enyo.log("analyzer.Analyzer.walk.next() - inData: ",a);for(var h=0;a.modules.length>h;++h)a.modules[h].label=i;n=n.concat(a.modules),o=o.concat(a.designs)}var l=t.shift();l?(this.debug&&enyo.log("analyzer.Analyzer.walk.next() - path: "+l),enyo.isString(l)||(i=l.label,l=l.path),(new analyzer.Walker).walk(l,e).response(this,s)):this.walkFinished(n,o)};s.call(this)},walkFinished:function(t,e){this.debug&&enyo.log("analyzer.Analyzer.walkFinished called"),this.read(t,e)},read:function(t,e){(new analyzer.Reader).go({modules:t,designs:e}).response(this,function(t,e){try{this.indexModules(e.modules),this.indexDesigns(e.designs),this.doIndexReady()}catch(i){this.log("Analysis failed with: ",""+i),this.doError(i)}}).error(this,function(t,e){this.doError(e)})},indexModules:function(t){this.index.addModules(t)},indexDesigns:function(t){this.index.addDesigns(t)}});

// lib\extra\analyzer2\KindHelper.js
enyo.kind({name:"analyzer.Analyzer.KindHelper",kind:"enyo.Component",published:{definition:null},checkDefAvail:function(){if(!this.definition)throw"No definition provided"},getEvents:function(){this.checkDefAvail();for(var t=[],e=this.definition.properties,i=0;e.length>i;i++)if("events"===e[i].token)for(var n=e[i].value[0].properties,o=0;n.length>o;o++){var s=n[o].name;t.push(s)}return t},getPublished:function(){this.checkDefAvail();for(var t=[],e=this.definition.properties,i=0;e.length>i;i++)if("published"===e[i].token)for(var n=e[i].value[0].properties,o=0;n.length>o;o++){var s=n[o].name;t.push(s)}return t},getFunctions:function(){this.checkDefAvail();for(var t=[],e=this.definition.properties,i=0;e.length>i;i++){var n=e[i];"function"===n.value[0].name&&t.push(n.name)}return t},listHandlers:function(t){this.checkDefAvail();var e=this.definition;t=this.listDeclaredComponentsHandlers(e.components,t);for(var i=0;e.properties.length>i;i++){var n=e.properties[i];if("handlers"===n.name)for(var o=0;n.value[0].properties.length>o;o++){var s=n.value[0].properties[o],r=s.value[0].name;r=r.replace(/["']{1}/g,""),"do"!==r.substr(0,2)&&(t[r]="")}}return t},listDeclaredComponentsHandlers:function(t,e){for(var i=0;t.length>i;i++){for(var n=t[i],o=0;n.properties.length>o;o++){var s=n.properties[o];if("on"===s.name.substr(0,2)){var r=s.value[0].name.replace(/["']{1}/g,"");"do"!==r.substr(0,2)&&(e[r]="")}}t.components&&this.listDeclaredComponentsHandlers(t.components,e)}return e}});

// source\foss\showdown-v0.9\compressed\showdown.js
var Showdown={};Showdown.converter=function(){var t,e,i,n=0;this.makeHtml=function(n){return t=[],e=[],i=[],n=n.replace(/~/g,"~T"),n=n.replace(/\$/g,"~D"),n=n.replace(/\r\n/g,"\n"),n=n.replace(/\r/g,"\n"),n="\n\n"+n+"\n\n",n=$(n),n=n.replace(/^[ \t]+$/gm,""),n=r(n),n=s(n),n=h(n),n=M(n),n=n.replace(/~D/g,"$$"),n=n.replace(/~T/g,"~")};var o,s=function(i){var i=i.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|\Z)/gm,function(i,n,o,s,r){return n=n.toLowerCase(),t[n]=P(o),s?s+r:(r&&(e[n]=r.replace(/"/g,"&quot;")),"")});return i},r=function(t){return t=t.replace(/\n/g,"\n\n"),t=t.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,a),t=t.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,a),t=t.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,a),t=t.replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,a),t=t.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,a),t=t.replace(/\n\n/g,"\n")},a=function(t,e){var n=e;return n=n.replace(/\n\n/g,"\n"),n=n.replace(/^\n/,""),n=n.replace(/\n+$/g,""),n="\n\n~K"+(i.push(n)-1)+"K\n\n"},h=function(t){t=f(t);var e=v("<hr />");return t=t.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,e),t=t.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,e),t=t.replace(/^[ ]{0,2}([ ]?\_[ ]?){3,}[ \t]*$/gm,e),t=m(t),t=y(t),t=C(t),t=r(t),t=b(t)},l=function(t){return t=w(t),t=d(t),t=k(t),t=g(t),t=c(t),t=R(t),t=P(t),t=x(t),t=t.replace(/  +\n/g," <br />\n")},d=function(t){var e=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;return t=t.replace(e,function(t){var e=t.replace(/(.)<\/?code>(?=.)/g,"$1`");return e=N(e,"\\`*_")})},c=function(t){return t=t.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,u),t=t.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?(.*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,u),t=t.replace(/(\[([^\[\]]+)\])()()()()()/g,u)},u=function(i,n,o,s,r,a,h,l){void 0==l&&(l="");var d=n,c=o,u=s.toLowerCase(),g=r,p=l;if(""==g)if(""==u&&(u=c.toLowerCase().replace(/ ?\n/g," ")),g="#"+u,void 0!=t[u])g=t[u],void 0!=e[u]&&(p=e[u]);else{if(!(d.search(/\(\s*\)$/m)>-1))return d;g=""}g=N(g,"*_");var f='<a href="'+g+'"';return""!=p&&(p=p.replace(/"/g,"&quot;"),p=N(p,"*_"),f+=' title="'+p+'"'),f+=">"+c+"</a>"},g=function(t){return t=t.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,p),t=t.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,p)},p=function(i,n,o,s,r,a,h,l){var d=n,c=o,u=s.toLowerCase(),g=r,p=l;if(p||(p=""),""==g){if(""==u&&(u=c.toLowerCase().replace(/ ?\n/g," ")),g="#"+u,void 0==t[u])return d;g=t[u],void 0!=e[u]&&(p=e[u])}c=c.replace(/"/g,"&quot;"),g=N(g,"*_");var f='<img src="'+g+'" alt="'+c+'"';return p=p.replace(/"/g,"&quot;"),p=N(p,"*_"),f+=' title="'+p+'"',f+=" />"},f=function(t){return t=t.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(t,e){return v("<h1>"+l(e)+"</h1>")}),t=t.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(t,e){return v("<h2>"+l(e)+"</h2>")}),t=t.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(t,e,i){var n=e.length;return v("<h"+n+">"+l(i)+"</h"+n+">")})},m=function(t){t+="~0";var e=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return n?t=t.replace(e,function(t,e,i){var n=e,s=i.search(/[*+-]/g)>-1?"ul":"ol";n=n.replace(/\n{2,}/g,"\n\n\n");var r=o(n);return r=r.replace(/\s+$/,""),r="<"+s+">"+r+"</"+s+">\n"}):(e=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,t=t.replace(e,function(t,e,i,n){var s=e,r=i,a=n.search(/[*+-]/g)>-1?"ul":"ol",r=r.replace(/\n{2,}/g,"\n\n\n"),h=o(r);return h=s+"<"+a+">\n"+h+"</"+a+">\n"})),t=t.replace(/~0/,"")};o=function(t){return n++,t=t.replace(/\n{2,}$/,"\n"),t+="~0",t=t.replace(/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+([^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,function(t,e,i,n,o){var s=o,r=e;return r||s.search(/\n{2,}/)>-1?s=h(T(s)):(s=m(T(s)),s=s.replace(/\n$/,""),s=l(s)),"<li>"+s+"</li>\n"}),t=t.replace(/~0/g,""),n--,t};var y=function(t){return t+="~0",t=t.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(t,e,i){var n=e,o=i;return n=S(T(n)),n=$(n),n=n.replace(/^\n+/g,""),n=n.replace(/\n+$/g,""),n="<pre><code>"+n+"\n</code></pre>",v(n)+o}),t=t.replace(/~0/,"")},v=function(t){return t=t.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(i.push(t)-1)+"K\n\n"},w=function(t){return t=t.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(t,e,i,n){var o=n;return o=o.replace(/^([ \t]*)/g,""),o=o.replace(/[ \t]*$/g,""),o=S(o),e+"<code>"+o+"</code>"})},S=function(t){return t=t.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=N(t,"*_{}[]\\",!1)},x=function(t){return t=t.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>"),t=t.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")},C=function(t){return t=t.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(t,e){var i=e;return i=i.replace(/^[ \t]*>[ \t]?/gm,"~0"),i=i.replace(/~0/g,""),i=i.replace(/^[ \t]+$/gm,""),i=h(i),i=i.replace(/(^|\n)/g,"$1  "),i=i.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(t,e){var i=e;return i=i.replace(/^  /gm,"~0"),i=i.replace(/~0/g,"")}),v("<blockquote>\n"+i+"\n</blockquote>")})},b=function(t){t=t.replace(/^\n+/g,""),t=t.replace(/\n+$/g,"");for(var e=t.split(/\n{2,}/g),n=[],o=e.length,s=0;o>s;s++){var r=e[s];r.search(/~K(\d+)K/g)>=0?n.push(r):r.search(/\S/)>=0&&(r=l(r),r=r.replace(/^([ \t]*)/g,"<p>"),r+="</p>",n.push(r))}o=n.length;for(var s=0;o>s;s++)for(;n[s].search(/~K(\d+)K/)>=0;){var a=i[RegExp.$1];a=a.replace(/\$/g,"$$$$"),n[s]=n[s].replace(/~K\d+K/,a)}return n.join("\n\n")},P=function(t){return t=t.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),t=t.replace(/<(?![a-z\/?\$!])/gi,"&lt;")},k=function(t){return t=t.replace(/\\(\\)/g,z),t=t.replace(/\\([`*_{}\[\]()>#+-.!])/g,z)},R=function(t){return t=t.replace(/<((https?|ftp|dict):[^'">\s]+)>/gi,'<a href="$1">$1</a>'),t=t.replace(/<(?:mailto:)?([-.\w]+\@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,function(t,e){return I(M(e))})},I=function(t){function e(t){var e="0123456789ABCDEF",i=t.charCodeAt(0);return e.charAt(i>>4)+e.charAt(15&i)}var i=[function(t){return"&#"+t.charCodeAt(0)+";"},function(t){return"&#x"+e(t)+";"},function(t){return t}];return t="mailto:"+t,t=t.replace(/./g,function(t){if("@"==t)t=i[Math.floor(2*Math.random())](t);else if(":"!=t){var e=Math.random();t=e>.9?i[2](t):e>.45?i[1](t):i[0](t)}return t}),t='<a href="'+t+'">'+t+"</a>",t=t.replace(/">.+:/g,'">')},M=function(t){return t=t.replace(/~E(\d+)E/g,function(t,e){var i=parseInt(e);return String.fromCharCode(i)})},T=function(t){return t=t.replace(/^(\t|[ ]{1,4})/gm,"~0"),t=t.replace(/~0/g,"")},$=function(t){return t=t.replace(/\t(?=\t)/g,"    "),t=t.replace(/\t/g,"~A~B"),t=t.replace(/~B(.+?)~A/g,function(t,e){for(var i=e,n=4-i.length%4,o=0;n>o;o++)i+=" ";return i}),t=t.replace(/~A/g,"    "),t=t.replace(/~B/g,"")},N=function(t,e,i){var n="(["+e.replace(/([\[\]\\])/g,"\\$1")+"])";i&&(n="\\\\"+n);var o=RegExp(n,"g");return t=t.replace(o,z)},z=function(t,e){var i=e.charCodeAt(0);return"~E"+i+"E"}};

// source\foss\syntaxhighlighter_3.0.83_fork\sh-min.js
var XRegExp;if(XRegExp)throw Error("can't load XRegExp twice in the same frame");(function(){function t(t,i){if(!XRegExp.isRegExp(t))throw TypeError("type RegExp expected");var n=t._xregexp;return t=XRegExp(t.source,e(t)+(i||"")),n&&(t._xregexp={source:n.source,captureNames:n.captureNames?n.captureNames.slice(0):null}),t}function e(t){return(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":"")}function i(t,e,i,n){var o,s,r,l=h.length;a=!0;try{for(;l--;)if(r=h[l],i&r.scope&&(!r.trigger||r.trigger.call(n))&&(r.pattern.lastIndex=e,s=r.pattern.exec(t),s&&s.index===e)){o={output:r.handler.call(n,s,i),match:s};break}}catch(d){throw d}finally{a=!1}return o}function n(t,e,i){if(Array.prototype.indexOf)return t.indexOf(e,i);for(var n=i||0;t.length>n;n++)if(t[n]===e)return n;return-1}XRegExp=function(e,n){var o,r,h,d,c,u=[],g=XRegExp.OUTSIDE_CLASS,f=0;if(XRegExp.isRegExp(e)){if(void 0!==n)throw TypeError("can't supply flags when constructing one RegExp from another");return t(e)}if(a)throw Error("can't call the XRegExp constructor within token definition functions");for(n=n||"",o={hasNamedCapture:!1,captureNames:[],hasFlag:function(t){return n.indexOf(t)>-1},setFlag:function(t){n+=t}};e.length>f;)r=i(e,f,g,o),r?(u.push(r.output),f+=r.match[0].length||1):(h=l.exec.call(p[g],e.slice(f)))?(u.push(h[0]),f+=h[0].length):(d=e.charAt(f),"["===d?g=XRegExp.INSIDE_CLASS:"]"===d&&(g=XRegExp.OUTSIDE_CLASS),u.push(d),f++);return c=RegExp(u.join(""),l.replace.call(n,s,"")),c._xregexp={source:e,captureNames:o.hasNamedCapture?o.captureNames:null},c},XRegExp.version="1.5.0",XRegExp.INSIDE_CLASS=1,XRegExp.OUTSIDE_CLASS=2;var o=/\$(?:(\d\d?|[$&`'])|{([$\w]+)})/g,s=/[^gimy]+|([\s\S])(?=[\s\S]*\1)/g,r=/^(?:[?*+]|{\d+(?:,\d*)?})\??/,a=!1,h=[],l={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},d=void 0===l.exec.call(/()??/,"")[1],c=function(){var t=/^/g;return l.test.call(t,""),!t.lastIndex}(),u=function(){var t=/x/g;return l.replace.call("x",t,""),!t.lastIndex}(),g=void 0!==RegExp.prototype.sticky,p={};p[XRegExp.INSIDE_CLASS]=/^(?:\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S]))/,p[XRegExp.OUTSIDE_CLASS]=/^(?:\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S])|\(\?[:=!]|[?*+]\?|{\d+(?:,\d*)?}\??)/,XRegExp.addToken=function(e,i,n,o){h.push({pattern:t(e,"g"+(g?"y":"")),handler:i,scope:n||XRegExp.OUTSIDE_CLASS,trigger:o||null})},XRegExp.cache=function(t,e){var i=t+"/"+(e||"");return XRegExp.cache[i]||(XRegExp.cache[i]=XRegExp(t,e))},XRegExp.copyAsGlobal=function(e){return t(e,"g")},XRegExp.escape=function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},XRegExp.execAt=function(e,i,n,o){i=t(i,"g"+(o&&g?"y":"")),i.lastIndex=n=n||0;var s=i.exec(e);return o?s&&s.index===n?s:null:s},XRegExp.freezeTokens=function(){XRegExp.addToken=function(){throw Error("can't run addToken after freezeTokens")}},XRegExp.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},XRegExp.iterate=function(e,i,n,o){for(var s,r=t(i,"g"),a=-1;s=r.exec(e);)n.call(o,s,++a,e,r),r.lastIndex===s.index&&r.lastIndex++;i.global&&(i.lastIndex=0)},XRegExp.matchChain=function(e,i){return function n(e,o){var s,r=i[o].regex?i[o]:{regex:i[o]},a=t(r.regex,"g"),h=[];for(s=0;e.length>s;s++)XRegExp.iterate(e[s],a,function(t){h.push(r.backref?t[r.backref]||"":t[0])});return o!==i.length-1&&h.length?n(h,o+1):h}([e],0)},RegExp.prototype.apply=function(t,e){return this.exec(e[0])},RegExp.prototype.call=function(t,e){return this.exec(e)},RegExp.prototype.exec=function(t){var i,o,s=l.exec.apply(this,arguments);if(s){if(!d&&s.length>1&&n(s,"")>-1&&(o=RegExp(this.source,l.replace.call(e(this),"g","")),l.replace.call(t.slice(s.index),o,function(){for(var t=1;arguments.length-2>t;t++)void 0===arguments[t]&&(s[t]=void 0)})),this._xregexp&&this._xregexp.captureNames)for(var r=1;s.length>r;r++)i=this._xregexp.captureNames[r-1],i&&(s[i]=s[r]);!c&&this.global&&!s[0].length&&this.lastIndex>s.index&&this.lastIndex--}return s},c||(RegExp.prototype.test=function(t){var e=l.exec.call(this,t);return e&&this.global&&!e[0].length&&this.lastIndex>e.index&&this.lastIndex--,!!e}),String.prototype.match=function(t){if(XRegExp.isRegExp(t)||(t=RegExp(t)),t.global){var e=l.match.apply(this,arguments);return t.lastIndex=0,e}return t.exec(this)},String.prototype.replace=function(t,e){var i,s,r,a=XRegExp.isRegExp(t);return a&&"string"==typeof e.valueOf()&&-1===e.indexOf("${")&&u?l.replace.apply(this,arguments):(a?t._xregexp&&(i=t._xregexp.captureNames):t+="","function"==typeof e?s=l.replace.call(this,t,function(){if(i){arguments[0]=new String(arguments[0]);for(var n=0;i.length>n;n++)i[n]&&(arguments[0][i[n]]=arguments[n+1])}return a&&t.global&&(t.lastIndex=arguments[arguments.length-2]+arguments[0].length),e.apply(null,arguments)}):(r=this+"",s=l.replace.call(r,t,function(){var t=arguments;return l.replace.call(e,o,function(e,o,s){if(!o){var r=+s;return t.length-3>=r?t[r]:(r=i?n(i,s):-1,r>-1?t[r+1]:e)}switch(o){case"$":return"$";case"&":return t[0];case"`":return t[t.length-1].slice(0,t[t.length-2]);case"'":return t[t.length-1].slice(t[t.length-2]+t[0].length);default:var a="";if(o=+o,!o)return e;for(;o>t.length-3;)a=String.prototype.slice.call(o,-1)+a,o=Math.floor(o/10);return(o?t[o]||"":"$")+a}})})),a&&t.global&&(t.lastIndex=0),s)},String.prototype.split=function(t,e){if(!XRegExp.isRegExp(t))return l.split.apply(this,arguments);var i,n,o=this+"",s=[],r=0;if(void 0===e||0>+e)e=1/0;else if(e=Math.floor(+e),!e)return[];for(t=XRegExp.copyAsGlobal(t);(i=t.exec(o))&&!(t.lastIndex>r&&(s.push(o.slice(r,i.index)),i.length>1&&i.index<o.length&&Array.prototype.push.apply(s,i.slice(1)),n=i[0].length,r=t.lastIndex,s.length>=e));)t.lastIndex===i.index&&t.lastIndex++;return r===o.length?(!l.test.call(t,"")||n)&&s.push(""):s.push(o.slice(r)),s.length>e?s.slice(0,e):s},XRegExp.addToken(/\(\?#[^)]*\)/,function(t){return l.test.call(r,t.input.slice(t.index+t[0].length))?"":"(?:)"}),XRegExp.addToken(/\((?!\?)/,function(){return this.captureNames.push(null),"("}),XRegExp.addToken(/\(\?<([$\w]+)>/,function(t){return this.captureNames.push(t[1]),this.hasNamedCapture=!0,"("}),XRegExp.addToken(/\\k<([\w$]+)>/,function(t){var e=n(this.captureNames,t[1]);return e>-1?"\\"+(e+1)+(isNaN(t.input.charAt(t.index+t[0].length))?"":"(?:)"):t[0]}),XRegExp.addToken(/\[\^?]/,function(t){return"[]"===t[0]?"\\b\\B":"[\\s\\S]"}),XRegExp.addToken(/^\(\?([imsx]+)\)/,function(t){return this.setFlag(t[1]),""}),XRegExp.addToken(/(?:\s+|#.*)+/,function(t){return l.test.call(r,t.input.slice(t.index+t[0].length))?"":"(?:)"},XRegExp.OUTSIDE_CLASS,function(){return this.hasFlag("x")}),XRegExp.addToken(/\./,function(){return"[\\s\\S]"},XRegExp.OUTSIDE_CLASS,function(){return this.hasFlag("s")})})();var SyntaxHighlighter=function(){function t(t){return t.split("\n")}function e(t,e,i){i=Math.max(i||0,0);for(var n=i;t.length>n;n++)if(t[n]==e)return n;return-1}function i(t,e){var i,n={};for(i in t)n[i]=t[i];for(i in e)n[i]=e[i];return n}function n(t){var e={"true":!0,"false":!1}[t];return null==e?t:e}function o(e,i){for(var n=t(e),o=0;n.length>o;o++)n[o]=i(n[o],o);return n.join("\n")}function s(t){return t.replace(/^[ ]*[\n]+|[\n]*[ ]*$/g,"")}function r(t,e){return null==t||0==t.length||"\n"==t?t:(t=t.replace(/</g,"&lt;"),t=t.replace(/ {2,}/g,function(t){for(var e="",i=0;t.length-1>i;i++)e+=m.config.space;return e+" "}),null!=e&&(t=o(t,function(t){if(0==t.length)return"";var i="";return t=t.replace(/^(&nbsp;| )+/,function(t){return i=t,""}),0==t.length?i:i+'<code class="'+e+'">'+t+"</code>"})),t)}function a(t,e){for(var i=""+t;e>i.length;)i="0"+i;return i}function h(t,e){for(var i="",n=0;e>n;n++)i+=" ";return t.replace(/\t/g,i)}function l(e,i){function n(t,e,i){return t.substr(0,e)+r.substr(0,i)+t.substr(e+1,t.length)}for(var s=(t(e),"	"),r="",a=0;50>a;a++)r+="                    ";return e=o(e,function(t){if(-1==t.indexOf(s))return t;for(var e=0;-1!=(e=t.indexOf(s));){var o=i-e%i;t=n(t,e,o)}return t})}function d(t){var e=/<br\s*\/?>|&lt;br\s*\/?&gt;/gi;return t=t.replace(e,"\n"),1==m.config.stripBrs&&(t=t.replace(e,"")),t}function c(t){return t.replace(/^\s+|\s+$/g,"")}function u(e){for(var i=t(d(e)),n=/^\s*/,o=1e3,s=0;i.length>s&&o>0;s++){var r=i[s];if(0!=c(r).length){var a=n.exec(r);if(null==a)return e;o=Math.min(a[0].length,o)}}if(o>0)for(var s=0;i.length>s;s++)i[s]=i[s].substr(o);return i.join("\n")}function g(t,e){return t.index<e.index?-1:t.index>e.index?1:t.length<e.length?-1:t.length>e.length?1:0}function p(t,e){function i(t){return t[0]}for(var n=null,o=[],s=e.func?e.func:i;null!=(n=e.regex.exec(t));){var r=s(n,e);"string"==typeof r&&(r=[new m.Match(r,n.index,e.css)]),o=o.concat(r)}return o}function f(t){var e=/(.*)((&gt;|&lt;).*)/;return t.replace(m.regexLib.url,function(t){var i="",n=null;return(n=e.exec(t))&&(t=n[1],i=n[2]),'<a href="'+t+'">'+t+"</a>"+i})}var m={defaults:{"class-name":"","first-line":1,"pad-line-numbers":!1,highlight:null,"smart-tabs":!0,"tab-size":4,gutter:!0,"auto-links":!0},config:{space:"&nbsp;",stripBrs:!1,strings:{alert:"SyntaxHighlighter\n\n",noBrush:"Can't find brush for: ",brushNotHtmlScript:"Brush wasn't configured for html-script option: "}},brushes:{},regexLib:{multiLineCComments:/\/\*[\s\S]*?\*\//gm,singleLineCComments:/\/\/.*$/gm,singleLinePerlComments:/#.*$/gm,doubleQuotedString:/"([^\\"\n]|\\.)*"/g,singleQuotedString:/'([^\\'\n]|\\.)*'/g,multiLineDoubleQuotedString:new XRegExp('"([^\\\\"]|\\\\.)*"',"gs"),multiLineSingleQuotedString:new XRegExp("'([^\\\\']|\\\\.)*'","gs"),xmlComments:/(&lt;|<)!--[\s\S]*?--(&gt;|>)/gm,url:/\w+:\/\/[\w-.\/?%&=:@;]*/g,phpScriptTags:{left:/(&lt;|<)\?=?/g,right:/\?(&gt;|>)/g},aspScriptTags:{left:/(&lt;|<)%=?/g,right:/%(&gt;|>)/g},scriptScriptTags:{left:/(&lt;|<)\s*script.*?(&gt;|>)/gi,right:/(&lt;|<)\/\s*script\s*(&gt;|>)/gi}}};return m.Match=function(t,e,i){this.value=t,this.index=e,this.length=t.length,this.css=i,this.brushName=null},m.Match.prototype.toString=function(){return this.value},m.Highlighter=function(){},m.Highlighter.prototype={getParam:function(t,e){var i=this.params[t];return n(null==i?e:i)},create:function(t){return document.createElement(t)},findMatches:function(t,e){var i=[];if(null!=t)for(var n=0;t.length>n;n++)"object"==typeof t[n]&&(i=i.concat(p(e,t[n])));return this.removeNestedMatches(i.sort(g))},removeNestedMatches:function(t){for(var e=0;t.length>e;e++)if(null!==t[e])for(var i=t[e],n=i.index+i.length,o=e+1;t.length>o&&null!==t[e];o++){var s=t[o];if(null!==s){if(s.index>n)break;s.index==i.index&&s.length>i.length?t[e]=null:s.index>=i.index&&n>s.index&&(t[o]=null)}}return t},figureOutLineNumbers:function(t){var e=[],i=parseInt(this.getParam("first-line"));return o(t,function(t,n){e.push(n+i)}),e},isLineHighlighted:function(t){var i=this.getParam("highlight",[]);return"object"!=typeof i&&null==i.push&&(i=[i]),-1!=e(i,""+t)},getLineHtml:function(t,e,i){var n=["line","number"+e,"index"+t,"alt"+(""+(0==e%2?1:2))];return this.isLineHighlighted(e)&&n.push("highlighted"),0==e&&n.push("break"),'<div class="'+n.join(" ")+'">'+i+"</div>"},getLineNumbersHtml:function(e,i){var n="",o=t(e).length,s=parseInt(this.getParam("first-line")),r=this.getParam("pad-line-numbers");1==r?r=(""+(s+o-1)).length:1==isNaN(r)&&(r=0);for(var h=0;o>h;h++){var l=i?i[h]:s+h,e=0==l?m.config.space:a(l,r);n+=this.getLineHtml(h,l,e)}return n},getCodeLinesHtml:function(e,i){e=c(e);for(var n=t(e),o=(this.getParam("pad-line-numbers"),parseInt(this.getParam("first-line"))),e="",s=this.getParam("brush"),r=0;n.length>r;r++){var a=n[r],h=/^(&nbsp;|\s)+/.exec(a),l=null,d=i?i[r]:o+r;null!=h&&(l=""+h[0],a=a.substr(l.length),l=l.replace(" ",m.config.space)),a=c(a),0==a.length&&(a=m.config.space),e+=this.getLineHtml(r,d,(null!=l?'<code class="'+s+' spaces">'+l+"</code>":"")+a)}return e},getMatchesHtml:function(t,e){function i(t){var e=t?t.brushName||s:s;return e?e+" ":""}for(var n=0,o="",s=this.getParam("brush",""),a=0;e.length>a;a++){var h,l=e[a];null!==l&&0!==l.length&&(h=i(l),o+=r(t.substr(n,l.index-n),h+"plain")+r(l.value,h+l.css),n=l.index+l.length+(l.offset||0))}return o+=r(t.substr(n),i()+"plain")},getHtml:function(t){var e,i,n,o="",r=["syntaxhighlighter"];return className="syntaxhighlighter",0==(gutter=this.getParam("gutter"))&&r.push("nogutter"),r.push(this.getParam("class-name")),r.push(this.getParam("brush")),t=s(t).replace(/\r/g," "),e=this.getParam("tab-size"),t=1==this.getParam("smart-tabs")?l(t,e):h(t,e),t=u(t),gutter&&(n=this.figureOutLineNumbers(t)),i=this.findMatches(this.regexList,t),o=this.getMatchesHtml(t,i),o=this.getCodeLinesHtml(o,n),this.getParam("auto-links")&&(o=f(o)),"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.match(/MSIE/)&&r.push("ie"),o='<div class="'+r.join(" ")+'">'+'<table border="0" cellpadding="0" cellspacing="0">'+"<tbody>"+"<tr>"+(gutter?'<td class="gutter">'+this.getLineNumbersHtml(t)+"</td>":"")+'<td class="code">'+'<div class="container">'+o+"</div>"+"</td>"+"</tr>"+"</tbody>"+"</table>"+"</div>"},init:function(t){this.params=i(m.defaults,t||{})},getKeywords:function(t){return t=t.replace(/^\s+|\s+$/g,"").replace(/\s+/g,"|"),"\\b(?:"+t+")\\b"}},m}();(function(){function t(){var t="break case catch continue default delete do else false  for function if in instanceof new null return super switch this throw true try typeof var while with",e=SyntaxHighlighter.regexLib;this.regexList=[{regex:e.multiLineDoubleQuotedString,css:"string"},{regex:e.multiLineSingleQuotedString,css:"string"},{regex:e.singleLineCComments,css:"comments"},{regex:e.multiLineCComments,css:"comments"},{regex:/\s*#.*/gm,css:"preprocessor"},{regex:RegExp(this.getKeywords(t),"gm"),css:"keyword"}]}t.prototype=new SyntaxHighlighter.Highlighter,t.aliases=["js","jscript","javascript"],SyntaxHighlighter.brushes.JScript=t})(),function(){var t=new SyntaxHighlighter.brushes.JScript;t.init({}),syntaxHighlight=function(e){return t.getHtml(e)}}();

// source\Presentor.js
enyo.kind({name:"Presentor",kind:null,showInherited:!1,showProtected:!1,getByType:function(t,e){for(var i,n=[],o=0;i=t[o];o++)i.type==e&&n.push(i);return n},presentObject:function(t){switch(t.type){case"module":return this.presentObjects(t.objects);case"kind":case"singleton":return this.presentKind(t);case"function":case"global":return this.presentProperty(t)}},presentObjects:function(t){var e,i,n=this.groupFilter(t),o="",s=!1,r=this.getByType(n,"kind");if(r.length){for(o+="<h3>Kinds</h3>",e=0;i=r[e];e++)o+="<kind>"+i.name+"</kind><br/>",o+=this.presentComment(i.comment);s=!0}if(r=this.getByType(n,"singleton"),r.length){for(o+="<h3>Singletons</h3>",e=0;i=r[e];e++)o+="<kind>"+i.name+"</kind><br/>",o+=this.presentComment(i.comment);s=!0}if(r=this.getByType(n,"function"),r.length){for(o+="<h3>Functions</h3>",e=0;i=r[e];e++)i.group&&(o+="<"+i.group+">"+i.group+"</"+i.group+">"),o+="<label>"+i.name+"</label>: function(<arguments>"+i.value[0].arguments.join(", ")+"</arguments>)</label><br/>",o+=this.presentComment(i.comment);s=!0}if(r=this.getByType(n,"global"),r.length){for(o+="<h3>Variables</h3>",e=0;i=r[e];e++)o+=this.presentComment(i.comment),i.group&&(o+="<"+i.group+">"+i.group+"</"+i.group+">"),o+="<label>"+i.name+"</label> = ",o+=this.presentExpression(i.value[0]),o+="<br/>";s=!0}return s||(o+="<h3>This module has no public properties or functions to display.</h3>"),o},presentComment:function(t){return t?"<comment>"+this.markupToHtml(t)+"</comment>":""},presentKind:function(t){return this.presentKindHeader(t)+this.presentKindSummary(t)+this.presentKindProperties(t)},presentKindHeader:function(t){var e="";return t.module&&t.module.label&&(e+="<package>"+t.module.label+"</package>"),e+="<kind>"+t.name+"</kind>",t.superkinds.length&&(e+='<div style="padding: 4px 0px;">',e+=t.name,enyo.forEach(t.superkinds,function(t){e+=" :: <a href=#"+t+">"+t+"</a>"}),e+="</div>"),e},presentKindSummary:function(t){var e="";return t.comment&&(e+="<h3>Summary</h3>"+this.presentComment(t.comment)),e},presentKindProperties:function(t){return this.presentProperties(this.showInherited?t.allProperties:t.properties,t)},groupFilter:function(t){return enyo.filter(t,function(t){return"_"!==t.name[0]&&("public"==t.group||this.showProtected&&"protected"==t.group)},this)},presentProperties:function(t,e){for(var i,n=this.groupFilter(t),o="",s=0;i=n[s];s++)o+=this.presentProperty(i,e);return o},presentProperty:function(t,e){var i="",n=t;i+='<a name="'+n.name+'"></a>',n.group&&(i+="<"+n.group+">"+n.group+"</"+n.group+">");var o=n.name.replace(".prototype","");return n.object&&e&&e!=n.object&&(o="<prototype>"+n.object.name+"::</prototype>"+o),i+="<label>"+o+"</label>: ",i+=n.value&&n.value[0]&&"function"==n.value[0].token?"function(<arguments>"+n.value[0].arguments.join(", ")+"</arguments>)<br/>":this.presentValue(n),i+=this.presentComment(n.comment),i+="<hr/>"},presentValue:function(t){var e,i=t.value;return e=i&&i[0]?this.presentExpression(i[0]):t.token,e+="</br>"},presentExpression:function(t){var e=t;return e.comment?this.presentComment(e.comment):"block"==e.type?"{<blockquote><br/>"+this.presentBlock(e)+"</blockquote>}":"array"==e.type?"[<blockquote>"+this.presentArray(e)+"</blockquote>]":e.token},presentBlock:function(t){return this.presentProperties(t.properties)},presentArray:function(t){for(var e,i="",n=t.properties,o=0;e=n[o];o++)i+="<i>"+o+"</i>: "+this.presentExpression(e);return i},presentColumns:function(t,e,i){var n=this.groupFilter(t),o="";e&&(o=e.name+"::");for(var s,r=i||4,a=[],h="",l=0,d=0;s=n[l];l++)h+='<a href="#'+o+s.name+'">'+s.name+"</a><br/>",++d==r&&(a.push(h),h="",d=0);return h&&a.push(h),h=a.length?"<column>"+a.join("</column><column>")+"</column>":""},markupToHtml:function(t){var e=Presentor.showdown.makeHtml(t||"");return e=e.replace(/<pre><code>([\s\S]*?)<\/code><\/pre>/gm,function(t,e){return"<pre>"+syntaxHighlight(e)+"</pre>"}),e=e.replace(/<a href="http/gm,'<a target="_blank" href="http'),e=e.replace(/<a href='http/gm,'<a target="_blank" href=\'http')},inlineProperties:function(t,e){for(var i,n=[],o=function(t){t.parentHash=i.name},s=0;i=t[s];s++)e[i.name]?i.value&&i.value[0]&&i.value[0].properties&&(enyo.forEach(i.value[0].properties,o),n=n.concat(i.value[0].properties)):n.push(i);return n},statics:{showdown:new Showdown.converter}});

// source\PackagesEditor.js
enyo.kind({name:"PackagesEditor",kind:"Popup",classes:"packages-editor",events:{onSave:""},components:[{kind:"Repeater",onSetupItem:"setupItem",components:[{components:[{name:"name",kind:"Input"},{name:"path",kind:"Input"},{kind:"Button",content:"Delete",ontap:"deletePkg"}]}]},{kind:"Button",content:"New...",ontap:"newPkg"},{tag:"hr"},{kind:"Button",content:"Cancel",ontap:"hide"},{kind:"Button",content:"Save",ontap:"save"}],openWithPackages:function(t){this.show(),this.pkgs=t,this.load()},load:function(){this.$.repeater.setCount(this.pkgs.length)},setupItem:function(t,e){var i=this.pkgs[e.index];return e.item.$.name.setValue(i.name),e.item.$.path.setValue(i.path),!0},newPkg:function(){this.pkgs.push({name:"",path:""}),this.load()},deletePkg:function(t,e){this.pkgs.splice(e.index,1),this.load()},save:function(){for(var t,e=[],i=0;t=this.$.repeater.getClientControls()[i];i++){var n=t.$.name.getValue(),o=t.$.path.getValue();n&&o&&e.push({name:n,path:o})}this.doSave({pkgs:e}),this.hide()}});

// source\PackageList.js
enyo.kind({name:"PackageList",components:[{kind:"Repeater",components:[{name:"row",components:[{kind:"Checkbox",onchange:"cbChange"}]}]},{name:"version",style:"padding-top: 20px"},{kind:"PackagesEditor",modal:!0,centered:!0,floating:!0,onSave:"savePackages"}],published:{version:""},events:{onPackagesChange:"",onLoaded:""},handlers:{onSetupItem:"setupItem"},create:function(){this.inherited(arguments),this.versionChanged()},versionChanged:function(){this.$.version.setContent("Content Version: "+this.version)},fetchPackageData:function(){new enyo.Ajax({url:"assets/api-manifest.json",mimeType:"application/json"}).response(this,function(t,e){this.setVersion(e.version),this.gotPackageData(e.packages)}).go()},gotPackageData:function(t){this.pkgs=t,this.adjustForSearchQuery(),this.adjustForHashQuery(),this.$.repeater.setCount(this.pkgs.length),this.doLoaded({packages:this.pkgs,version:this.version})},adjustForSearchQuery:function(){var t=document.location.search;if(t.length>1){window.onhashchange=null;var e=window.location.hash.length>1?window.location.hash:"#";e+=document.location.search,document.location.href=document.location.href.split("?")[0]+e}},adjustForHashQuery:function(){var t=document.location.hash.split("?");if(t&&2==t.length){for(var e=t[1].split("&"),i=0;e.length>i;i++){var n=e[i].split("=");if(2==n.length)for(var o=0;this.pkgs.length>o;o++)if(this.pkgs[o].name===decodeURIComponent(n[0])){for(var s=n[1].split(","),r=0;s.length>r;r++)"disabled"===s[r]?this.pkgs[o].disabled=!0:"enabled"===s[r]?this.pkgs[o].disabled=!1:"hidden"===s[r]?this.pkgs[o].hidden=!0:"visible"===s[r]&&(this.pkgs[o].hidden=!1);break}}document.location.hash=t[0]}},loadPackageData:function(){this.pkgs?this.gotPackageData(this.pkgs):this.fetchPackageData()},savePackageData:function(){},setupItem:function(t,e){var i=this.pkgs[e.index],n=e.item.$.checkbox;n.setContent(i.name),n.setChecked(!i.disabled),e.item.$.row.setShowing(!i.hidden)},cbChange:function(t,e){var i=e.index,n=this.pkgs[i];n&&(n.disabled=!t.getChecked(),this.savePackageData()),this.doPackagesChange({pkg:n})}});

// source\TabPanels.js
enyo.kind({name:"TabPanels",kind:"FittableRows",components:[{name:"tabs",kind:"Group",defaultKind:"Button",controlClasses:"tab"},{name:"client",style:"position: relative;",fit:!0}],create:function(){this.inherited(arguments),this.selectTab(0)},addControl:function(t){t.isChrome||(t.addClass("enyo-fit"),t.showing=!1,this.$.tabs.createComponent({content:t.tabName||t.name,ontap:"tabTap",owner:this})),this.inherited(arguments)},selectTab:function(t){this.$.tabs.getControls()[t].setActive(!0);for(var e,i=0,n=this.getClientControls();e=n[i];i++)e.setShowing(i==t)},tabTap:function(t){this.selectTab(t.indexInContainer())}});

// source\SearchBar.js
enyo.kind({name:"SearchBar",events:{onSearch:""},handlers:{onkeyup:"search",onchange:"search"},components:[{xkind:"InputDecorator",classes:"enyo-tool-decorator input-decorator",style:"display: block;",components:[{kind:"Input",style:"width: 90%;"},{kind:"Image",src:"assets/search-input-search.png"}]}],getValue:function(){return this.$.input.hasNode()?this.$.input.node.value:void 0},search:function(){this.doSearch({searchString:this.getValue()})}});

// source\App.js
enyo.kind({name:"App",fit:!0,kind:"FittableColumns",components:[{kind:"analyzer.Analyzer",onIndexReady:"indexReady"},{name:"left",kind:"TabPanels",classes:"enyo-unselectable",components:[{kind:"Scroller",tabName:"Kinds",components:[{name:"kinds",allowHtml:!0}]},{kind:"Scroller",tabName:"Modules",components:[{name:"modules",allowHtml:!0}]},{kind:"Scroller",tabName:"Index",components:[{kind:"SearchBar",onSearch:"search"},{name:"index",allowHtml:!0}]},{name:"packages",tabName:"Packages",kind:"PackageList",onPackagesChange:"loadPackages",onLoaded:"packagesLoaded"}]},{name:"doc",kind:"FittableRows",fit:!0,components:[{name:"scope",components:[{name:"inheritedCb",kind:"Checkbox",content:"show inherited",onchange:"scopeChange"},{name:"accessCb",kind:"Checkbox",content:"show protected",style:"margin-left: 20px;",onchange:"accessChange"}]},{name:"header",allowHtml:!0},{name:"tocFrame",kind:"Scroller",components:[{name:"toc",allowHtml:!0}]},{name:"bodyFrame",kind:"Scroller",fit:!0,classes:"enyo-selectable",components:[{name:"indexBusy",kind:"Image",src:"assets/busy.gif",style:"padding-left: 8px;",showing:!1},{name:"body",allowHtml:!0}]}]}],create:function(){this.inherited(arguments),window.onhashchange=enyo.bind(this,"hashChange"),this.presentor=new Presentor,this.loadPackages()},loadPackages:function(){this.index=this.$.analyzer.index=new analyzer.Indexer,this.$.packages.loadPackageData()},packagesLoaded:function(t,e){document.title="Enyo API Viewer ("+e.version+")";var i=[];this.hidden=[];for(var n=0;e.packages.length>n;n++){var o=e.packages[n];e.packages[n].disabled||i.push({path:o.path,label:o.name}),o.hidden&&this.hidden.push(o.name)}return this.walk(i),!0},walk:function(t){this.walking=!0,this.$.indexBusy.show(),this.$.analyzer.walk(t)},indexReady:function(){this.presentKinds(),this.presentModules(),this.presentIndex(),this.$.indexBusy.hide(),this.walking=!1,this.hashChange()},indexalize:function(t,e,i){var n=t?enyo.filter(this.index.objects,t,this):this.index.objects;t(n[0])&&n.sort(this.moduleCompare),n=this.nameFilter(n);for(var o,s,r="",a=0;s=n[a];a++)if(this.visibleModule(s)){var h=i(s).divider;h&&o!=h&&(o=h,r+="<divider>"+h+"</divider>"),r+=enyo.macroize(e,i(s))}return r},visibleModule:function(t){var e=t.module||(t.object?t.object.module:void 0),i=e?e.label:t.label;return 0>this.hidden.indexOf(i)},moduleCompare:function(t,e){var i,n;try{i=t.name.match("[^/]*\\.js$")[0],n=e.name.match("[^/]*\\.js$")[0]}catch(o){i=t.name,n=e.name}return i.toUpperCase()<n.toUpperCase()?-1:i.toUpperCase()>n.toUpperCase()?1:0},nameFilter:function(t){return enyo.filter(t,function(t){return t.name&&"_"!==t.name[0]})},presentFilteredIndex:function(t){var e='<a href="#{$link}"><prototype>{$object}</prototype><topic>{$topic}</topic>{$module}</a><br/>',i=function(t){return{link:t.topic||t.name,topic:t.name.replace(".prototype",""),divider:t.name[0].toUpperCase(),object:t.object&&t.object.name?t.object.name+"::":"",module:!t.object&&t.module&&t.module.name?" ["+t.module.name.match("[^/]*\\.js$")+"]":""}};this.$.index.setContent(this.indexalize(t,e,i))},presentIndex:function(){var t=function(t){return"published"!==t.name&&("public"==t.group||"published"==t.group)};this.presentFilteredIndex(t)},presentModules:function(){var t=function(t){return"module"==t.type},e='<a href="#{$link}"><topic>{$topic}</topic></a><br/>',i=function(t){return{link:t.topic||t.name,topic:t.name.match("[^/]*\\.js$"),divider:t.name.match("[^/]*\\.js$")[0][0].toUpperCase()}};this.$.modules.setContent(this.indexalize(t,e,i))},presentKinds:function(){var t=function(t){return"kind"==t.type&&"public"==t.group},e='<a href="#{$link}"><topic>{$topic}</topic></a><br/>',i=function(t){return{link:t.topic||t.name,topic:t.name,divider:t.name.split(".")[0]}};this.$.kinds.setContent(this.indexalize(t,e,i))},presentObject:function(t){if(t&&t.type){if("kind"===t.type)return this.$.header.show(),this.presentKind(t),void 0;"module"===t.type?(this.$.header.show(),this.$.header.setContent("<moduleName>"+t.name+"</moduleName>")):(this.$.header.hide(),this.$.header.setContent("")),this.$.toc.setContent(""),this.$.doc.reflow();var e="";t&&(e=this.presentor.presentObject(t)),this.$.body.setContent(e)}},presentKind:function(t){this.$.header.setContent(this.presentor.presentKindHeader(t));var e=this.presentor.showInherited?t.allProperties:t.properties;e=this.presentor.inlineProperties(e,{published:1,statics:1,events:1}),e.sort(analyzer.Indexer.nameCompare);var i=this.presentor.presentColumns(e,t);this.$.toc.setContent(i);var n=this.presentor.presentKindSummary(t),o=this.presentor.presentKindProperties(t);o&&(n+="<h3>Properties</h3>"+o),this.$.body.setContent(n),this.$.doc.reflow()},presentModule:function(t){this.presentObject(t)},moduleTap:function(t){this.presentModule(t.object)},objectTap:function(t){this.presentObject(t.object)},hashChange:function(){window.location.hash.indexOf("?")>-1?this.loadPackages():this.selectTopic(this.getHashTopic())},getHashTopic:function(){return window.location.hash.slice(1)},selectTopic:function(t){this.topic=t;var e=t.split("::"),i=e.shift(),n=e.shift(),o=this.index.findByName(i)||this.index.findByName("enyo."+i);if(this.topicObject!=o&&(this.presentObject(o),this.topicObject=o,this.$.body.container.setScrollTop(0)),n){var s=document.getElementsByName(n)[0];s&&s.scrollIntoView(!0)}},scopeChange:function(){this.presentor.showInherited=this.$.inheritedCb.getValue(),this.topicObject=null,this.selectTopic(this.topic)},accessChange:function(){this.presentor.showProtected=this.$.accessCb.getValue(),this.topicObject=null,this.selectTopic(this.topic)},search:function(t,e){this.setSearchString(e.searchString.toLowerCase())},setSearchString:function(t){var e=function(e){return"published"!==e.name&&("public"==e.group||"published"==e.group)&&e.name.toLowerCase().indexOf(t)>=0};this.presentFilteredIndex(e)}});
