<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>castLabs DASH Everywhere Player Integration example</title>

    <!-- Loading Video.js CDN-hosted Scripts from videojs.com -->

  <link href="http://vjs.zencdn.net/4.11.4/video-js.css" rel="stylesheet">

  <script src="http://vjs.zencdn.net/4.11.4/video.js"></script>
  <style>
  .vjs-default-skin .vjs-audiotracks-button:before { content: "\e600"; /* cog icon */ }
  .vjs-default-skin .vjs-texttracks-button:before { content: "\e00c"; /* subtitles icon */ }
  </style>


   <script src="cldasheverywhere.min.js"></script>


</head>
<body>
<video id="vid" class="video-js vjs-default-skin vjs-big-play-centered" preload="auto" width="640px" height="480px">
</video>
<script>
  //Init player
  var config, player;
  var config = {
      "customData":{
        "userId": "purchase",
        "sessionId": "p0",
        "merchant": "six"
      },
      "widevineHeader": {
        "provider": "castlabs",
        "contentId": "fkj3ljaSdfalkr3j",
        "trackType": "",
        "policy": ""
      },
      "assetId": "big_buck_bunny2",
      "variantId": "",
      "authenticationToken": null,
      "widevineLicenseServerURL": "https://lic.staging.drmtoday.com/license-proxy-widevine/cenc/",
      "accessLicenseServerURL": "https://lic.staging.drmtoday.com/flashaccess/LicenseTrigger/v1",
      "playReadyLicenseServerURL": "https://lic.staging.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx",
      "silverlightFile": "./dashcs/dashcs.xap",
      "flashFile": './dashas/dashas.swf',
      "techs": ['dashjs','dashas','dashcs']
    };

  player = videojs('vid', {
    plugins: {
      audiotracks: {
         title: 'Languages'
      },
      texttracks: {
         title: 'Subtitles'
      }
    },
    autoplay: true,
    controls: true,
    dasheverywhere: config,
    techOrder: ['dasheverywhere']
  });

  //Play protected video
  player.loadVideo("http://demo.castlabs.com/media/bbb_abr/Manifest.mpd", {});

  //Play unprotected video
  /*
  player.loadVideo("http://demo.castlabs.com/media/bbb_abr_unenc/Manifest.mpd", {
    assetId: "",
    variantId: ""
  });
*/

</script>
</body>
</html>
