<!DOCTYPE html>

<html>

<head>
	<meta charset="utf-8" />
	<title>castLabs DASH Everywhere Player Integration example</title>

	<link href="http://vjs.zencdn.net/4.12.15/video-js.css" rel="stylesheet">
	<script src="http://vjs.zencdn.net/4.12.15/video.js"></script>
	<script src="cldasheverywhere.min.js"></script>

	<script src="/src/v1/1.4/js/libs/youbora-data-1.4.1.js?debug=true"></script>
	<script src='/1.4/js/libs/youbora-api-1.4.4.js'></script>
	<script src="/src/v1/1.4/js/pc-videojs/3.4.4-vjs-cl/sp.js"></script>

	<style>
		.vjs-default-skin .vjs-audiotracks-button:before {
			content: "\e600";
			/* cog icon */
		}

		.vjs-default-skin .vjs-texttracks-button:before {
			content: "\e00c";
			/* subtitles icon */
		}
	</style>

</head>

<body>
	<video id="vid" class="video-js vjs-default-skin vjs-big-play-centered" preload="auto" width="720px" height="405px">
	</video>

	<script>
		var config, options, player;

		config = {
			"flashFile": "dashas/dashas.swf",
			"customData": {
				"userId": "sandbox",
				"sessionId": "default",
				"merchant": "molotov"
			},
			"assetId": "tv5monde",
			"variantId": "",
			"sendCustomData": true,
			"authenticationToken": null,
			"widevineLicenseServerURL": "https://lic.drmtoday.com/license-proxy-widevine/cenc/",
			"accessLicenseServerURL": "https://lic.drmtoday.com/flashaccess/LicenseTrigger/v1",
			"techs": ['dashjs', 'dashas'],
			"debug": false
		};

		options = {
			accountCode: 'qamini',
			username: 'videojsplugin',
			isLive: true,
			debug: true,
			transaction: 'transactionCode',
			httpSecure: false,
			isp: 'Telefonica ESP',
			cdn: 'maxcdn',
			ip: '1.1.1.1',
			extraparam1: 'Extraparam1',
			extraparam2: 'Extraparam2',
			contentId: 'contentId',
			properties: {
				filename: "filename",
				content_id: "Content Id",
				content_metadata: {
					title: "France2",
					genre: "Genre",
					language: "Language",
					year: "Year",
					cast: "Cast",
					director: "Director",
					owner: "Owner",
					duration: "Duration",
					parental: "Parental",
					price: "Price",
					rating: "Rating",
					audioType: "Audio type",
					audioChannels: "Audio channels"
				},
				transaction_type: "Transaction Types",
				quality: "Quality",
				content_type: "Content Type",
				device: {
					manufacturer: "Manufacturer",
					type: "Type",
					year: "Year",
					firmware: "Firmware"
				}
			}
		};

		player = videojs('vid', {
			plugins: {
				audiotracks: {
					title: 'Languages'
				},
				texttracks: {
					title: 'Subtitles'
				}
			},

			autoplay: true,
			controls: true,
			dasheverywhere: config,
			techOrder: ['dasheverywhere', 'youbora']
		});

		if (typeof player.youbora != "undefined") {
			player.youbora(options);
		}

		player.loadVideo("http://live.mlflux.net/public/tv5monde/tv5monde.isml/tv5monde.mpd", {});

		setTimeout("test()", 10000);

		function test() {
			options2 = {
				accountCode: 'qamini',
				username: 'videojsplugin',
				isLive: true,
				debug: true,
				transaction: 'transactionCode',
				httpSecure: false,
				isp: 'Telefonica ESP',
				cdn: 'maxcdn',
				ip: '1.1.1.1',
				extraparam1: 'Extraparam1',
				extraparam2: 'Extraparam2',
				contentId: 'contentId',
				properties: {
					filename: "filename",
					content_id: "Content Id",
					content_metadata: {
						title: "tv5monde",
						genre: "Genre",
						language: "Language",
						year: "Year",
						cast: "Cast",
						director: "Director",
						owner: "Owner",
						duration: "Duration",
						parental: "Parental",
						price: "Price",
						rating: "Rating",
						audioType: "Audio type",
						audioChannels: "Audio channels"
					},
					transaction_type: "Transaction Types",
					quality: "Quality",
					content_type: "Content Type",
					device: {
						manufacturer: "Manufacturer",
						type: "Type",
						year: "Year",
						firmware: "Firmware"
					}
				}
			};
			player.youbora.reset();
			player.youbora.setProperties(options2);
			player.loadVideo("http://live.mlflux.net/public/tv5monde/tv5monde.isml/tv5monde.mpd", {});
		}
	</script>
	<div class="clear: both; width: 100%">
		<div id="console" class="float:left"></div>
		<div id="console2" class="float:right"></div>
	</div>
</body>

</html>