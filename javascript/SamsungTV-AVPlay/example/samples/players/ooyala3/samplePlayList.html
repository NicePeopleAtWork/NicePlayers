/**
* Â©2012-2013 Ooyala, Inc.All Rights Reserved.*/

<html>

<head>
<title>Sample Player Module</title>
<script src="http://code.jquery.com/jquery-1.10.1.js"></script>

<script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
<link href='http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/
jquery-ui.css' rel='stylesheet' type='text/css'>
<script type="text/javascript" src="https://player.ooyala.com/v3/4fb3ec42a0414630830d5b000ab9de10"></script>

<!-- <script src="http://player.ooyala.com/v3/dcb79e2098c94889a1b9f2af6280b45d?version=2568beb0b141148c0e3f325f74f8a14fc277ca3d"> </script> -->


<script type="text/javascript" src="http://smartplugin.youbora.com/1.3/js/libs/youbora-data.js"></script> 
<script type="text/javascript" src="http://smartplugin.youbora.com/1.3/js/pc-ooyala/3.1.0/sp.js"></script> 
<script type="text/javascript" src="http://smartplugin.youbora.com/1.3/js/libs/youbora-api.js"></script> 



</head>

<body>

<div id='soyUnplayer' style='width:640px;height:360px'></div>
<script>





	OO.ready(function() {

		console.log("Ooyala ready!!");
        	console.log("Ooyala create player!!");

        try{

		
		youboraData.setAccountCode('victorfill');
        youboraData.setUsername('luismiASD');
        youboraData.setService('http://pre.smartplugin.youbora.com:1111/');
        //youboraData.setService('http://nqs.nice264.com');
        youboraData.setLive(true);
        youboraData.setProperties({
            filename: "File Name",
            content_id: "Content Id", 
            content_metadata: { 
                title: "Title", 
                genre: "Genre", 
                language: "Language", 
                year: "Year", 
                cast: "Cast", 
                director: "Director", 
                owner: "Owner", 
                duration: "Duration", 
                parental: "Parental", 
                price: "Price",
                rating: "Rating",
                audioType: "Audio type", 
                audioChannels: "Audio channels"
            },
            transaction_type: "Transaction Types", 
            quality: "Quality", 
            content_type: "Content Type", 
            device: { 
                manufacturer: "Manufacturer", 
                type: "Type", 
                year: "Year", 
                firmware: "Firmware" 
            }
        });

        var playerConfiguration = {
            playlistsPlugin: {"data":["f0ecaeeccddf46bc8d68c97d4877e783"]},
            autoplay: false,
            loop: false,
            height: 369,
            width: 481,
            useFirstVideoFromPlaylist: true
        };


    	var player = OO.Player.create('soyUnplayer', '', playerConfiguration);
        console.log(player);
        player.mb.subscribe(OO.EVENTS.EMBED_CODE_CHANGED, 
            "",
            function(eventName,metadata, params){
                changeMetadata(eventName,metadata);
            });


        function changeMetadata(eventName,metadata){
            console.log("Change metadata!");
            console.log(metadata.embedCode);
            if(metadata.embedCode == "RnMjVuazoiEKyUzW7cIRLai3_m8iCcBV"){
                youboraData.setProperties({
                    filename: "Lego",
                    content_id: "Content Id", 
                    content_metadata: { 
                    title: "Video1", 
                    genre: "genre", 
                    language: "Language", 
                    year: "Year", 
                    cast: "Cast", 
                    director: "Director", 
                    owner: "Owner", 
                    duration: "Duration", 
                    parental: "Parental", 
                    price: "Price",
                    rating: "Rating",
                    audioType: "Audio type", 
                    audioChannels: "Audio channels"
                    },
                    transaction_type: "Transaction Types", 
                    quality: "Quality", 
                    content_type: "Content Type", 
                    device: { 
                        manufacturer: "Manufacturer", 
                        type: "Type", 
                        year: "Year", 
                        firmware: "Firmware" 
                    }
                })
            }else if(metadata.embedCode == "V1MjVuazpCoTGp0xk5pYDYtdeOHPCG-G"){
                youboraData.setProperties({
                    filename: "Frozen",
                    content_id: "Content Id", 
                    content_metadata: { 
                    title: "Video2", 
                    genre: "Romantica", 
                    language: "Spanish", 
                    year: "1990", 
                    cast: "NoOne", 
                    director: "Director", 
                    owner: "Owner", 
                    duration: "Duration", 
                    parental: "Parental", 
                    price: "Price",
                    rating: "Rating",
                    audioType: "Audio type", 
                    audioChannels: "Audio channels"
                    },
                    transaction_type: "Transaction Types", 
                    quality: "Quality", 
                    content_type: "Content Type", 
                    device: { 
                        manufacturer: "Manufacturer", 
                        type: "Type", 
                        year: "Year", 
                        firmware: "Firmware" 
                    }
                })
            }
            else if(metadata.embedCode == "pzNmJuazrZUVwOxbzuFox9j9qFMvXStL"){
                youboraData.setProperties({
                    filename: "Minivideo",
                    content_id: "Content Id", 
                    content_metadata: { 
                    title: "Video2", 
                    genre: "Romantica", 
                    language: "Spanish", 
                    year: "1990", 
                    cast: "NoOne", 
                    director: "Director", 
                    owner: "Owner", 
                    duration: "Duration", 
                    parental: "Parental", 
                    price: "Price",
                    rating: "Rating",
                    audioType: "Audio type", 
                    audioChannels: "Audio channels"
                    },
                    transaction_type: "Transaction Types", 
                    quality: "Quality", 
                    content_type: "Content Type", 
                    device: { 
                        manufacturer: "Manufacturer", 
                        type: "Type", 
                        year: "Year", 
                        firmware: "Firmware" 
                    }
                })
            }
        }

		    //OO.Player.create('soyUnplayer','hneHJybToLXEB293En3IugzfB_ifv-zY', youboraData);
		}catch(err){
			console.log(err);
		}

	    console.log("Created");
	    
		
	});

	
</script>
<noscript><div>You must enable Javascript to watch this video</div></noscript>

</body>
</html>
