<html>

	<head>
		<title>Test Player</title>

		<script src="http://code.jquery.com/jquery-1.10.1.js"></script>
		<script type="text/javascript" src="libs/youbora-api.js"></script>
		
		<!--
			<script src="http://player.ooyala.com/v3/4fb3ec42a0414630830d5b000ab9de10?platform=html5&namespace=OO"></script>
		-->

			<script src="http://player.ooyala.com/v3/4fb3ec42a0414630830d5b000ab9de10?platform=html5&namespace=OO"></script>
		

		<script src="http://player.ooyala.com/v3/4fb3ec42a0414630830d5b000ab9de10?platform=html5&namespace=NM"></script>	
		<script type="text/javascript" src="utils/testUtils.js"></script>
	</head>

	<body>

		<h1>MultiPlayer and MultiNameSpace</h1>

		<div style="width: 100%; height: 300px;" >
			
			<div style="display: block; overflow: hidden;" >

				<div style="float: left; width: 400px; height: 300px; padding-right: 20px;" >

					<div id="player">Player 1</div>

				</div>

				<div style="float: left; width: 400px; height: 300px; padding-right: 20px;" >

					<div id="player2">Player 2</div>

				</div>

			</div>
			
			<script>

				player="ooyala";
				
				prepareTestEnvironment("player");
				prepareTestEnvironment("player2");

				loadJavascriptFile("plugin/sp.js",loadEnvironment);

				function loadEnvironment()
				{
					try{
							
						nameSpaces = {};

						nameSpaces["OO"] = "OO";
						nameSpaces["NM"] = "NM";

						loadYouboraPlugin ( nameSpaces );

						var embedCode = getSelectedResource();
						console.log(embedCode);

						OO.ready(function(){
							var player={};
							if(embedCode=="f0ecaeeccddf46bc8d68c97d4877e783")
							{
								var playerConfiguration = {
						            playlistsPlugin: {"data":["f0ecaeeccddf46bc8d68c97d4877e783"]},
						            autoplay: false,
						            loop: false,
						            height: 369,
						            width: 481,
						            useFirstVideoFromPlaylist: true,
						            'playerID': "player"
				        		};
				    			player = OO.Player.create('player', '', playerConfiguration);
							}else{
								player = OO.Player.create('player',embedCode,{
									'playerID': "player"
								});
							}
				   			
				        });

				        NM.ready(function(){
							var player={};
							if(embedCode=="f0ecaeeccddf46bc8d68c97d4877e783")
							{
								var playerConfiguration = {
						            playlistsPlugin: {"data":["f0ecaeeccddf46bc8d68c97d4877e783"]},
						            autoplay: false,
						            loop: false,
						            height: 369,
						            width: 481,
						            useFirstVideoFromPlaylist: true,
						            'playerID': "player2"
				        		};
				    			player = OO.Player.create('player2', '', playerConfiguration);
							}else{
								player = OO.Player.create('player2',embedCode,{
									'playerID': "player2"
								});
							}
				   			
				        });			
	            
					}catch(err){
						console.log(err);
					}	    
				}
					
			</script>

		</div>	

		<div id="testCodeSet" style="position: absolute; top: 47px; left: 450px; display: none;" >
			<div>ResourceType</div>
			<select id="codeSelector">
				<option value="RnMjVuazoiEKyUzW7cIRLai3_m8iCcBV">HTTP</option>
				<option value="V1MjVuazpCoTGp0xk5pYDYtdeOHPCG-G">HTTP_ADS</option>
				<option value="tjdTQ1czrL8aFOu1HZv3B2Fk3MuYAaC9">HLS_LIVE</option>
				<option value="5rdDg5bjqvdJE1MbwuxkeBP3lv2RJRPW">HLS_MULTIBITRATE</option>
				<option value="f0ecaeeccddf46bc8d68c97d4877e783">HTTP_PLAYLIST</option>
			</select>
		</div>
		
	</body>

</html>