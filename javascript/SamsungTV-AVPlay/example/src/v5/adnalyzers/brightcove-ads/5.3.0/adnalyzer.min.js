/**
 * @license
 * Adnalyzer 5.3.0-brightcove-ads <http://youbora.com/>
 * Copyright NicePopleAtWork <http://nicepeopleatwork.com/>
 */
"undefined"!=typeof $YB&&($YB.adnalyzers.BrightcoveAds=function(e){try{this.adnalyzerVersion="5.3.0-brightcove-ads",e.player.ima3?this.startMonitoring(e,e.player.ima3):e.player.FreeWheelPlugin?this.startMonitoring(e,e.player.FreeWheelPlugin):$YB.notice("Adnalyzer '"+this.adnalyzerVersion+"' couldn't find any Ads Plugin associated to Brightcove.")}catch(r){$YB.error(r)}},$YB.adnalyzers.BrightcoveAds.prototype=new $YB.adnalyzers.Generic,$YB.adnalyzers.BrightcoveAds.prototype.getAdResource=function(){return this.ads.adsManager&&this.ads.adsManager.D?this.ads.adsManager.D:null},$YB.adnalyzers.BrightcoveAds.prototype.getMediaPlayhead=function(){return this.ads.snapshot&&this.ads.snapshot.currentTime?this.ads.snapshot.currentTime:null},$YB.adnalyzers.BrightcoveAds.prototype.getAdPlayhead=function(){var e=this.plugin.player;return this.ads.adPlayer&&(e=this.ads.adPlayer),e.currentTime()},$YB.adnalyzers.BrightcoveAds.prototype.getAdDuration=function(){var e=this.plugin.player;return this.ads.adPlayer&&(e=this.ads.adPlayer),e.duration()},$YB.adnalyzers.BrightcoveAds.prototype.getAdPosition=function(){if(this.ads.adsManager&&this.ads.adsManager.getCurrentAd()){var e=this.ads.adsManager.getCurrentAd().getAdPodInfo().getPodIndex();return 0===e?"pre":-1===e?"post":e>0?"mid":"unknown"}return this.plugin.isJoinSent?this.plugin.getPlayhead()>=this.plugin.getMediaDuration()?"post":"mid":"pre"},$YB.adnalyzers.BrightcoveAds.prototype.getAdTitle=function(){return this.ads.adsManager&&this.ads.adsManager.getCurrentAd()?this.ads.adsManager.getCurrentAd().getTitle():null},$YB.adnalyzers.BrightcoveAds.prototype.getAdPlayerVersion=function(){return this.ads.version&&google&&google.ima?"bcove-ima "+this.ads.version+" / IMA"+google.ima.VERSION:this.ads.getVersion?"bcove-fw "+this.ads.getVersion():"UNKNOWN"},$YB.adnalyzers.BrightcoveAds.prototype.registerVideojs=function(){try{this.registerListeners()}catch(e){$YB.error(e)}},$YB.adnalyzers.BrightcoveAds.prototype.registerListeners=function(){try{this.enableAdBufferMonitor(),$YB.utils.listenAllEvents(this.plugin.player,[null,"ima3-ready","ima3error","ima3-ad-error","ima3-started","ima3-complete","ima3-paused","ima3-resumed","ads-request","ads-load","ads-ad-started","ads-ad-ended","ads-pause","ads-play","ads-click","ads-pod-started","ads-pod-ended","ads-allpods-completed"],function(e){$YB.debug("Event: BcoveAds > "+e.type)}),this.plugin.player.ima3?this.registerIMA():this.plugin.player.FreeWheelPlugin&&this.registerFW()}catch(e){$YB.error(e)}},$YB.adnalyzers.BrightcoveAds.prototype.registerIMA=function(){try{var e=this;this.plugin.player.on("ima3-started",function(r){try{e.startJoinAdHandler()}catch(t){$YB.error(t)}}),this.plugin.player.on("ima3-paused",function(r){try{e.pauseAdHandler()}catch(t){$YB.error(t)}}),this.plugin.player.on("ima3-resumed",function(r){try{e.resumeAdHandler()}catch(t){$YB.error(t)}}),this.plugin.player.on("ima3-complete",function(r){try{e.endedAdHandler()}catch(t){$YB.error(t)}}),this.plugin.player.on("ima3-skipped",function(r){try{e.skipAdHandler()}catch(t){$YB.error(t)}})}catch(r){$YB.error(r)}},$YB.adnalyzers.BrightcoveAds.prototype.registerFW=function(){try{var e=this;this.plugin.player.on("ads-ad-started",function(r){try{e.startJoinAdHandler()}catch(t){$YB.error(t)}}),this.plugin.player.on("ads-pause",function(r){try{e.pauseAdHandler()}catch(t){$YB.error(t)}}),this.plugin.player.on("ads-play",function(r){try{e.resumeAdHandler()}catch(t){$YB.error(t)}}),this.plugin.player.on("ads-ad-ended",function(r){try{e.endedAdHandler()}catch(t){$YB.error(t)}})}catch(r){$YB.error(r)}});