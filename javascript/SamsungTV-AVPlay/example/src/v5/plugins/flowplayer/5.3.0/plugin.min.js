/**
 * @license
 * Plugin 5.3.0-flowplayer <http://youbora.com/>
 * Copyright NicePopleAtWork <http://nicepeopleatwork.com/>
 */
"undefined"!=typeof $YB&&($YB.plugins.Flowplayer=function(e,r){try{this.pluginName="flowplayer",this.pluginVersion="5.3.0-flowplayer",this.startMonitoring(e,r),this.player=flowplayer("#"+e),this.tag=document.getElementById(e).getElementsByTagName("video")[0],this.registerListeners()}catch(n){$YB.error(n)}},$YB.plugins.Flowplayer.prototype=new $YB.plugins.Generic,$YB.plugins.Flowplayer.prototype.getPlayhead=function(){return this.player.video.time},$YB.plugins.Flowplayer.prototype.getMediaDuration=function(){return this.player.video.duration},$YB.plugins.Flowplayer.prototype.getResource=function(){return this.player.video.src?this.player.video.src:this._resource},$YB.plugins.Flowplayer.prototype.getPlayerVersion=function(){return"flowplayer "+flowplayer.version},$YB.plugins.Flowplayer.prototype.registerListeners=function(){try{var e=this;$YB.utils.listenAllEvents(this.player.on,["load","ready","stop","finish","beforeseek","seek"],function(r){$YB.debug("Event: "+e.playerId+" > "+r.type)}),this.enableBufferMonitor(),this.player.on("progress",function(r,n,t){t>.1&&(e.firstProgressSent&&e.joinHandler(),e.firstProgressSent=!0),e.seekedHandler()}),this.player.on("pause",function(){e.getPlayhead()>=e.getMediaDuration()?e.endedHandler():e.pauseHandler()}),this.player.on("load",function(r,n,t){e._resource=t.src,e.playHandler(),e.firstProgressSent=!1}),this.player.on("resume",function(){e.playHandler(),e.resumeHandler(),e.firstProgressSent=!1}),this.player.on("stop",function(){e.endedHandler()}),this.player.on("finish",function(){e.endedHandler()}),this.player.on("error",function(r,n,t){e._resource=t.video.src,e.errorHandler(t.code,t.message)}),this.player.on("beforeseek",function(){e.seekingHandler()}),this.player.on("seek",function(){})}catch(r){$YB.error(r)}});