/**
 * @license
 * Plugin 5.1.0-brightcove <http://youbora.com/>
 * Copyright NicePopleAtWork <http://nicepeopleatwork.com/>
 */
"undefined"!=typeof $YB&&($YB.plugins.Brightcove=function(i,t){try{this.pluginName="brightcove",this.pluginVersion="5.1.0-brightcove",brightcove&&brightcove.api&&(this.init(i,t),this.player=brightcove.api.getExperience(i),this.tag=this.player.getModule(brightcove.api.modules.APIModules.VIDEO_PLAYER),"html"==this.player.type&&this.registerListeners())}catch(e){$YB.error(e)}},$YB.plugins.Brightcove.prototype=new $YB.plugins.Generic,$YB.plugins.Brightcove.prototype.getPlayhead=function(){return this.playhead},$YB.plugins.Brightcove.prototype.getMediaDuration=function(){return this.duration},$YB.plugins.Brightcove.prototype.getResource=function(){return this.video.defaultURL},$YB.plugins.Brightcove.prototype.getTitle=function(){return this.video.displayName},$YB.plugins.Brightcove.prototype.getPlayerVersion=function(){return"brightcove-"+brightcove.majorVersion+"."+brightcove.majorRevision+"."+brightcove.minorRevision},$YB.plugins.Brightcove.prototype.getBitrate=function(){return this.rendition&&this.rendition.encodingRate>0?this.rendition.encodingRate:void 0},$YB.plugins.Brightcove.prototype.registerListeners=function(){try{$YB.utils.listenAllEvents(this.tag,["mediaBegin","mediaChange","mediaComplete","mediaError","mediaPlay","mediaSeekNotify","mediaSeek","mediaBufferBegin","mediaBufferComplete","mediaStop"]),this.startAutobuffer();var i=this;this.tag.addEventListener("mediaChange",function(t){t.position&&(i.playhead=t.position)}),this.tag.addEventListener("mediaPlay",function(t){t.position&&(i.playhead=t.position),i.playHandler(t)}),this.tag.addEventListener("mediaProgress",function(t){t.position&&(i.playhead=t.position),i.playingHandler()}),this.tag.addEventListener("mediaStop",function(t){t.position&&(i.playhead=t.position),i.getMediaDuration()&&t.position>=i.getMediaDuration()?i.endedHandler():i.pauseHandler()}),this.tag.addEventListener("mediaBegin",function(t){t.position&&(i.playhead=t.position)}),this.tag.addEventListener("mediaComplete",function(t){t.position&&(i.playhead=t.position),i.endedHandler()}),this.tag.addEventListener("mediaSeekNotify",function(t){t.position&&(i.playhead=t.position),i.seekingHandler()}),this.tag.addEventListener("mediaError",function(t){t.position&&(i.playhead=t.position),this.errorHandler(playerEvent.code,"PLAY_FAILURE")})}catch(t){$YB.error(t)}},$YB.plugins.Brightcove.prototype.playHandler=function(i){try{if(i.duration&&(this.duration=i.duration),!this.isStartSent){var t=this;this.tag.getCurrentRendition(function(i){t.rendition=i}),this.tag.getCurrentVideo(function(i){t.video=i,t.videoApi.sendStart()})}}catch(e){$YB.error(e)}});