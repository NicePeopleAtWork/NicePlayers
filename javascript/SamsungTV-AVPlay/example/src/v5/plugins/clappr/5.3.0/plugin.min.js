/**
 * @license
 * Plugin 5.3.0-clappr <http://youbora.com/>
 * Copyright NicePopleAtWork <http://nicepeopleatwork.com/>
 */
"undefined"!=typeof $YB&&($YB.plugins.Clappr=function(p,t){try{this.pluginName="clappr",this.pluginVersion="5.3.0-clappr",this.startMonitoring(p,t),this.playback=this.player.core.getCurrentPlayback(),this.tag=this.playback.video,this.registerListeners()}catch(e){$YB.error(e)}},$YB.plugins.Clappr.playEvent=Clappr.Events.PLAYBACK_BUFFERING,$YB.plugins.Clappr.prototype=new $YB.plugins.Generic,$YB.plugins.Clappr.prototype.getPlayhead=function(){return this.player.getCurrentTime()},$YB.plugins.Clappr.prototype.getMediaDuration=function(){return this.player.getDuration()},$YB.plugins.Clappr.prototype.getIsLive=function(){return"live"==this.player.core.getPlaybackType()},$YB.plugins.Clappr.prototype.getResource=function(){var p=this.player.playerInfo.options.source;return"object"==typeof p?p.source:p},$YB.plugins.Clappr.prototype.getPlayerVersion=function(){return"Clappr"+Clappr.version},$YB.plugins.Clappr.prototype.getBitrate=function(){return this.bitrate||-1},$YB.plugins.Clappr.prototype.getThroughput=function(){return this.throughput||-1},$YB.plugins.Clappr.prototype.getRendition=function(){return this.rendition},$YB.plugins.Clappr.prototype.registerListeners=function(){try{var p=this;if($YB.debugLevel>=4){for(var t=[Clappr.Events.PLAYBACK_BITRATE,Clappr.Events.PLAYBACK_BUFFERFULL,Clappr.Events.PLAYBACK_BUFFERING,Clappr.Events.PLAYBACK_DVR,Clappr.Events.PLAYBACK_ENDED,Clappr.Events.PLAYBACK_ERROR,Clappr.Events.PLAYBACK_HIGHDEFINITIONUPDATE,Clappr.Events.PLAYBACK_LEVEL_SWITCH_END,Clappr.Events.PLAYBACK_LEVEL_SWITCH_START,Clappr.Events.PLAYBACK_LEVELS_AVAILABLE,Clappr.Events.PLAYBACK_LOADEDMETADATA,Clappr.Events.PLAYBACK_PAUSE,Clappr.Events.PLAYBACK_PLAY,Clappr.Events.PLAYBACK_PLAYBACKSTATE,Clappr.Events.PLAYBACK_READY,Clappr.Events.PLAYBACK_SETTINGSUPDATE,Clappr.Events.PLAYBACK_STOP,Clappr.Events.PLAYBACK_PLAY_INTENT],e=0;e<t.length;e++){var n=t[e];this.playback.on(n,function(){$YB.debug("Event: Clappr-"+p.player.core.uniqueId+" > "+this)},n)}for(var t=[Clappr.Events.PLAYER_ENDED,Clappr.Events.PLAYER_ERROR,Clappr.Events.PLAYER_PAUSE,Clappr.Events.PLAYER_PLAY,Clappr.Events.PLAYER_READY,Clappr.Events.PLAYER_SEEK,Clappr.Events.PLAYER_STOP],e=0;e<t.length;e++){var n=t[e];this.player.on(n,function(){$YB.debug("Event: Clappr-"+p.player.core.uniqueId+" > "+this)},n)}}this.enableBufferMonitor(),this.playback.on($YB.plugins.Clappr.playEvent,function(){p.playHandler()}),this.playback.on(Clappr.Events.PLAYBACK_BUFFERING,function(){p.playback=p.player.core.getCurrentPlayback()}),this.playback.on(Clappr.Events.PLAYBACK_PLAY,function(){p.playingHandler()}),this.playback.on(Clappr.Events.PLAYBACK_PAUSE,function(){p.pauseHandler()}),this.playback.on(Clappr.Events.PLAYBACK_STOP,function(){p.endedHandler()}),this.playback.on(Clappr.Events.PLAYBACK_ENDED,function(){p.endedHandler()}),this.playback.on(Clappr.Events.PLAYBACK_ERROR,function(t,e){var n=t.code+"-"+e;p.errorHandler(n)}),this.playback.on(Clappr.Events.PLAYBACK_BUFFERFULL,function(){p.seekedHandler()}),this.playback.on(Clappr.Events.PLAYBACK_BITRATE,function(t){p.bitrate=t.bitrate,p.throughput=t.bandwidth,p.rendition=p.playback.levels[t.level].label}),this.player.on(Clappr.Events.PLAYER_SEEK,function(){p.seekingHandler()})}catch(r){$YB.error(r)}},$YB.plugins.Clappr.prototype.resetValues=function(){plugin.bitrate=null,plugin.throughput=null,plugin.rendition=null});