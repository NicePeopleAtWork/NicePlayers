/**
 * @license
 * Plugin 5.3.0-videojs5 <http://youbora.com/>
 * Copyright NicePopleAtWork <http://nicepeopleatwork.com/>
 */
"undefined"!=typeof $YB&&($YB.plugins.Videojs5=function(e,i){try{this.pluginName="videojs5-unknown",this.pluginVersion="5.3.0-videojs5",this.startMonitoring(e,i),this.playerId=e.id(),this.enableBufferMonitor(),e.ready(this.registerCommon)}catch(t){$YB.error(t)}},$YB.plugins.Videojs5.prototype=new $YB.plugins.Generic,$YB.plugins.Videojs5.prototype.detectPlayer=function(){this.pluginName="videojs5",this.getTech().hls&&(this.pluginName+="-hlsC"),this.getTech().hls_&&(this.pluginName+="-hlsjs"),this.player.mediainfo&&(this.pluginName+="-bcove"),(this.player.ima||this.player.ima3)&&(this.pluginName+="-ima"),this.player.FreeWheelPlugin&&(this.pluginName+="-fw"),$YB.notice("Player detected: "+this.pluginName),this.connectAdnalyzers()},$YB.plugins.Videojs5.prototype.getTech=function(){return this.player.tech({IWillNotUseThisInPlugins:!0})},$YB.plugins.Videojs5.prototype.getPlayhead=function(){return this.player.absoluteTime?this.player.absoluteTime():this.player.currentTime()},$YB.plugins.Videojs5.prototype.getMediaDuration=function(){return this.player.mediainfo&&"undefined"!=typeof this.player.mediainfo.duration?Math.round(this.player.mediainfo.duration):Math.round(this.player.duration())},$YB.plugins.Videojs5.prototype.getThroughput=function(){return this.getTech().hls&&this.getTech().hls.bandwidth?this.getTech().hls.bandwidth:-1},$YB.plugins.Videojs5.prototype.getBitrate=function(){try{return this.getTech().hls?this.getTech().hls.playlists.media().attributes.BANDWIDTH:this.getTech().hls_?this.getTech().hls_.levels[this.getTech().hls_.currentLevel].bitrate:-1}catch(e){return-1}},$YB.plugins.Videojs5.prototype.getRendition=function(){try{if(this.getTech().hls){var e=this.getTech().hls.playlists.media().attributes;return e.NAME?e.NAME:e.RESOLUTION.width?e.RESOLUTION.width+"x"+e.RESOLUTION.height+"@"+e.BANDWIDTH:null}if(this.getTech().hls_){var i=this.getTech().hls_.levels[this.getTech().hls_.currentLevel];return i.name?i.name:i.bitrate?i.width+"x"+i.height+"@"+i.bitrate:null}return null}catch(t){return null}return $YB.utils.parseNumber(this.getBitrate(),"")},$YB.plugins.Videojs5.prototype.getResource=function(){return this.getTech().hls_?this.getTech().hls_.url:this.player.currentSrc()},$YB.plugins.Videojs5.prototype.getPlayerVersion=function(){return videojs.VERSION?this.pluginName+" "+videojs.VERSION:void 0},$YB.plugins.Videojs5.prototype.getTitle=function(){return this.player.mediainfo&&this.player.mediainfo.name?this.player.mediainfo.name:void 0},$YB.plugins.Videojs5.prototype.registerCommon=function(){try{$YB.utils.listenAllEvents(this,["adstart","adend","adskip","adsready","adserror"]),this.on("loadstart",function(e){this.youbora.plugin.detectPlayer()}),this.on("play",function(e){this.youbora.plugin.playHandler(),this.youbora.plugin.adnalyzer&&this.youbora.plugin.adnalyzer.registerVideojs&&this.youbora.plugin.adnalyzer.registerVideojs()}),this.on("playing",function(e){this.youbora.plugin.resumeHandler()}),this.on("pause",function(e){this.youbora.plugin.pauseHandler()}),this.on("abort",function(e){this.youbora.plugin.endedHandler()}),this.on("ended",function(e){this.youbora.plugin.endedHandler()}),this.on("seeking",function(e){this.youbora.plugin.seekingHandler()}),this.on("seeked",function(e){this.youbora.plugin.seekPlayhead=this.youbora.plugin.getPlayhead()}),this.on("timeupdate",function(e){try{this.youbora.plugin.getPlayhead()>.1&&(this.youbora.plugin.joinHandler(),this.youbora.plugin.seekPlayhead&&this.youbora.plugin.seekPlayhead!=this.youbora.plugin.getPlayhead()&&(this.youbora.plugin.seekedHandler(),this.youbora.plugin.seekPlayhead=!1))}catch(i){$YB.error(i)}}),this.on("error",function(e){try{this.youbora.plugin.errorHandler(this.error().code,this.error().message)}catch(i){$YB.error(i)}})}catch(e){$YB.error(e)}},$YB.plugins.Videojs5.prototype.connectAdnalyzers=function(){"undefined"!=typeof $YB.adnalyzers.BrightcoveAds&&this.player.mediainfo&&this.player.ads&&this.player.ima3?this.adnalyzer=new $YB.adnalyzers.BrightcoveAds(this):"undefined"!=typeof $YB.adnalyzers.Ima&&this.player.ima&&(this.adnalyzer=new $YB.adnalyzers.Ima(this))}),"undefined"!=typeof videojs&&videojs.plugin("youbora",function(e){"undefined"==typeof this.youbora.plugin?this.youbora.plugin=new $YB.plugins.Videojs5(this,e):this.youbora.plugin.setOptions(e)});