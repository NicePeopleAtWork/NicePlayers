/**
 * @license
 * Plugin 5.2.0-chromecast <http://youbora.com/>
 * Copyright NicePopleAtWork <http://nicepeopleatwork.com/>
 */
"undefined"!=typeof $YB&&($YB.plugins.Chromecast=function(t){try{this.pluginName="chromecast",this.pluginVersion="5.2.0-chromecast",this.init(null,t),this.tag=document.getElementsByTagName("video")[0],this.registerListeners()}catch(e){$YB.error(e)}},$YB.plugins.Chromecast.prototype=new $YB.plugins.Generic,$YB.plugins.Chromecast.prototype.setMediaPlayer=function(t){this.player=t},$YB.plugins.Chromecast.prototype.getRendition=function(){return this.getBitrate()},$YB.plugins.Chromecast.prototype.getPlayhead=function(){return this.tag.currentTime},$YB.plugins.Chromecast.prototype.getMediaDuration=function(){return this.tag.duration},$YB.plugins.Chromecast.prototype.getResource=function(){return this.tag.currentSrc.startsWith("blob:")?this.player?this.player.getHost().url:"unknown":this.tag.currentSrc},$YB.plugins.Chromecast.prototype.getPlayerVersion=function(){return cast&&cast.player&&cast.player.api&&cast.player.api.VERSION?"Chromecast "+cast.player.api.VERSION:"Chromecast"},$YB.plugins.Chromecast.prototype.getBitrate=function(){try{if(this.player.getStreamingProtocol)for(var t=this.player.getStreamingProtocol(),e=0;e<t.getStreamCount();e++){var r=t.getStreamInfo(e),a=t.getQualityLevel(e);if(r.bitrates&&r.bitrates[a])return r.bitrates[a]}return-1}catch(n){return-1}},$YB.plugins.Chromecast.prototype.registerListeners=function(){try{$YB.utils.listenAllEvents(this.tag,["ratechange"]),this.player||this.startAutobuffer();var t=this;this.tag.addEventListener("loadstart",function(){t.endedHandler(),t.playHandler()}),this.tag.addEventListener("playing",function(){t.playingHandler()}),this.tag.addEventListener("pause",function(){this.player&&this.player.getState().underflow?t.bufferingHandler():t.pauseHandler(),t.pauseHandler()}),this.tag.addEventListener("error",function(){t.errorHandler(t.tag.error.code),t.endedHandler()}),this.tag.addEventListener("abort",function(){t.endedHandler()}),this.tag.addEventListener("ended",function(){t.endedHandler()}),this.tag.addEventListener("seeking",function(){t.seekingHandler()})}catch(e){$YB.error(e)}},$YB.plugins.Chromecast.prototype.errorHandler=function(t){var e="PLAY FAILURE";switch(t){case cast.player.api.ErrorCode.NETWORK:e="NETWORK ERROR";break;case cast.player.api.ErrorCode.MANIFEST:e="MANIFEST ERROR";break;case cast.player.api.ErrorCode.PLAYBACK:e="PLAYBACK ERROR";break;case cast.player.api.ErrorCode.MEDIAKEYS:e="MEDIAKEYS ERROR"}this.videoApi.sendError({errorCode:t,msg:e})});