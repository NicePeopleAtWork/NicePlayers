/**
 * @license
 * Plugin 5.1.0-akamaimediaplayer <http://youbora.com/>
 * Copyright NicePopleAtWork <http://nicepeopleatwork.com/>
 */
"undefined"!=typeof $YB&&($YB.plugins.AkamaiMediaPlayer=function(e,t){try{this.pluginName="akamaimediaplayer",this.pluginVersion="5.1.0-akamaimediaplayer",this.init(e,t),this.registerListeners(),this.bitrate=0}catch(a){$YB.error(a)}},$YB.plugins.AkamaiMediaPlayer.prototype=new $YB.plugins.Generic,$YB.plugins.AkamaiMediaPlayer.prototype.getPlayhead=function(){return this.player.getCurrentTime()},$YB.plugins.AkamaiMediaPlayer.prototype.getMediaDuration=function(){return this.player.getDuration()},$YB.plugins.AkamaiMediaPlayer.prototype.getTitle=function(){return this.player.getMedia&&this.player.getMedia()?this.player.getMedia().title:null},$YB.plugins.AkamaiMediaPlayer.prototype.getResource=function(){return this.player.getSrc()},$YB.plugins.AkamaiMediaPlayer.prototype.getPlayerVersion=function(){return this.player.getVersion()},$YB.plugins.AkamaiMediaPlayer.prototype.getBitrate=function(){return 1e3*this.bitrate},$YB.plugins.AkamaiMediaPlayer.prototype.getRendition=function(){return this.bitrate},$YB.plugins.AkamaiMediaPlayer.prototype.registerListeners=function(){try{$YB.utils.listenAllEvents(this.player,["mediaPlayerDynamicStreamSwitchingChange","mediaPlayerResumeOrPausePlayback","mediaLoadStateReady","adComponentAdBegin","adComponentAdComplete","canplaythrough","mediaPlayerError","playrequest","canSeekChange","temporalChange"]),this.startAutobuffer();var e=this;this.player.addEventListener("playrequest",function(){e.playHandler()}),this.player.addEventListener("pause",function(){e.pauseHandler()}),this.player.addEventListener("play",function(){e.resumeHandler()}),this.player.addEventListener("ended",function(){e.endedHandler()}),this.player.addEventListener("mediaPlayerError",function(){e.errorHandler(3001,"PLAY_FAILURE")}),this.player.addEventListener("error",function(){e.errorHandler(3001,"PLAY_FAILURE")}),this.player.addEventListener("seeking",function(){e.seekingHandler()}),this.player.addEventListener("seeked",function(){e.playingHandler()}),this.player.addEventListener("waiting",function(){e.bufferingHandler()}),this.player.addEventListener("playing",function(){e.bufferedHandler()}),this.player.addEventListener("adComponentAdBegin",function(){e.genericAdStartHandler()}),this.player.addEventListener("adComponentAdComplete",function(){e.genericAdEndHandler()}),this.player.addEventListener("mediaPlayerDynamicStreamSwitchingChange",function(t){e.bitrate=t.data.bitrate})}catch(t){$YB.error(t)}});