function loadJavascriptFile(t,a){try{var i=document.getElementsByTagName("head")[0],e=document.createElement("script");e.type="text/javascript",e.src=t,e.onreadystatechange=a,e.onload=a,i.appendChild(e)}catch(s){this.youboraData.debug&&console.log(s)}}var YouboraPluginAnalyticsEvents={BUFFER_BEGIN:1,BUFFER_END:0,JOIN_SEND:2,ADS_BEGIN:3,ADS_END:4},YouboraPluginError={network:"4000",generic:"4001",geo:"4002",domain:"4003",future:"4004",past:"4005",device:"4006",concurrentStreams:"4007",invalidHeartbeat:"4008",contentTree:"4009",metadata:"4010",generic:"4011",stream:"4012",livestream:"4013",network:"4014",unplayableContent:"4015",invalidExternalId:"4016",emptyChannel:"4017",emptyChannelSet:"4018",channelContent:"4019",streamPlayFailed:"4020",adobePassAuthenticate:"4021",adobePassToken:"4022",accountDisabled:"4023",adobePassAssetNotAuthenticated:"4024",adobePassLibraryNotDefined:"4025",adobePassRequireJavascript:"4026",adobePassUserNotAuthorized:"4027",afterFlightTime:"4028",apiDynamicAdSetIsNotEnabledForProvider:"4029",apiExpirationInPast:"4030",apiExpirationNotInWholeHours:"4031",apiExpirationTooFarInFuture:"4032",apiInvalidDynamicAdSetAssignment:"4033",apiInvalidAdSetCode:"4034",apiStandaloneAdSetIsEmpty:"4035",badResponse:"4036",badSecureStreamingResponse:"4037",beforeFlightTime:"4038",cannotContactSas:"4039",cannotContactServer:"4040",cannotDownloadThirdPartyModule:"4041",cannotFetchPayPerCiewStatus:"4042",cannotFetchSecureStreamingToken:"4043",cannotParsePayPerViewStatusResponse:"4044",cannotRetrieveDomain:"4045",cannotSecurelyStreamVideo:"4046",contentOverCap:"4047",contentUnavailable:"4048",corruptedNetstream:"4049",apiDynamicAdSetIsNotEnabledForProvider:"4050",flashAccessLicenseUnavailable:"4051",internalError:"4052",internalPlayerError:"4053",invalidApiUsage:"4054",invalidContent:"4055",invalidCcontentSegment:"4056",invalidDynamicAdSetAssignment:"4057",invalidDynamicAdSetCode:"4058",invalidDynamicChannelUsage:"4059",invalidFlashAccessLicense:"4060",invalidResponse:"4061",invalidSasResponse:"4062",invalidServerResponse:"4063",invalidToken:"4064",liveStreamNotFound:"4065",liveStreamFinished:"4066",liveStreamFinishedTitle:"4067",liveStreamUnavailable:"4068",liveStreamUnavailableAfterPayment:"4069",longBeforeFlightTime:"4070",lostConnection:"4071",noConnectionPlayer:"4072'",noConnectionVideo:"4073",noMovieSpecifiedForLabels:"4074",noQueryStringCode:"4075",ppvAlreadyPaid:"4076",ppvCancelPurchase:"4077",ppvChangeMind:"4078",ppvCheckoutError:"4079",ppvDefaultMessage:"4080",ppvIsExpired:"4081",ppvNeedsToPay:"4082",ppvNeedsToPayAtStart:"4083",ppvNoMorePlaysToday:"4084",ppvPrepurchase:"4085",ppvPrepurchaseThankYou:"4086",ppvPurchaseInProgress:"4087",ppvSupportMessage:"4088",ppvViewUnauthorized:"4089",ppvWatchVideo:"4090",processingContent:"4091",proxyClassesDontWork:"4092",removedContent:"4093",sasAuthFailed:"4094",sasHeartbeatFailed:"4095",sasTooManyActiveStreams:"4096",secureStreamingAuthFailed:"4097",standaloneAdSetIsEmpty:"4098",streamFileNotFound:"4099",tokenExpired:"4100",unauthorizedDevice:"4101",unauthorizedDomain:"4102",unauthorizedDynamicChannel:"4103",unauthorizedLocation:"4104",unauthorizedParent:"4105",unauthorizedPayPerView:"4106",unauthorizedUsage:"4107",unknownAccount:"4108",unknownContent:"4109",unknownDomain:"4110",unknownSasContent:"4111",version:"4112",versionNotSupported:"4113",versionUpgradeLink:"4114",versionUpgradeText:"4115",unplayable_content:"4135",sas:"4136"};YouboraData=function(){try{this.debug=!1,this.playerId="",this.accountCode=void 0,this.service="//nqs.nice264.com",this.username="default",this.mediaResource="",this.transaction="",this.live=!1,this.contentId="",this.properties={filename:"",content_id:"",content_metadata:{title:"",genre:"",language:"",year:"",cast:"",director:"",owner:"",duration:"",parental:"",price:"",rating:"",audioType:"",audioChannels:""},transaction_type:"",quality:"",content_type:"",device:{manufacturer:"",type:"",year:"",firmware:""}},this.trackingAds=!0,this.concurrencySessionId=Math.random(),this.concurrencyProperties={enabled:!1,concurrencyService:"//pc.youbora.com/cping/",concurrencyCode:"",concurrencyMaxCount:0,concurrencyRedirectUrl:"",concurrencyIpMode:!1},this.resumeProperties={resumeEnabled:!1,resumeService:"//pc.youbora.com/resume/",playTimeService:"//pc.youbora.com/playTime/",resumeCallback:function(){console.log("YouboraData :: Default Resume Callback")}},this.extraParams={extraparam1:void 0,extraparam2:void 0,extraparam3:void 0,extraparam4:void 0,extraparam5:void 0,extraparam6:void 0,extraparam7:void 0,extraparam8:void 0,extraparam9:void 0,extraparam10:void 0},this.silverlightMediaElementName=void 0,this.silverlightPlayer=void 0,this.enableAnalytics=!0,this.enableBalancer=!0,this.cdn_node_data=!1,this.hashTitle=!0,this.text_cdn="",this.text_ip="",this.text_isp="",this.nqsDebugServiceEnabled=!1,this.init()}catch(t){this.youboraData.debug&&console.log(t)}},YouboraData.prototype={init:function(){},redirectFunction:function(t){window.location=t},log:function(t){1==this.debug&&console.log("YouboraDataContainer ["+this.playerId+"] Log :: "+t)}},YouboraAnalytics=function(t,a,i){this.mb=a,this.id=t,this.youboraData={},this.player={},this.ooyalaEvents={},this.pluginType="Ooyala",this.thisOO=i,this.communications=null,this.activeAdvertisment=!1,this.platform=null,this.isFlashPlugin=!1,this.isAndroidOrIOSPlugin=!1,this.resource="",this.pluginVersion="1.4.2.2.1_desktop_newooyala",this.targetDevice="HTML5_OoyalaPlayer",this.outputFormat="xml",this.xmlHttp=null,this.isXMLReceived=!1,this.resourcesQueue=[],this.eventsQueue=[],this.eventsTimer=null,this.errorDelayTimer=null,this.errorDelayMillis=3e3,this.errorLastEvent=null,this.errorLastTime=0,this.startDelayTimer=null,this.startDelayMillis=1e3,this.startLastTime=0,this.isStartEventSent=!1,this.isJoinEventSent=!1,this.isStopEventSent=!1,this.isBufferRunning=!1,this.isPauseEventSent=!1,this.isFixJoinTime=!1,this.isAdsEventSent=!1,this.assetMetadata={},this.isLive=!1,this.bufferTimeBegin=0,this.joinTimeBegin=0,this.joinTimeEnd=0,this.bitrate=0,this.adsTimeBegin=0,this.pamPingTime=0,this.lastPingTime=0,this.diffTime=0,this.pingTimer=null,this.lastBitrate=-1,this.lastCurrentTime=0,this.seekEvent=!1,this.replaySeekEvent=!1,this.playTime=0,this.videoDuration=NaN,this.playing=!1,this.bandwidth={},this.progressCount=0,this.bufferCheckTimer={},this.lastTime=0,this.init()},YouboraAnalytics.prototype={init:function(){var nameSpace="";try{nameSpace=eval(this.thisOO.playerParams.namespace),void 0==nameSpace&&(nameSpace=this.thisOO)}catch(err){nameSpace=this.thisOO}try{this.youboraData=new YouboraData}catch(err){this.youboraData.debug&&console.log(err)}try{var currentSpace;currentSpace=void 0!=nameSpace.__internal?nameSpace.__internal:nameSpace;var isAndroid=1==currentSpace.isAndroid||1==currentSpace.isAndroid4Plus,isIos=1==currentSpace.isIos||1==currentSpace.isIpad||1==currentSpace.isIphone;this.isAndroidOrIOSPlugin=isAndroid||isIos,this.isFlashPlugin=currentSpace.requiredInEnvironment("flash-playback")}catch(err){this.youboraData.debug&&console.log(err)}try{this.ooyalaEvents=nameSpace.EVENTS}catch(err){this.youboraData.debug&&console.log(err)}try{this.mb.subscribe(nameSpace.EVENTS.PLAYER_CREATED,"YouboraAnalytics",this.thisOO._.bind(this.onPlayerCreate,this)),this.mb.subscribe(nameSpace.EVENTS.PAUSED,"YouboraAnalytics",this.thisOO._.bind(this.onPauseHandler,this)),this.mb.subscribe(nameSpace.EVENTS.STREAM_PAUSED,"YouboraAnalytics",this.thisOO._.bind(this.onPauseHandler,this)),this.mb.subscribe(nameSpace.EVENTS.PLAYING,"YouboraAnalytics",this.thisOO._.bind(this.onPlayingHandler,this)),this.mb.subscribe(nameSpace.EVENTS.STREAM_PLAYING,"YouboraAnalytics",this.thisOO._.bind(this.onPlayingHandler,this)),this.mb.subscribe(nameSpace.EVENTS.AUTHORIZATION_FETCHED,"YouboraAnalytics",this.thisOO._.bind(this.onAuthorizationFetched,this)),this.mb.subscribe(nameSpace.EVENTS.PLAYED,"YouboraAnalytics",this.thisOO._.bind(this.onStopHandler,this)),this.mb.subscribe(nameSpace.EVENTS.STREAM_PLAYED,"YouboraAnalytics",this.thisOO._.bind(this.onStopHandler,this)),this.mb.subscribe(nameSpace.EVENTS.ERROR,"YouboraAnalytics",this.thisOO._.bind(this.onErrorHandler,this)),this.mb.subscribe(nameSpace.EVENTS.ADS_ERROR,"YouboraAnalytics",this.thisOO._.bind(this.adsError,this)),this.mb.subscribe(nameSpace.EVENTS.INITIAL_PLAY,"YouboraAnalytics",this.thisOO._.bind(this.onPlayHandler,this)),this.mb.subscribe(nameSpace.EVENTS.PLAY,"YouboraAnalytics",this.thisOO._.bind(this.onPlayHandler,this)),this.mb.subscribe(nameSpace.EVENTS.PLAY_STREAM,"YouboraAnalytics",this.thisOO._.bind(this.onPlayStreamHandler,this)),this.mb.subscribe(nameSpace.EVENTS.BUFFERED,"YouboraAnalytics",this.thisOO._.bind(this.onBufferedHandler,this)),this.mb.subscribe(nameSpace.EVENTS.BUFFERING,"YouboraAnalytics",this.thisOO._.bind(this.onBufferingHandler,this)),this.mb.subscribe(nameSpace.EVENTS.PLAYBACK_READY,"YouboraAnalytics",this.thisOO._.bind(this.onPlaybackReadyHandler,this)),this.mb.subscribe(nameSpace.EVENTS.PLAYHEAD_TIME_CHANGED,"YouboraAnalytics",this.thisOO._.bind(this.onPlayheadChangedHandler,this)),this.mb.subscribe(nameSpace.EVENTS.SEEK,"YouboraAnalytics",this.thisOO._.bind(this.onSeekHandler,this)),this.mb.subscribe(nameSpace.EVENTS.SCRUBBING,"YouboraAnalytics",this.thisOO._.bind(this.onSeekHandler,this)),this.mb.subscribe(nameSpace.EVENTS.SCRUBBED,"YouboraAnalytics",this.thisOO._.bind(this.onSeekHandler,this)),this.mb.subscribe(nameSpace.EVENTS.EMBED_CODE_CHANGED,"YouboraAnalytics",this.thisOO._.bind(this.onEmbedCodeChanged,this)),this.mb.subscribe(nameSpace.EVENTS.BITRATE_CHANGED,"YouboraAnalytics",this.thisOO._.bind(this.onBitrateChanged,this)),this.mb.subscribe(nameSpace.EVENTS.PRELOAD_STREAM,"YouboraAnalytics",this.thisOO._.bind(this.onPreloadStream,this)),this.mb.subscribe(nameSpace.EVENTS.DOWNLOADING,"YouboraAnalytics",this.thisOO._.bind(this.onDownloading,this)),this.mb.subscribe(nameSpace.EVENTS.CONTENT_TREE_FETCHED,"YouboraAnalytics",this.thisOO._.bind(this.onContentTreeFetchedHandler,this)),this.mb.subscribe(nameSpace.EVENTS.ADS_PLAYED,"YouboraAnalytics",this.thisOO._.bind(this.adsPlayed,this)),this.mb.subscribe("adPlayCompleted","YouboraAnalytics",this.thisOO._.bind(this.adsPlayed,this)),this.mb.subscribe("adPlayStarted","YouboraAnalytics",this.thisOO._.bind(this.adPlayStarted,this)),this.mb.subscribe(nameSpace.EVENTS.WILL_PLAY_ADS,"YouboraAnalytics",this.thisOO._.bind(this.adsWillPlay,this)),this.mb.subscribe(nameSpace.EVENTS.WILL_PLAY_SINGLE_AD,"YouboraAnalytics",this.thisOO._.bind(this.adsWillPlay,this)),this.mb.subscribe(nameSpace.EVENTS.WILL_PLAY,"YouboraAnalytics",this.thisOO._.bind(this.videoWillPlay,this)),this.mb.subscribe(nameSpace.EVENTS.METADATA_FETCHED,"YouboraAnalytics",this.thisOO._.bind(this.metadataFetched,this))}catch(err){this.youboraData.debug&&console.log(err)}try{this.youboraData.debug&&this.mb.subscribe("*","YouboraAnalytics",this.thisOO._.bind(this.eventDebug,this))}catch(err){this.youboraData.debug&&console.log(err)}},replayOoyalaEvent:function(t){try{var a=t.args[0],i=t.args,e=t.time;switch(a){case this.ooyalaEvents.METADATA_FETCHED:this.metadataFetched(i[0],i[1]);break;case this.ooyalaEvents.PLAYER_CREATED:this.onPlayerCreate(i[0],i[1],i[2]);break;case this.ooyalaEvents.EMBED_CODE_CHANGED:this.onEmbedCodeChanged(i[0],i[1],i[2]);break;case this.ooyalaEvents.CONTENT_TREE_FETCHED:this.onContentTreeFetchedHandler(i[0],i[1]);break;case this.ooyalaEvents.AUTHORIZATION_FETCHED:this.onAuthorizationFetched(i[0],i[1]);break;case this.ooyalaEvents.PRELOAD_STREAM:this.onPreloadStream(i[0],i[1]);break;case this.ooyalaEvents.ERROR:this.onErrorHandler(i[0],i[1]);break;case this.ooyalaEvents.PAUSED:case this.ooyalaEvents.STREAM_PAUSED:this.onPauseHandler(i[0]);break;case this.ooyalaEvents.PLAYING:case this.ooyalaEvents.STREAM_PLAYING:this.onPlayingHandler(i[0],e);break;case this.ooyalaEvents.PLAYED:case this.ooyalaEvents.STREAM_PLAYED:this.onStopHandler(i[0]);break;case this.ooyalaEvents.PLAY:case this.ooyalaEvents.INITIAL_PLAY:this.onPlayHandler(i[0],e);break;case this.ooyalaEvents.PLAY_STREAM:this.onPlayStreamHandler(i[0],e);break;case this.ooyalaEvents.BUFFERED:this.onBufferedHandler(i[0],i[1],e);break;case this.ooyalaEvents.BUFFERING:this.onBufferingHandler(i[0],e);break;case this.ooyalaEvents.PLAYBACK_READY:this.onPlaybackReadyHandler(i[0],i[1]);break;case this.ooyalaEvents.PLAYHEAD_TIME_CHANGED:this.onPlayheadChangedHandler(i[0],i[1],i[2],i[3],e);break;case this.ooyalaEvents.BITRATE_CHANGED:this.onBitrateChanged(i[0],i[1]);break;case this.ooyalaEvents.DOWNLOADING:this.onDownloading(i[0],i[1],i[2],i[3],i[4],i[5]);break;case this.ooyalaEvents.ADS_PLAYED:case"adPlayCompleted":this.adsPlayed(i[0],e);break;case this.ooyalaEvents.WILL_PLAY_ADS:case this.ooyalaEvents.WILL_PLAY_SINGLE_AD:this.adsWillPlay(i[0],e);break;case"adPlayStarted":this.adPlayStarted(i[0],i[1],e);break;case this.ooyalaEvents.WILL_PLAY:this.videoWillPlay(i[0]);break;case this.ooyalaEvents.SEEK:case this.ooyalaEvents.SCRUBBING:case this.ooyalaEvents.SCRUBBED:this.onSeekHandler(i[0],i[1],e)}}catch(s){this.youboraData.debug&&console.log(s)}},updateYouboraMetadataContent:function(t){try{void 0!=t&&(void 0!=t.Youbora_accountCode&&(this.youboraData.accountCode=t.Youbora_accountCode),void 0!=t.Youbora_username&&(this.youboraData.username=t.Youbora_username),void 0!=t.Youbora_transactionCode&&(this.youboraData.transaction=t.Youbora_transactionCode),void 0!=t.Youbora_live&&(this.youboraData.live=t.Youbora_live,this.isLive=t.Youbora_live),void 0!=t.Youbora_ip&&(this.youboraData.text_ip=t.Youbora_ip),void 0!=t.Youbora_isp&&(this.youboraData.text_isp=t.Youbora_isp),void 0!=t.Youbora_cdn&&(this.youboraData.text_cdn=t.Youbora_cdn),void 0!=t.properties&&(this.youboraData.properties=t.properties))}catch(a){this.youboraData.debug&&console.log(a)}},setYouboraExtraParams:function(t){try{void 0!=t&&(void 0!=t.param1&&(this.youboraData.extraParams.extraparam1=t.param1),void 0!=t.param2&&(this.youboraData.extraParams.extraparam2=t.param2),void 0!=t.param3&&(this.youboraData.extraParams.extraparam3=t.param3),void 0!=t.param4&&(this.youboraData.extraParams.extraparam4=t.param4),void 0!=t.param5&&(this.youboraData.extraParams.extraparam5=t.param5),void 0!=t.param6&&(this.youboraData.extraParams.extraparam6=t.param6),void 0!=t.param7&&(this.youboraData.extraParams.extraparam7=t.param7),void 0!=t.param8&&(this.youboraData.extraParams.extraparam8=t.param8),void 0!=t.param9&&(this.youboraData.extraParams.extraparam9=t.param9),void 0!=t.param10&&(this.youboraData.extraParams.extraparam10=t.param10))}catch(a){this.youboraData.debug&&console.log(a)}},enableAdsTracking:function(){this.youboraData.trackingAds=!0},disableAdsTracking:function(){this.youboraData.trackingAds=!1},enableYouboraResume:function(t){try{this.youboraData.resumeProperties.resumeEnabled=!0,void 0!=t.contentId&&(this.youboraData.contentId=t.contentId),void 0!=t.resumeCallback&&(this.youboraData.resumeProperties.resumeCallback=t.resumeCallback),null!=this.communications&&this.communications.enableResume()}catch(a){this.youboraData.debug&&console.log(a)}},disableYouboraResume:function(){try{this.youboraData.resumeProperties.resumeEnabled=!1,null!=this.communications&&this.communications.disableResume()}catch(t){this.youboraData.debug&&console.log(t)}},enableYouboraConcurrency:function(t){try{this.youboraData.concurrencyProperties.enabled=!0,void 0!=t.contentId&&(this.youboraData.contentId=t.contentId),void 0!=t.concurrencyCode&&(this.youboraData.concurrencyProperties.contentId=t.concurrencyCode),void 0!=t.concurrencyMaxCount&&(this.youboraData.concurrencyProperties.concurrencyMaxCount=t.concurrencyMaxCount),void 0!=t.concurrencyRedirectUrl&&(this.youboraData.concurrencyProperties.concurrencyRedirectUrl=t.concurrencyRedirectUrl),void 0!=t.concurrencyIpMode&&(this.youboraData.concurrencyProperties.concurrencyIpMode=t.concurrencyIpMode),null!=this.communications&&this.communications.enableConcurrency()}catch(a){this.youboraData.debug&&console.log(a)}},disableYouboraConcurrency:function(){try{this.youboraData.concurrencyProperties.enabled=!1,null!=this.communications&&this.communications.disableConcurrency()}catch(t){this.youboraData.debug&&console.log(t)}},forceStopPlugin:function(){this.stop()},onPlayerCreate:function(t,a,i){try{this.isFlashPlugin||(this.player=document.getElementsByTagName("video")[0])}catch(e){this.youboraData.debug&&console.log(e)}try{void 0!=i.npaw_extra_params&&(void 0!=i.npaw_extra_params.extraParam1&&(this.youboraData.extraParams.extraparam1=i.npaw_extra_params.extraParam1),void 0!=i.npaw_extra_params.extraParam2&&(this.youboraData.extraParams.extraparam2=i.npaw_extra_params.extraParam2),void 0!=i.npaw_extra_params.extraParam3&&(this.youboraData.extraParams.extraparam3=i.npaw_extra_params.extraParam3),void 0!=i.npaw_extra_params.extraParam4&&(this.youboraData.extraParams.extraparam4=i.npaw_extra_params.extraParam4),void 0!=i.npaw_extra_params.extraParam5&&(this.youboraData.extraParams.extraparam5=i.npaw_extra_params.extraParam5),void 0!=i.npaw_extra_params.extraParam6&&(this.youboraData.extraParams.extraparam6=i.npaw_extra_params.extraParam6),void 0!=i.npaw_extra_params.extraParam7&&(this.youboraData.extraParams.extraparam7=i.npaw_extra_params.extraParam7),void 0!=i.npaw_extra_params.extraParam8&&(this.youboraData.extraParams.extraparam8=i.npaw_extra_params.extraParam8),void 0!=i.npaw_extra_params.extraParam9&&(this.youboraData.extraParams.extraparam9=i.npaw_extra_params.extraParam9),void 0!=i.npaw_extra_params.extraParam10&&(this.youboraData.extraParams.extraparam10=i.npaw_extra_params.extraParam10),void 0!=i.npaw_extra_params.transaction&&(this.youboraData.transaction=i.npaw_extra_params.transaction),void 0!=i.npaw_extra_params.username&&(this.youboraData.username=i.npaw_extra_params.username))}catch(e){this.youboraData.debug&&console.log(e)}},metadataFetched:function(t,a){try{void 0!=a.modules&&void 0!=a.modules.npaw&&(this.youboraData.accountCode=a.modules.npaw.metadata.npaw_account,this.communications=new YouboraCommunication(this.youboraData.accountCode,this.youboraData.service,this.pluginVersion,this.targetDevice,this.youboraData),this.pamPingTime=this.communications.getPingTime(),0==this.pamPingTime&&(this.pamPingTime=5e3),this.reset()),(void 0==this.youboraData.accountCode||""==this.youboraData.accountCode)&&(this.youboraData.accountCode="ooyalaqa",this.communications=new YouboraCommunication(this.youboraData.accountCode,this.youboraData.service,this.pluginVersion,this.targetDevice,this.youboraData),this.pamPingTime=this.communications.getPingTime(),0==this.pamPingTime&&(this.pamPingTime=5e3),this.reset())}catch(i){this.youboraData.debug&&console.log(i)}},onContentTreeFetchedHandler:function(t,a){try{void 0!=a.title&&(this.youboraData.properties.content_metadata.title=a.title)}catch(i){this.youboraData.debug&&console.log(i)}try{void 0==a.streamUrl||this.resource&&0!==this.resource.indexOf("rtmp")||(this.resource=a.streamUrl)}catch(i){this.youboraData.debug&&console.log(i)}try{this.isFlashPlugin?this.videoDuration=a.time:this.videoDuration=a.duration/1e3,this.youboraData.properties.content_metadata.duration=this.videoDuration}catch(i){this.youboraData.debug&&console.log(i)}try{this.isFlashPlugin&&void 0!=a.isLiveStream&&(this.youboraData.live=a.isLiveStream,this.isLive=this.youboraData.live)}catch(i){this.youboraData.debug&&console.log(i)}try{void 0!=a.title&&null!=this.errorLastEvent?this.forceSendError():void 0!=a.title&&this.startLastTime>0&&this.sendStartDelay()}catch(i){this.youboraData.debug&&console.log(i)}},onAuthorizationFetched:function(t,a){this.isLive=!1;try{void 0!=a&&(this.isFlashPlugin&&void 0!=a.authorization_data?void 0!=a.authorization_data.xzd294czqox5xG6QtulBzKPM1Vq8Vwkm&&void 0!=a.authorization_data.xzd294czqox5xG6QtulBzKPM1Vq8Vwkm.streams&&void 0!=a.authorization_data.xzd294czqox5xG6QtulBzKPM1Vq8Vwkm.streams[0]&&(void 0!=a.authorization_data.xzd294czqox5xG6QtulBzKPM1Vq8Vwkm.streams[0].video_bitrate&&(this.bitrate=a.authorization_data.xzd294czqox5xG6QtulBzKPM1Vq8Vwkm.streams[0].video_bitrate),void 0!=a.authorization_data.xzd294czqox5xG6QtulBzKPM1Vq8Vwkm.streams[0].is_live_stream&&(this.youboraData.live=a.authorization_data.xzd294czqox5xG6QtulBzKPM1Vq8Vwkm.streams[0].is_live_stream,this.isLive=this.youboraData.live)):void 0!=a.streams&&void 0!=a.streams[0]&&(void 0!=a.streams[0].video_bitrate&&(this.bitrate=a.streams[0].video_bitrate),void 0!=a.streams[0].is_live_stream&&(this.youboraData.live=a.streams[0].is_live_stream,this.isLive=this.youboraData.live)))}catch(i){this.youboraData.debug&&console.log(i)}},onDownloading:function(t,a,i,e,s,n){if((""==this.resource||void 0==this.resource)&&(this.resource=n),this.isFlashPlugin)try{this.isJoinEventSent||this.isBufferRunning?this.isJoinEventSent&&!this.isBufferRunning&&(this.isBufferRunning=!0,this.buffer(YouboraPluginAnalyticsEvents.BUFFER_BEGIN,this.seekEvent)):(this.isBufferRunning=!0,this.join(YouboraPluginAnalyticsEvents.BUFFER_BEGIN))}catch(o){this.youboraData.debug&&console.log(o)}this.isFlashPlugin&&this.readyForSendStart()},onBitrateChanged:function(t,a){try{this.bitrate=a.videoBitrate}catch(i){this.youboraData.debug&&console.log(i)}},onPreloadStream:function(t,a){this.resource=a},onPlayingHandler:function(t,a){0==this.activeAdvertisment&&(this.isStartEventSent?(this.isPauseEventSent&&(this.isPauseEventSent=!1,this.resume()),this.trySendBuffer()):this.readyForSendStart()),this.seekEvent&&(this.buffer(YouboraPluginAnalyticsEvents.BUFFER_END,this.seekEvent,a),0==this.replaySeekEvent?this.seekEvent=!1:(this.replaySeekEvent=!1,this.seekEvent=!0))},trySendJoin:function(){this.isStartEventSent&&this.isBufferRunning&&!this.activeAdvertisment?(this.join(YouboraPluginAnalyticsEvents.BUFFER_END),this.isBufferRunning=!1,this.join(YouboraPluginAnalyticsEvents.JOIN_SEND)):!this.isStartEventSent||this.isJoinEventSent||this.activeAdvertisment||(this.isFixJoinTime=!0,this.join(YouboraPluginAnalyticsEvents.BUFFER_END),this.isBufferRunning=!1,this.join(YouboraPluginAnalyticsEvents.JOIN_SEND),this.isBufferRunning=!1)},trySendBuffer:function(){this.isStartEventSent&&this.isJoinEventSent&&this.isBufferRunning&&!this.activeAdvertisment&&(this.buffer(YouboraPluginAnalyticsEvents.BUFFER_END,this.seekEvent),this.seekEvent=!1,this.isBufferRunning=!1)},onPlayHandler:function(t,a){0==this.activeAdvertisment&&0==this.isStartEventSent&&(this.isStartEventSent=!0,this.seekEvent&&(this.seekEvent=!1),this.start()),this.isJoinEventSent||this.isBufferRunning||(this.isBufferRunning=!0,this.join(YouboraPluginAnalyticsEvents.BUFFER_BEGIN,a))},onPlayStreamHandler:function(t,a){0==this.isFlashPlugin&&(0==this.activeAdvertisment&&0==this.isStartEventSent&&(this.isStartEventSent=!0,this.start()),this.isJoinEventSent||this.isBufferRunning||(this.isBufferRunning=!0,this.join(YouboraPluginAnalyticsEvents.BUFFER_BEGIN,a)),this.readyForSendStart())},onBufferingHandler:function(t,a,i,e,s,n){try{this.isJoinEventSent||this.isBufferRunning?this.isJoinEventSent&&!this.isBufferRunning&&(this.isBufferRunning=!0,this.buffer(YouboraPluginAnalyticsEvents.BUFFER_BEGIN,this.seekEvent,n)):(this.isBufferRunning=!0,this.join(YouboraPluginAnalyticsEvents.BUFFER_BEGIN,n))}catch(o){this.youboraData.debug&&console.log(o)}},onPlayheadChangedHandler:function(t,a,i,e,s){try{this.progressCount=0,null!=this.videoDuration&&"undefinded"!=this.videoDuration&&!isNaN(this.videoDuration)||0!=this.activeAdvertisment||(this.videoDuration=i),0==isNaN(a)?this.playTime=Math.round(a):this.playTime=0,!this.isJoinEventSent&&void 0!=a&&a>0&&this.trySendJoin()}catch(n){this.youboraData.debug&&console.log(n)}},onBufferedHandler:function(t,a,i){this.isJoinEventSent||!this.isBufferRunning||this.activeAdvertisment||this.join(YouboraPluginAnalyticsEvents.BUFFER_END,i)},onSeekHandler:function(t,a,i){this.seekEvent=!0,this.buffer(YouboraPluginAnalyticsEvents.BUFFER_BEGIN,this.seekEvent,i)},onPauseHandler:function(t){!this.isStartEventSent||this.isPauseEventSent||this.seekEvent||(this.isPauseEventSent=!0,this.communications.sendPause())},onStopHandler:function(t){0==this.activeAdvertisment&&(this.isStopEventSent||(this.isStopEventSent=!0,this.stop()))},onErrorHandler:function(t,a){try{if(""==this.youboraData.properties.content_metadata.title){this.errorLastEvent=a,this.errorDelayTimer=setTimeout(this.forceSendError.bind(this,a),this.errorDelayMillis);var i=new Date;this.errorLastTime=i.getTime()}else this.error(a.code),this.isStopEventSent||(this.isStopEventSent=!0,this.stop())}catch(e){this.youboraData.debug&&console.log(e)}},forceSendError:function(){try{null!=this.errorLastEvent&&this.errorLastTime>0&&(this.error(this.errorLastEvent.code),this.errorLastEvent=null,this.errorLastTime=0,this.isStopEventSent||(this.isStopEventSent=!0,this.stop())),void 0!=this.errorDelayTimer&&null!=this.errorDelayTimer&&(clearTimeout(this.errorDelayTimer),this.errorDelayTimer=null)}catch(t){this.youboraData.debug&&console.log(t)}},onPlaybackReadyHandler:function(t,a){},onEmbedCodeChanged:function(t,a,i){try{if(null!=this.errorLastEvent){var e=new Date,s=e.getTime(),n=s-this.errorLastTime;n>1e3&&this.forceSendError()}}catch(o){this.youboraData.debug&&console.log(o)}try{void 0!=a&&(this.videoDuration=a.time,this.youboraData.properties.content_metadata.duration=this.videoDuration,this.youboraData.properties.content_metadata.title="",this.resource=""),this.isStartEventSent?this.stop():this.reset()}catch(o){this.youboraData.debug&&console.log(o)}},adPlayStarted:function(t,a,i){0==this.isStartEventSent&&(this.isStartEventSent=!0,this.start()),this.activeAdvertisment=!0,this.adsEvent(YouboraPluginAnalyticsEvents.ADS_BEGIN,i)},adsWillPlay:function(t,a){this.activeAdvertisment=!0,this.isBufferRunning=!1,this.adsEvent(YouboraPluginAnalyticsEvents.ADS_BEGIN,a)},adsPlayed:function(t,a){this.activeAdvertisment=!1,this.adsEvent(YouboraPluginAnalyticsEvents.ADS_END,a)},adsError:function(t){},videoWillPlay:function(t){},eventDebug:function(t,a,i,e,s,n){try{if("playheadTimeChanged"!=t&&"downloading"!=t){var o=new Date,r=o.getHours(),h=o.getMinutes(),u=o.getSeconds(),c=o.getMilliseconds();10>h&&(h="0"+h),console.log("[LISTEN]"+r+": "+h+": "+u+"."+c+" => "+t),console.log("            * "+a+" | "+i+" | "+e+" | "+s+" | "+n)}}catch(l){this.youboraData.debug&&console.log(l)}},readyForSendStart:function(){try{0==this.activeAdvertisment&&0==this.isStartEventSent&&""!=this.resource&&(this.isStartEventSent=!0,this.start())}catch(t){this.youboraData.debug&&console.log(t)}},reset:function(){try{this.isStopEventSent=!1,this.isStartEventSent=!1,this.isJoinEventSent=!1,this.isBufferRunning=!1,this.isPauseEventSent=!1,this.isAdsEventSent=!1,this.bufferTimeBegin=0,this.adsTimeBegin=0,this.joinTimeBegin=0,this.joinTimeEnd=0,this.activeAdvertisment=!1,clearTimeout(this.pingTimer),clearTimeout(this.bufferCheckTimer),this.pingTimer=null,this.lastPingTime=0,this.diffTime=0}catch(t){this.youboraData.debug&&console.log(t)}},join:function(t,a){var i=new Date,e=0;try{var s=i.getTime();void 0!=a&&a>0&&(s=a),t==YouboraPluginAnalyticsEvents.BUFFER_BEGIN?this.joinTimeBegin=s:t==YouboraPluginAnalyticsEvents.BUFFER_END?this.joinTimeEnd=s:t!=YouboraPluginAnalyticsEvents.JOIN_SEND||this.isJoinEventSent||((0!=this.joinTimeBegin||this.isFixJoinTime)&&(0==this.isFixJoinTime?(e=this.joinTimeEnd-this.joinTimeBegin,0>=e&&(e=10)):(e=100,this.isFixJoinTime=!1),(void 0==this.playTime||isNaN(this.playTime))&&(this.playTime=0),this.communications.sendJoin(Math.round(this.playTime),e),this.isJoinEventSent=!0,this.joinTimeBegin=0),this.isFlashPlugin||this.setBufferCheck())}catch(n){this.youboraData.debug&&console.log(n)}},buffer:function(t,a,i){var e=new Date,s=0,n=0;try{var o=e.getTime();void 0!=i&&i>0&&(o=i),t===YouboraPluginAnalyticsEvents.BUFFER_BEGIN?this.bufferTimeBegin=o:t===YouboraPluginAnalyticsEvents.BUFFER_END&&0!==this.bufferTimeBegin&&(s=o,n=s-this.bufferTimeBegin,this.bufferTimeBegin=0,a?this.communications.sendSeek(Math.round(this.playTime),n):(this.isFlashPlugin||n>880)&&this.communications.sendBuffer(Math.round(this.playTime),n))}catch(r){this.youboraData.debug&&console.log(r)}},adsEvent:function(t,a){try{var i=new Date,e=0,s=0,n=i.getTime();void 0!=a&&a>0&&(n=a),t==YouboraPluginAnalyticsEvents.ADS_BEGIN?(this.adsTimeBegin=n,this.isAdsEventSent=!1):t==YouboraPluginAnalyticsEvents.ADS_END&&(0==this.isJoinEventSent?this.joinTimeBegin=n:this.bufferTimeBegin=n,0==this.isAdsEventSent&&0!=this.adsTimeBegin&&(e=n,s=e-this.adsTimeBegin,this.youboraData.trackingAds&&this.communications.sendAds(Math.round(this.playTime),s),this.adsTimeBegin=0,this.isAdsEventSent=!0))}catch(o){this.youboraData.debug&&console.log(o)}},start:function(){try{if(""!=this.resource&&""!=this.youboraData.properties.content_metadata.title){var t=new Date;this.communications.sendStart(0,window.location.href,this.getMetadata(),this.isLive,this.resource,this.videoDuration,this.youboraData.transaction),this.setPing(),this.lastPingTime=t.getTime()}else{var a=this,t=new Date;this.startDelayTimer=setTimeout(function(){a.sendStartDelay()},this.startDelayMillis),this.startLastTime=t.getTime(),this.setPing(),this.lastPingTime=t.getTime()}}catch(i){this.youboraData.debug&&console.log(i)}},sendStartDelay:function(){try{clearTimeout(this.startDelayTimer),this.startDelayTimer=null,this.communications.sendStart(0,window.location.href,this.getMetadata(),this.isLive,this.resource,this.videoDuration,this.youboraData.transaction)}catch(t){this.youboraData.debug&&console.log(t)}},setPing:function(){var t=this;this.pingTimer=setTimeout(function(){t.ping()},this.pamPingTime)},ping:function(){new Date;clearTimeout(this.pingTimer);try{this.isJoinEventSent?this.activeAdvertisment?this.communications.sendPingTotalBitrate(this.lastBitrate,Math.round(this.lastPingTime)):(this.communications.sendPingTotalBitrate(this.getBitrate(),Math.round(this.playTime)),this.lastPingTime=Math.round(this.playTime),this.lastBitrate=this.getBitrate()):this.communications.sendPingTotalBitrate(this.getBitrate(),0),this.setPing()}catch(t){this.youboraData.debug&&console.log(t)}},getBitrate:function(){try{return 0==this.bitrate||void 0==this.bitrate?-1:1024*this.bitrate}catch(t){this.youboraData.debug&&console.log(t)}},getMetadata:function(){try{var t=JSON.stringify(this.youboraData.properties),a=encodeURI(t);return a}catch(i){this.youboraData.debug&&console.log(i)}},resume:function(){try{this.communications.sendResume()}catch(t){this.youboraData.debug&&console.log(t)}},stop:function(){try{this.communications.sendStop(),clearTimeout(this.pingTimer),this.pingTimer=null,this.reset()}catch(t){this.youboraData.debug&&console.log(t)}},error:function(t){try{var a=t;void 0==a&&(a=t),this.communications.sendAdvancedError(a,this.pluginType,t,0,window.location.href,this.getMetadata(),this.isLive,this.resource,this.videoDuration),clearTimeout(this.pingTimer),this.pingTimer=null}catch(i){this.youboraData.debug&&console.log(i)}},errorAndContinue:function(t){try{var a=t;void 0==a&&(a=t),this.communications.sendAdvancedError(a,this.pluginType,t,0,window.location.href,this.getMetadata(),this.isLive,this.resource,this.videoDuration)}catch(i){this.youboraData.debug&&console.log(i)}},setBufferCheck:function(){try{var t=this;this.bufferCheckTimer=setTimeout(function(){t.bufferCheck()},800)}catch(a){this.youboraData.debug&&console.log(a)}},bufferCheck:function(){try{0==this.activeAdvertisment&&(this.isPauseEventSent||this.seekEvent||(!this.isBufferRunning&&Math.abs(1e3*this.lastTime-1e3*this.player.currentTime)<600?(this.buffer(YouboraPluginAnalyticsEvents.BUFFER_BEGIN,!1),this.isBufferRunning=!0):this.isBufferRunning&&Math.abs(1e3*this.lastTime-1e3*this.player.currentTime)>600&&(this.buffer(YouboraPluginAnalyticsEvents.BUFFER_END,this.seekEvent),this.isBufferRunning=!1)),this.lastTime=this.player.currentTime),this.setBufferCheck()}catch(t){this.youboraData.debug&&console.log(t)}},__end_marker:!0};